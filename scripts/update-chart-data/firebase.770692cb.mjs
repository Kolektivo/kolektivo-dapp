Array.prototype.sum = function() {
  return this.reduce((r, e) => r + e, 0);
};
function Rr(r) {
  return typeof r == "object" && r !== null || typeof r == "function";
}
function Ud(r) {
  return r == null;
}
let oc = /* @__PURE__ */ new WeakMap();
const or = (r, e, t, n, i) => new TypeError(`${r}(${e.map(String).join(",")}) - Expected '${t}' to be of type ${i}, but got: ${Object.prototype.toString.call(n)} (${String(n)})`);
function hs(r) {
  switch (typeof r) {
    case "undefined":
    case "string":
    case "symbol":
      return r;
    default:
      return `${r}`;
  }
}
function t3(r) {
  switch (typeof r) {
    case "string":
    case "symbol":
      return r;
    default:
      return `${r}`;
  }
}
function r3(r) {
  switch (typeof r) {
    case "undefined":
    case "string":
    case "symbol":
      return r;
    default:
      throw new TypeError(`Invalid metadata propertyKey: ${r}.`);
  }
}
function Dc(r, e, t) {
  let n = oc.get(r);
  if (n === void 0) {
    if (!t)
      return;
    n = /* @__PURE__ */ new Map(), oc.set(r, n);
  }
  let i = n.get(e);
  if (i === void 0) {
    if (!t)
      return;
    i = /* @__PURE__ */ new Map(), n.set(e, i);
  }
  return i;
}
function Vd(r, e, t) {
  const n = Dc(e, t, !1);
  return n === void 0 ? !1 : n.has(r);
}
function h1(r, e, t) {
  if (Vd(r, e, t))
    return !0;
  const n = jd(e);
  return n !== null ? h1(r, n, t) : !1;
}
function f1(r, e, t) {
  const n = Dc(e, t, !1);
  if (n !== void 0)
    return n.get(r);
}
function d1(r, e, t) {
  if (Vd(r, e, t))
    return f1(r, e, t);
  const n = jd(e);
  if (n !== null)
    return d1(r, n, t);
}
function p1(r, e, t, n) {
  Dc(t, n, !0).set(r, e);
}
function g1(r, e) {
  const t = [], n = Dc(r, e, !1);
  if (n === void 0)
    return t;
  const i = n.keys();
  let s = 0;
  for (const o of i)
    t[s] = o, ++s;
  return t;
}
function m1(r, e) {
  const t = g1(r, e), n = jd(r);
  if (n === null)
    return t;
  const i = m1(n, e), s = t.length;
  if (s === 0)
    return i;
  const o = i.length;
  if (o === 0)
    return t;
  const a = /* @__PURE__ */ new Set(), c = [];
  let l = 0, f;
  for (let p = 0; p < s; ++p)
    f = t[p], a.has(f) || (a.add(f), c[l] = f, ++l);
  for (let p = 0; p < o; ++p)
    f = i[p], a.has(f) || (a.add(f), c[l] = f, ++l);
  return c;
}
function n3(r, e, t) {
  const n = Dc(r, t, !1);
  return n === void 0 ? !1 : n.delete(e);
}
function i3(r, e) {
  function t(n, i) {
    if (!Rr(n))
      throw or("@metadata", [r, e, n, i], "target", n, "Object or Function");
    p1(r, e, n, r3(i));
  }
  return t;
}
function s3(r, e, t, n) {
  if (t !== void 0) {
    if (!Array.isArray(r))
      throw or("Metadata.decorate", [r, e, t, n], "decorators", r, "Array");
    if (!Rr(e))
      throw or("Metadata.decorate", [r, e, t, n], "target", e, "Object or Function");
    if (!Rr(n) && !Ud(n))
      throw or("Metadata.decorate", [r, e, t, n], "attributes", n, "Object, Function, null, or undefined");
    return n === null && (n = void 0), t = t3(t), a3(r, e, t, n);
  } else {
    if (!Array.isArray(r))
      throw or("Metadata.decorate", [r, e, t, n], "decorators", r, "Array");
    if (typeof e != "function")
      throw or("Metadata.decorate", [r, e, t, n], "target", e, "Function");
    return o3(r, e);
  }
}
function o3(r, e) {
  for (let t = r.length - 1; t >= 0; --t) {
    const n = r[t], i = n(e);
    if (!Ud(i)) {
      if (typeof i != "function")
        throw or("DecorateConstructor", [r, e], "decorated", i, "Function, null, or undefined");
      e = i;
    }
  }
  return e;
}
function a3(r, e, t, n) {
  for (let i = r.length - 1; i >= 0; --i) {
    const s = r[i], o = s(e, t, n);
    if (!Ud(o)) {
      if (!Rr(o))
        throw or("DecorateProperty", [r, e, t, n], "decorated", o, "Object, Function, null, or undefined");
      n = o;
    }
  }
  return n;
}
function b1(r, e, t, n) {
  if (!Rr(t))
    throw or("Metadata.define", [r, e, t, n], "target", t, "Object or Function");
  return p1(r, e, t, hs(n));
}
function x1(r, e, t) {
  if (!Rr(e))
    throw or("Metadata.has", [r, e, t], "target", e, "Object or Function");
  return h1(r, e, hs(t));
}
function v1(r, e, t) {
  if (!Rr(e))
    throw or("Metadata.hasOwn", [r, e, t], "target", e, "Object or Function");
  return Vd(r, e, hs(t));
}
function y1(r, e, t) {
  if (!Rr(e))
    throw or("Metadata.get", [r, e, t], "target", e, "Object or Function");
  return d1(r, e, hs(t));
}
function w1(r, e, t) {
  if (!Rr(e))
    throw or("Metadata.getOwn", [r, e, t], "target", e, "Object or Function");
  return f1(r, e, hs(t));
}
function A1(r, e) {
  if (!Rr(r))
    throw or("Metadata.getKeys", [r, e], "target", r, "Object or Function");
  return m1(r, hs(e));
}
function S1(r, e) {
  if (!Rr(r))
    throw or("Metadata.getOwnKeys", [r, e], "target", r, "Object or Function");
  return g1(r, hs(e));
}
function C1(r, e, t) {
  if (!Rr(e))
    throw or("Metadata.delete", [r, e, t], "target", e, "Object or Function");
  return n3(e, r, hs(t));
}
const Qn = {
  define: b1,
  has: x1,
  hasOwn: v1,
  get: y1,
  getOwn: w1,
  getKeys: A1,
  getOwnKeys: S1,
  delete: C1
}, c3 = (r, e, t, n, i) => {
  if (!Reflect.defineProperty(r, e, {
    writable: n,
    enumerable: !1,
    configurable: i,
    value: t
  }))
    throw jf(`AUR1000:${e}`);
}, Wa = "[[$au]]", l3 = (r) => Wa in r, Op = (r, e, t) => [[Wa, oc], ["metadata", i3], ["decorate", s3], ["defineMetadata", b1], ["hasMetadata", x1], ["hasOwnMetadata", v1], ["getMetadata", y1], ["getOwnMetadata", w1], ["getMetadataKeys", A1], ["getOwnMetadataKeys", S1], ["deleteMetadata", C1]].forEach(([n, i]) => c3(r, n, i, e, t)), u3 = (r, e = !0, t = !1, n = !0, i = !0) => {
  if (l3(r)) {
    if (r[Wa] === oc)
      return;
    if (r[Wa] instanceof WeakMap) {
      oc = r[Wa];
      return;
    }
    throw jf("AUR1001");
  }
  const s = "metadata decorate defineMetadata hasMetadata hasOwnMetadata getMetadata getOwnMetadata getMetadataKeys getOwnMetadataKeys deleteMetadata".split(" ").filter((o) => o in Reflect);
  if (s.length > 0)
    if (e) {
      const o = s.map(function(a) {
        const c = `${Reflect[a].toString().slice(0, 100)}...`;
        return `${a}:
${c}`;
      }).join(`

`);
      throw jf(`AUR1002:${o}`);
    } else
      t && Op(r, n, i);
  else
    Op(r, n, i);
}, jf = (r) => new Error(r), jd = Object.getPrototypeOf, ia = String, Pr = Qn.getOwn, h3 = Qn.hasOwn, as = Qn.define, bi = (r) => typeof r == "function", Zl = (r) => typeof r == "string", di = () => /* @__PURE__ */ Object.create(null), Lt = (r) => new Error(r), ll = {}, ac = (r) => {
  switch (typeof r) {
    case "number":
      return r >= 0 && (0 | r) === r;
    case "string": {
      const e = ll[r];
      if (e !== void 0)
        return e;
      const t = r.length;
      if (t === 0)
        return ll[r] = !1;
      let n = 0, i = 0;
      for (; i < t; ++i)
        if (n = Zt(r, i), i === 0 && n === 48 && t > 1 || n < 48 || n > 57)
          return ll[r] = !1;
      return ll[r] = !0;
    }
    default:
      return !1;
  }
}, E1 = function() {
  const r = Object.assign(di(), {
    0: !0,
    1: !0,
    2: !0,
    3: !0,
    4: !0,
    5: !0,
    6: !0,
    7: !0,
    8: !0,
    9: !0
  }), e = (t) => t === "" ? 0 : t !== t.toUpperCase() ? 3 : t !== t.toLowerCase() ? 2 : r[t] === !0 ? 1 : 0;
  return (t, n) => {
    const i = t.length;
    if (i === 0)
      return t;
    let s = !1, o = "", a, c = "", l = 0, f = t.charAt(0), p = e(f), b = 0;
    for (; b < i; ++b)
      a = l, c = f, l = p, f = t.charAt(b + 1), p = e(f), l === 0 ? o.length > 0 && (s = !0) : (!s && o.length > 0 && l === 2 && (s = a === 3 || p === 3), o += n(c, s), s = !1);
    return o;
  };
}(), Hr = function() {
  const r = di(), e = (t, n) => n ? t.toUpperCase() : t.toLowerCase();
  return (t) => {
    let n = r[t];
    return n === void 0 && (n = r[t] = E1(t, e)), n;
  };
}(), f3 = function() {
  const r = di();
  return (e) => {
    let t = r[e];
    return t === void 0 && (t = Hr(e), t.length > 0 && (t = t[0].toUpperCase() + t.slice(1)), r[e] = t), t;
  };
}(), _1 = function() {
  const r = di(), e = (t, n) => n ? `-${t.toLowerCase()}` : t.toLowerCase();
  return (t) => {
    let n = r[t];
    return n === void 0 && (n = r[t] = E1(t, e)), n;
  };
}(), Gh = (r) => {
  const e = r.length, t = Array(e);
  let n = 0;
  for (; n < e; ++n)
    t[n] = r[n];
  return t;
}, sa = (r, e, t) => ({
  configurable: !0,
  enumerable: t.enumerable,
  get() {
    const n = t.value.bind(this);
    return Reflect.defineProperty(this, e, {
      value: n,
      writable: !0,
      configurable: !0,
      enumerable: t.enumerable
    }), n;
  }
}), It = (...r) => {
  const e = [];
  let t = 0;
  const n = r.length;
  let i = 0, s, o = 0;
  for (; o < n; ++o)
    if (s = r[o], s !== void 0) {
      i = s.length;
      let a = 0;
      for (; a < i; ++a)
        e[t++] = s[a];
    }
  return e;
}, ir = (...r) => {
  const e = r.length;
  let t, n = 0;
  for (; e > n; ++n)
    if (t = r[n], t !== void 0)
      return t;
  throw Lt("No default value found");
}, P1 = function() {
  const r = Function.prototype, e = Object.getPrototypeOf, t = /* @__PURE__ */ new WeakMap();
  let n = r, i = 0, s;
  return function(o) {
    if (s = t.get(o), s === void 0)
      for (t.set(o, s = [n = o]), i = 0; (n = e(n)) !== r; )
        s[++i] = n;
    return s;
  };
}();
function cc(...r) {
  return Object.assign(di(), ...r);
}
const Np = function() {
  const r = /* @__PURE__ */ new WeakMap();
  let e = !1, t = "", n = 0;
  return (i) => (e = r.get(i), e === void 0 && (t = i.toString(), n = t.length, e = n >= 29 && n <= 100 && Zt(t, n - 1) === 125 && Zt(t, n - 2) <= 32 && Zt(t, n - 3) === 93 && Zt(t, n - 4) === 101 && Zt(t, n - 5) === 100 && Zt(t, n - 6) === 111 && Zt(t, n - 7) === 99 && Zt(t, n - 8) === 32 && Zt(t, n - 9) === 101 && Zt(t, n - 10) === 118 && Zt(t, n - 11) === 105 && Zt(t, n - 12) === 116 && Zt(t, n - 13) === 97 && Zt(t, n - 14) === 110 && Zt(t, n - 15) === 88, r.set(i, e)), e);
}(), _e = (r, e) => r instanceof Promise ? r.then(e) : e(r), Ut = (...r) => {
  let e, t, n, i = 0, s = r.length;
  for (; i < s; ++i)
    e = r[i], (e = r[i]) instanceof Promise && (t === void 0 ? t = e : n === void 0 ? n = [t, e] : n.push(e));
  return n === void 0 ? t : Promise.all(n);
}, Zt = (r, e) => r.charCodeAt(e), js = "au:annotation", pi = (r, e) => e === void 0 ? `${js}:${r}` : `${js}:${r}:${e}`, Wd = (r, e) => {
  const t = Pr(js, r);
  t === void 0 ? as(js, [e], r) : t.push(e);
}, d3 = Object.freeze({
  name: "au:annotation",
  appendTo: Wd,
  set(r, e, t) {
    as(pi(e), t, r);
  },
  get: (r, e) => Pr(pi(e), r),
  getKeys(r) {
    let e = Pr(js, r);
    return e === void 0 && as(js, e = [], r), e;
  },
  isKey: (r) => r.startsWith(js),
  keyFor: pi
}), Tn = "au:resource", p3 = Object.freeze({
  name: Tn,
  appendTo(r, e) {
    const t = Pr(Tn, r);
    t === void 0 ? as(Tn, [e], r) : t.push(e);
  },
  has: (r) => h3(Tn, r),
  getAll(r) {
    const e = Pr(Tn, r);
    return e === void 0 ? De : e.map((t) => Pr(t, r));
  },
  getKeys(r) {
    let e = Pr(Tn, r);
    return e === void 0 && as(Tn, e = [], r), e;
  },
  isKey: (r) => r.startsWith(Tn),
  keyFor(r, e) {
    return e === void 0 ? `${Tn}:${r}` : `${Tn}:${r}:${e}`;
  }
}), vn = {
  annotation: d3,
  resource: p3
}, k1 = Object.prototype.hasOwnProperty;
function fn(r, e, t, n) {
  let i = Pr(pi(r), t);
  return i === void 0 ? (i = e[r], i === void 0 ? (i = t[r], i === void 0 || !k1.call(t, r) ? n() : i) : i) : i;
}
function qr(r, e, t) {
  let n = Pr(pi(r), e);
  return n === void 0 ? (n = e[r], n === void 0 || !k1.call(e, r) ? t() : n) : n;
}
function wr(r, e, t) {
  const n = e[r];
  return n === void 0 ? t() : n;
}
const g3 = new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));
let m3 = 0;
class Ha {
  constructor(e, t) {
    this.parent = e, this.config = t, this.id = ++m3, this.t = 0, this.i = /* @__PURE__ */ new Map(), e === null ? (this.root = this, this.u = /* @__PURE__ */ new Map(), this.h = /* @__PURE__ */ new Map(), this.res = di()) : (this.root = e.root, this.u = /* @__PURE__ */ new Map(), this.h = e.h, t.inheritParentResources ? this.res = Object.assign(di(), e.res, this.root.res) : this.res = di()), this.u.set(oa, b3);
  }
  get depth() {
    return this.parent === null ? 0 : this.parent.depth + 1;
  }
  register(...e) {
    if (++this.t === 100)
      throw w3(e);
    let t, n, i, s, o, a = 0, c = e.length;
    for (; a < c; ++a)
      if (t = e[a], !!Rr(t))
        if (Il(t))
          t.register(this);
        else if (vn.resource.has(t)) {
          const l = vn.resource.getAll(t);
          if (l.length === 1)
            l[0].register(this);
          else
            for (s = 0, o = l.length; o > s; )
              l[s].register(this), ++s;
        } else if (v3(t))
          fe.singleton(t, t).register(this);
        else
          for (n = Object.keys(t), s = 0, o = n.length; s < o; ++s)
            i = t[n[s]], Rr(i) && (Il(i) ? i.register(this) : this.register(i));
    return --this.t, this;
  }
  registerResolver(e, t, n = !1) {
    ul(e);
    const i = this.u, s = i.get(e);
    if (s == null) {
      if (i.set(e, t), y3(e)) {
        if (this.res[e] !== void 0)
          throw A3(e);
        this.res[e] = t;
      }
    } else
      s instanceof rn && s.R === 4 ? s._state.push(t) : i.set(e, new rn(e, 4, [s, t]));
    return n && this.i.set(e, t), t;
  }
  registerTransformer(e, t) {
    const n = this.getResolver(e);
    if (n == null)
      return !1;
    if (n.getFactory) {
      const i = n.getFactory(this);
      return i == null ? !1 : (i.registerTransformer(t), !0);
    }
    return !1;
  }
  getResolver(e, t = !0) {
    if (ul(e), e.resolve !== void 0)
      return e;
    let n = this, i, s;
    for (; n != null; )
      if (i = n.u.get(e), i == null) {
        if (n.parent == null)
          return s = Bp(e) ? this : n, t ? this.$(e, s) : null;
        n = n.parent;
      } else
        return i;
    return null;
  }
  has(e, t = !1) {
    return this.u.has(e) ? !0 : t && this.parent != null ? this.parent.has(e, !0) : !1;
  }
  get(e) {
    if (ul(e), e.$isResolver)
      return e.resolve(this, this);
    let t = this, n, i;
    for (; t != null; )
      if (n = t.u.get(e), n == null) {
        if (t.parent == null)
          return i = Bp(e) ? this : t, n = this.$(e, i), n.resolve(t, this);
        t = t.parent;
      } else
        return n.resolve(t, this);
    throw S3(e);
  }
  getAll(e, t = !1) {
    ul(e);
    const n = this;
    let i = n, s;
    if (t) {
      let o = De;
      for (; i != null; )
        s = i.u.get(e), s != null && (o = o.concat(Dp(s, i, n))), i = i.parent;
      return o;
    } else
      for (; i != null; )
        if (s = i.u.get(e), s == null) {
          if (i = i.parent, i == null)
            return De;
        } else
          return Dp(s, i, n);
    return De;
  }
  invoke(e, t) {
    if (Np(e))
      throw Lp(e);
    return t === void 0 ? new e(...Ga(e).map(eu, this)) : new e(...Ga(e).map(eu, this), ...t);
  }
  getFactory(e) {
    let t = this.h.get(e);
    if (t === void 0) {
      if (Np(e))
        throw Lp(e);
      this.h.set(e, t = new K3(e, Ga(e)));
    }
    return t;
  }
  registerFactory(e, t) {
    this.h.set(e, t);
  }
  createChild(e) {
    return e === void 0 && this.config.inheritParentResources ? this.config === Vn.DEFAULT ? new Ha(this, this.config) : new Ha(this, Vn.from({
      ...this.config,
      inheritParentResources: !1
    })) : new Ha(this, Vn.from(e ?? this.config));
  }
  disposeResolvers() {
    const e = this.u, t = this.i;
    let n, i;
    for ([i, n] of t.entries())
      n.dispose(), e.delete(i);
    t.clear();
  }
  find(e, t) {
    const n = e.keyFrom(t);
    let i = this.res[n];
    if (i === void 0 && (i = this.root.res[n], i === void 0) || i === null)
      return null;
    if (bi(i.getFactory)) {
      const s = i.getFactory(this);
      if (s == null)
        return null;
      const o = Pr(e.name, s.Type);
      return o === void 0 ? null : o;
    }
    return null;
  }
  create(e, t) {
    const n = e.keyFrom(t);
    let i = this.res[n];
    return i === void 0 ? (i = this.root.res[n], i === void 0 ? null : i.resolve(this.root, this) ?? null) : i.resolve(this, this) ?? null;
  }
  dispose() {
    this.i.size > 0 && this.disposeResolvers(), this.u.clear();
  }
  $(e, t) {
    if (!bi(e))
      throw C3(e);
    if (g3.has(e.name))
      throw E3(e);
    if (Il(e)) {
      const n = e.register(t, e);
      if (!(n instanceof Object) || n.resolve == null) {
        const i = t.u.get(e);
        if (i != null)
          return i;
        throw $p();
      }
      return n;
    } else if (vn.resource.has(e)) {
      const n = vn.resource.getAll(e);
      if (n.length === 1)
        n[0].register(t);
      else {
        const s = n.length;
        for (let o = 0; o < s; ++o)
          n[o].register(t);
      }
      const i = t.u.get(e);
      if (i != null)
        return i;
      throw $p();
    } else {
      if (e.$isInterface)
        throw _3(e.friendlyName);
      {
        const n = this.config.defaultResolver(e, t);
        return t.u.set(e, n), n;
      }
    }
  }
}
function ul(r) {
  if (r == null)
    throw Lt("AUR0014");
}
const Dp = (r, e, t) => {
  if (r instanceof rn && r.R === 4) {
    const n = r._state;
    let i = n.length;
    const s = new Array(i);
    for (; i--; )
      s[i] = n[i].resolve(e, t);
    return s;
  }
  return [r.resolve(e, t)];
}, b3 = {
  $isResolver: !0,
  resolve(r, e) {
    return e;
  }
}, Il = (r) => bi(r.register), x3 = (r) => Il(r) && typeof r.registerInRequestor == "boolean", Bp = (r) => x3(r) && r.registerInRequestor, v3 = (r) => r.prototype !== void 0, y3 = (r) => Zl(r) && r.indexOf(":") > 0, w3 = (r) => Lt(`AUR0006:${r.map(ia)}`), A3 = (r) => Lt(`AUR0007:${ia(r)}`), S3 = (r) => Lt(`AUR0008:${ia(r)}`), C3 = (r) => Lt(`AUR0009:${ia(r)}`), E3 = (r) => Lt(`AUR0010:${r.name}`), $p = () => Lt("AUR0011"), _3 = (r) => Lt(`AUR0012:${r}`), Lp = (r) => Lt(`AUR0015:${r.name}`), R1 = (r, e) => new rn(r, 0, e), Hd = (r, e) => new rn(r, 1, e), P3 = (r, e) => new rn(r, 2, e), k3 = (r, e) => new rn(r, 3, e), R3 = (r, e) => new rn(r, 3, T1(e)), T3 = (r, e) => new rn(e, 5, r), I3 = (r, ...e) => new z3(r, e), Fp = /* @__PURE__ */ new WeakMap(), T1 = (r) => (e, t, n) => {
  let i = Fp.get(e);
  if (i === void 0 && Fp.set(e, i = /* @__PURE__ */ new WeakMap()), i.has(n))
    return i.get(n);
  const s = r(e, t, n);
  return i.set(n, s), s;
};
u3(Reflect, !1, !1);
class M3 {
  constructor(e, t) {
    this.c = e, this.k = t;
  }
  instance(e) {
    return this.C(0, e);
  }
  singleton(e) {
    return this.C(1, e);
  }
  transient(e) {
    return this.C(2, e);
  }
  callback(e) {
    return this.C(3, e);
  }
  cachedCallback(e) {
    return this.C(3, T1(e));
  }
  aliasTo(e) {
    return this.C(5, e);
  }
  C(e, t) {
    const { c: n, k: i } = this;
    return this.c = this.k = void 0, n.registerResolver(i, new rn(i, e, t));
  }
}
const Pa = (r) => {
  const e = r.slice(), t = Object.keys(r), n = t.length;
  let i;
  for (let s = 0; s < n; ++s)
    i = t[s], ac(i) || (e[i] = r[i]);
  return e;
}, O3 = {
  none(r) {
    throw N3(r);
  },
  singleton: (r) => new rn(r, 1, r),
  transient: (r) => new rn(r, 2, r)
}, N3 = (r) => Lt(`AUR0002:${ia(r)}`);
class Vn {
  constructor(e, t) {
    this.inheritParentResources = e, this.defaultResolver = t;
  }
  static from(e) {
    return e === void 0 || e === Vn.DEFAULT ? Vn.DEFAULT : new Vn(e.inheritParentResources ?? !1, e.defaultResolver ?? O3.singleton);
  }
}
Vn.DEFAULT = Vn.from({});
const D3 = (r) => new Ha(null, Vn.from(r)), I1 = (r) => {
  const e = pi("di:paramtypes");
  return Pr(e, r);
}, B3 = (r) => Pr("design:paramtypes", r), _o = (r) => {
  const e = pi("di:paramtypes");
  let t = Pr(e, r);
  return t === void 0 && (as(e, t = [], r), Wd(r, e)), t;
}, Ga = (r) => {
  const e = pi("di:dependencies");
  let t = Pr(e, r);
  if (t === void 0) {
    const n = r.inject;
    if (n === void 0) {
      const i = pe.getDesignParamtypes(r), s = I1(r);
      if (i === void 0)
        if (s === void 0) {
          const o = Object.getPrototypeOf(r);
          bi(o) && o !== Function.prototype ? t = Pa(Ga(o)) : t = [];
        } else
          t = Pa(s);
      else if (s === void 0)
        t = Pa(i);
      else {
        t = Pa(i);
        let o = s.length, a, c = 0;
        for (; c < o; ++c)
          a = s[c], a !== void 0 && (t[c] = a);
        const l = Object.keys(s);
        let f;
        for (c = 0, o = l.length, c = 0; c < o; ++c)
          f = l[c], ac(f) || (t[f] = s[f]);
      }
    } else
      t = Pa(n);
    as(e, t, r), Wd(r, e);
  }
  return t;
}, Jn = (r, e) => {
  const t = bi(r) ? r : e, n = Zl(r) ? r : void 0, i = function(s, o, a) {
    if (s == null || new.target !== void 0)
      throw $3(i.friendlyName);
    const c = _o(s);
    c[a] = i;
  };
  return i.$isInterface = !0, i.friendlyName = n ?? "(anonymous)", t != null && (i.register = (s, o) => t(new M3(s, o ?? i))), i.toString = () => `InterfaceSymbol<${i.friendlyName}>`, i;
}, $3 = (r) => Lt(`AUR0001:${r}`), pe = {
  createContainer: D3,
  getDesignParamtypes: B3,
  getAnnotationParamtypes: I1,
  getOrCreateAnnotationParamTypes: _o,
  getDependencies: Ga,
  createInterface: Jn,
  inject(...r) {
    return (e, t, n) => {
      if (typeof n == "number") {
        const i = _o(e), s = r[0];
        s !== void 0 && (i[n] = s);
      } else if (t) {
        const i = _o(e.constructor), s = r[0];
        s !== void 0 && (i[t] = s);
      } else if (n) {
        const i = n.value, s = _o(i);
        let o, a = 0;
        for (; a < r.length; ++a)
          o = r[a], o !== void 0 && (s[a] = o);
      } else {
        const i = _o(e);
        let s, o = 0;
        for (; o < r.length; ++o)
          s = r[o], s !== void 0 && (i[o] = s);
      }
    };
  },
  transient(r) {
    return r.register = function(e) {
      return fe.transient(r, r).register(e, r);
    }, r.registerInRequestor = !1, r;
  },
  singleton(r, e = U3) {
    return r.register = function(t) {
      return fe.singleton(r, r).register(t, r);
    }, r.registerInRequestor = e.scoped, r;
  }
}, oa = Jn("IContainer"), L3 = oa;
function F3(r) {
  return function(e) {
    const t = function(n, i, s) {
      Gd(t)(n, i, s);
    };
    return t.$isResolver = !0, t.resolve = function(n, i) {
      return r(e, n, i);
    }, t;
  };
}
const Gd = pe.inject;
function Up(r) {
  return pe.transient(r);
}
function M1(r) {
  return r == null ? Up : Up(r);
}
const U3 = {
  scoped: !1
}, V3 = (r) => (e, t) => {
  t = !!t;
  const n = function(i, s, o) {
    Gd(n)(i, s, o);
  };
  return n.$isResolver = !0, n.resolve = function(i, s) {
    return r(e, i, s, t);
  }, n;
}, O1 = V3((r, e, t, n) => t.getAll(r, n)), N1 = F3((r, e, t) => {
  if (t.has(r, !0))
    return t.get(r);
}), Xu = (r, e, t) => {
  Gd(Xu)(r, e, t);
};
Xu.$isResolver = !0;
Xu.resolve = () => {
};
class rn {
  constructor(e, t, n) {
    this.k = e, this.R = t, this._state = n, this.resolving = !1;
  }
  get $isResolver() {
    return !0;
  }
  register(e, t) {
    return e.registerResolver(t || this.k, this);
  }
  resolve(e, t) {
    switch (this.R) {
      case 0:
        return this._state;
      case 1:
        if (this.resolving)
          throw j3(this._state.name);
        return this.resolving = !0, this._state = e.getFactory(this._state).construct(t), this.R = 0, this.resolving = !1, this._state;
      case 2: {
        const n = e.getFactory(this._state);
        if (n === null)
          throw W3(this.k);
        return n.construct(t);
      }
      case 3:
        return this._state(e, t, this);
      case 4:
        return this._state[0].resolve(e, t);
      case 5:
        return t.get(this._state);
      default:
        throw H3(this.R);
    }
  }
  getFactory(e) {
    switch (this.R) {
      case 1:
      case 2:
        return e.getFactory(this._state);
      case 5:
        return e.getResolver(this._state)?.getFactory?.(e) ?? null;
      default:
        return null;
    }
  }
}
const j3 = (r) => Lt(`AUR0003:${r}`), W3 = (r) => Lt(`AUR0004:${ia(r)}`), H3 = (r) => Lt(`AUR0005:${r}`);
function eu(r) {
  return this.get(r);
}
function G3(r, e) {
  return e(r);
}
class K3 {
  constructor(e, t) {
    this.Type = e, this.dependencies = t, this.transformers = null;
  }
  construct(e, t) {
    let n;
    return t === void 0 ? n = new this.Type(...this.dependencies.map(eu, e)) : n = new this.Type(...this.dependencies.map(eu, e), ...t), this.transformers == null ? n : this.transformers.reduce(G3, n);
  }
  registerTransformer(e) {
    (this.transformers ?? (this.transformers = [])).push(e);
  }
}
class z3 {
  constructor(e, t) {
    this.key = e, this.params = t;
  }
  register(e) {
    e.has(this.key, !0) ? e.get(this.key).register(e, ...this.params) : e.register(...this.params.filter((t) => typeof t == "object"));
  }
}
const fe = {
  instance: R1,
  singleton: Hd,
  transient: P3,
  callback: k3,
  cachedCallback: R3,
  aliasTo: T3,
  defer: I3
};
class ar {
  constructor(e, t) {
    this.A = null, this.j = e, t !== void 0 && (this.A = t);
  }
  get friendlyName() {
    return this.j;
  }
  prepare(e) {
    this.A = e;
  }
  get $isResolver() {
    return !0;
  }
  resolve() {
    if (this.A == null)
      throw q3(this.j);
    return this.A;
  }
  dispose() {
    this.A = null;
  }
}
const q3 = (r) => Lt(`AUR0013:${r}`), De = Object.freeze([]), Q3 = Object.freeze({});
function gi() {
}
const Bc = Jn("IPlatform");
function Pi(r, e, t, n) {
  var i = arguments.length, s = i < 3 ? e : n === null ? n = Object.getOwnPropertyDescriptor(e, t) : n, o;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    s = Reflect.decorate(r, e, t, n);
  else
    for (var a = r.length - 1; a >= 0; a--)
      (o = r[a]) && (s = (i < 3 ? o(s) : i > 3 ? o(e, t, s) : o(e, t)) || s);
  return i > 3 && s && Object.defineProperty(e, t, s), s;
}
function Ls(r, e) {
  return function(t, n) {
    e(t, n, r);
  };
}
var Vp;
(function(r) {
  r[r.trace = 0] = "trace", r[r.debug = 1] = "debug", r[r.info = 2] = "info", r[r.warn = 3] = "warn", r[r.error = 4] = "error", r[r.fatal = 5] = "fatal", r[r.none = 6] = "none";
})(Vp || (Vp = {}));
var jp;
(function(r) {
  r[r.noColors = 0] = "noColors", r[r.colors = 1] = "colors";
})(jp || (jp = {}));
const Kd = Jn("ILogConfig", (r) => r.instance(new D1(0, 3))), zd = Jn("ISink"), J3 = Jn("ILogEventFactory", (r) => r.singleton(Wf)), oo = Jn("ILogger", (r) => r.singleton(xi)), Y3 = Jn("ILogScope"), X3 = Object.freeze({
  key: pi("logger-sink-handles"),
  define(r, e) {
    return as(this.key, e.handles, r.prototype), r;
  },
  getHandles(r) {
    return Qn.get(this.key, r);
  }
}), ri = cc({
  red(r) {
    return `\x1B[31m${r}\x1B[39m`;
  },
  green(r) {
    return `\x1B[32m${r}\x1B[39m`;
  },
  yellow(r) {
    return `\x1B[33m${r}\x1B[39m`;
  },
  blue(r) {
    return `\x1B[34m${r}\x1B[39m`;
  },
  magenta(r) {
    return `\x1B[35m${r}\x1B[39m`;
  },
  cyan(r) {
    return `\x1B[36m${r}\x1B[39m`;
  },
  white(r) {
    return `\x1B[37m${r}\x1B[39m`;
  },
  grey(r) {
    return `\x1B[90m${r}\x1B[39m`;
  }
});
class D1 {
  constructor(e, t) {
    this.colorOptions = e, this.level = t;
  }
}
const Wp = function() {
  const r = [cc({
    TRC: "TRC",
    DBG: "DBG",
    INF: "INF",
    WRN: "WRN",
    ERR: "ERR",
    FTL: "FTL",
    QQQ: "???"
  }), cc({
    TRC: ri.grey("TRC"),
    DBG: ri.grey("DBG"),
    INF: ri.white("INF"),
    WRN: ri.yellow("WRN"),
    ERR: ri.red("ERR"),
    FTL: ri.red("FTL"),
    QQQ: ri.grey("???")
  })];
  return (e, t) => e <= 0 ? r[t].TRC : e <= 1 ? r[t].DBG : e <= 2 ? r[t].INF : e <= 3 ? r[t].WRN : e <= 4 ? r[t].ERR : e <= 5 ? r[t].FTL : r[t].QQQ;
}(), Z3 = (r, e) => e === 0 ? r.join(".") : r.map(ri.cyan).join("."), Hp = (r, e) => e === 0 ? new Date(r).toISOString() : ri.grey(new Date(r).toISOString());
class eA {
  constructor(e, t, n, i, s, o) {
    this.severity = e, this.message = t, this.optionalParams = n, this.scope = i, this.colorOptions = s, this.timestamp = o;
  }
  toString() {
    const { severity: e, message: t, scope: n, colorOptions: i, timestamp: s } = this;
    return n.length === 0 ? `${Hp(s, i)} [${Wp(e, i)}] ${t}` : `${Hp(s, i)} [${Wp(e, i)} ${Z3(n, i)}] ${t}`;
  }
}
let Wf = class {
  constructor(e) {
    this.config = e;
  }
  createLogEvent(e, t, n, i) {
    return new eA(t, n, i, e.scope, this.config.colorOptions, Date.now());
  }
};
Wf = Pi([Ls(0, Kd)], Wf);
let Gp = class B1 {
  constructor(e) {
    const t = e.console;
    this.handleEvent = function(i) {
      const s = i.optionalParams;
      if (s === void 0 || s.length === 0) {
        const o = i.toString();
        switch (i.severity) {
          case 0:
          case 1:
            return t.debug(o);
          case 2:
            return t.info(o);
          case 3:
            return t.warn(o);
          case 4:
          case 5:
            return t.error(o);
        }
      } else {
        let o = i.toString(), a = 0;
        for (; o.includes("%s"); )
          o = o.replace("%s", String(s[a++]));
        switch (i.severity) {
          case 0:
          case 1:
            return t.debug(o, ...s.slice(a));
          case 2:
            return t.info(o, ...s.slice(a));
          case 3:
            return t.warn(o, ...s.slice(a));
          case 4:
          case 5:
            return t.error(o, ...s.slice(a));
        }
      }
    };
  }
  static register(e) {
    Hd(zd, B1).register(e);
  }
};
Gp = Pi([Ls(0, Bc)], Gp);
let xi = class $1 {
  constructor(e, t, n, i = [], s = null) {
    this.scope = i, this.I = di();
    let o, a, c, l, f, p;
    if (this.config = e, this.f = t, this.sinks = n, s === null) {
      this.root = this, this.parent = this, o = this.O = [], a = this.M = [], c = this.F = [], l = this.L = [], f = this.U = [], p = this.T = [];
      for (const b of n) {
        const w = X3.getHandles(b);
        (w?.includes(0) ?? !0) && o.push(b), (w?.includes(1) ?? !0) && a.push(b), (w?.includes(2) ?? !0) && c.push(b), (w?.includes(3) ?? !0) && l.push(b), (w?.includes(4) ?? !0) && f.push(b), (w?.includes(5) ?? !0) && p.push(b);
      }
    } else
      this.root = s.root, this.parent = s, o = this.O = s.O, a = this.M = s.M, c = this.F = s.F, l = this.L = s.L, f = this.U = s.U, p = this.T = s.T;
  }
  trace(e, ...t) {
    this.config.level <= 0 && this.P(this.O, 0, e, t);
  }
  debug(e, ...t) {
    this.config.level <= 1 && this.P(this.M, 1, e, t);
  }
  info(e, ...t) {
    this.config.level <= 2 && this.P(this.F, 2, e, t);
  }
  warn(e, ...t) {
    this.config.level <= 3 && this.P(this.L, 3, e, t);
  }
  error(e, ...t) {
    this.config.level <= 4 && this.P(this.U, 4, e, t);
  }
  fatal(e, ...t) {
    this.config.level <= 5 && this.P(this.T, 5, e, t);
  }
  scopeTo(e) {
    const t = this.I;
    let n = t[e];
    return n === void 0 && (n = t[e] = new $1(this.config, this.f, void 0, this.scope.concat(e), this)), n;
  }
  P(e, t, n, i) {
    const s = bi(n) ? n() : n, o = this.f.createLogEvent(this, t, s, i);
    for (let a = 0, c = e.length; a < c; ++a)
      e[a].handleEvent(o);
  }
};
Pi([sa], xi.prototype, "trace", null);
Pi([sa], xi.prototype, "debug", null);
Pi([sa], xi.prototype, "info", null);
Pi([sa], xi.prototype, "warn", null);
Pi([sa], xi.prototype, "error", null);
Pi([sa], xi.prototype, "fatal", null);
xi = Pi([Ls(0, Kd), Ls(1, J3), Ls(2, O1(zd)), Ls(3, N1(Y3)), Ls(4, Xu)], xi);
cc({
  create({ level: r = 3, colorOptions: e = 0, sinks: t = [] } = {}) {
    return cc({
      register(n) {
        n.register(R1(Kd, new D1(e, r)));
        for (const i of t)
          bi(i) ? n.register(Hd(zd, i)) : n.register(i);
        return n;
      }
    });
  }
});
Jn((r) => r.singleton(nA));
const tA = (r) => r;
class rA {
  constructor(e) {
    this.N = /* @__PURE__ */ new Map(), this.W = /* @__PURE__ */ new Map(), this.B = e;
  }
  transform(e) {
    if (e instanceof Promise)
      return this._(e);
    if (typeof e == "object" && e !== null)
      return this.G(e);
    throw Lt(`Invalid input: ${String(e)}. Expected Promise or Object.`);
  }
  _(e) {
    if (this.N.has(e))
      return this.N.get(e);
    const t = e.then((n) => this.G(n));
    return this.N.set(e, t), t.then((n) => {
      this.N.set(e, n);
    }), t;
  }
  G(e) {
    if (this.W.has(e))
      return this.W.get(e);
    const t = this.B(this.K(e));
    return this.W.set(e, t), t instanceof Promise && t.then((n) => {
      this.W.set(e, n);
    }), t;
  }
  K(e) {
    if (e == null)
      throw new Error(`Invalid input: ${String(e)}. Expected Object.`);
    if (typeof e != "object")
      return new Kp(e, []);
    let t, n, i, s;
    const o = [];
    for (const a in e) {
      switch (typeof (t = e[a])) {
        case "object":
          if (t === null)
            continue;
          n = bi(t.register), i = !1, s = De;
          break;
        case "function":
          n = bi(t.register), i = t.prototype !== void 0, s = vn.resource.getAll(t);
          break;
        default:
          continue;
      }
      o.push(new iA(a, t, n, i, s));
    }
    return new Kp(e, o);
  }
}
class nA {
  constructor() {
    this.transformers = /* @__PURE__ */ new Map();
  }
  load(e, t = tA) {
    const n = this.transformers;
    let i = n.get(t);
    return i === void 0 && n.set(t, i = new rA(t)), i.transform(e);
  }
  dispose() {
    this.transformers.clear();
  }
}
class Kp {
  constructor(e, t) {
    this.raw = e, this.items = t;
  }
}
class iA {
  constructor(e, t, n, i, s) {
    this.key = e, this.value = t, this.isRegistry = n, this.isConstructable = i, this.definitions = s;
  }
}
class sA {
  constructor(e, t) {
    this.type = e, this.cb = t;
  }
  handle(e) {
    e instanceof this.type && this.cb.call(null, e);
  }
}
const Zu = Jn("IEventAggregator", (r) => r.singleton(oA));
class oA {
  constructor() {
    this.eventLookup = {}, this.messageHandlers = [];
  }
  publish(e, t) {
    if (!e)
      throw Lt(`Invalid channel name or instance: ${e}.`);
    if (Zl(e)) {
      let n = this.eventLookup[e];
      if (n !== void 0) {
        n = n.slice();
        let i = n.length;
        for (; i-- > 0; )
          n[i](t, e);
      }
    } else {
      const n = this.messageHandlers.slice();
      let i = n.length;
      for (; i-- > 0; )
        n[i].handle(e);
    }
  }
  subscribe(e, t) {
    if (!e)
      throw Lt(`Invalid channel name or type: ${e}.`);
    let n, i;
    return Zl(e) ? (this.eventLookup[e] === void 0 && (this.eventLookup[e] = []), n = t, i = this.eventLookup[e]) : (n = new sA(e, t), i = this.messageHandlers), i.push(n), {
      dispose() {
        const s = i.indexOf(n);
        s !== -1 && i.splice(s, 1);
      }
    };
  }
  subscribeOnce(e, t) {
    const n = this.subscribe(e, (i, s) => {
      n.dispose(), t(i, s);
    });
    return n;
  }
}
const eh = Object, aA = eh.prototype.hasOwnProperty, nn = Reflect.defineProperty, se = (r) => new Error(r), Zr = (r) => typeof r == "function", Ka = (r) => r instanceof eh, cs = (r) => r instanceof Array, $c = (r) => r instanceof Set, es = (r) => r instanceof Map, qd = eh.is;
function th(r, e, t) {
  return nn(r, e, {
    enumerable: !1,
    configurable: !0,
    writable: !0,
    value: t
  }), t;
}
function ai(r, e, t) {
  e in r || th(r, e, t);
}
const Qd = String, aa = pe.createInterface, za = () => eh.create(null), ca = Qn.getOwn, la = Qn.define;
vn.annotation.keyFor;
vn.resource.keyFor;
vn.resource.appendTo;
var zp;
(function(r) {
  r[r.AccessThis = 0] = "AccessThis", r[r.AccessScope = 1] = "AccessScope", r[r.ArrayLiteral = 2] = "ArrayLiteral", r[r.ObjectLiteral = 3] = "ObjectLiteral", r[r.PrimitiveLiteral = 4] = "PrimitiveLiteral", r[r.Template = 5] = "Template", r[r.Unary = 6] = "Unary", r[r.CallScope = 7] = "CallScope", r[r.CallMember = 8] = "CallMember", r[r.CallFunction = 9] = "CallFunction", r[r.AccessMember = 10] = "AccessMember", r[r.AccessKeyed = 11] = "AccessKeyed", r[r.TaggedTemplate = 12] = "TaggedTemplate", r[r.Binary = 13] = "Binary", r[r.Conditional = 14] = "Conditional", r[r.Assign = 15] = "Assign", r[r.ArrowFunction = 16] = "ArrowFunction", r[r.ValueConverter = 17] = "ValueConverter", r[r.BindingBehavior = 18] = "BindingBehavior", r[r.ArrayBindingPattern = 19] = "ArrayBindingPattern", r[r.ObjectBindingPattern = 20] = "ObjectBindingPattern", r[r.BindingIdentifier = 21] = "BindingIdentifier", r[r.ForOfStatement = 22] = "ForOfStatement", r[r.Interpolation = 23] = "Interpolation", r[r.ArrayDestructuring = 24] = "ArrayDestructuring", r[r.ObjectDestructuring = 25] = "ObjectDestructuring", r[r.DestructuringAssignmentLeaf = 26] = "DestructuringAssignmentLeaf", r[r.DestructuringAssignmentRestLeaf = 27] = "DestructuringAssignmentRestLeaf", r[r.Custom = 28] = "Custom";
})(zp || (zp = {}));
class Jd {
  constructor(e) {
    this.value = e, this.$kind = 28;
  }
  evaluate(e, t, n) {
    return this.value;
  }
  assign(e, t, n) {
    return n;
  }
  bind(e, t) {
  }
  unbind(e, t) {
  }
  accept(e) {
  }
}
class cA {
  constructor(e, t, n) {
    this.expression = e, this.name = t, this.args = n, this.$kind = 18, this.key = `_bb_${t}`;
  }
}
class lc {
  constructor(e, t, n) {
    this.expression = e, this.name = t, this.args = n, this.$kind = 17;
  }
}
class lA {
  constructor(e, t) {
    this.target = e, this.value = t, this.$kind = 15;
  }
}
class uA {
  constructor(e, t, n) {
    this.condition = e, this.yes = t, this.no = n, this.$kind = 14;
  }
}
class mi {
  constructor(e = 0) {
    this.ancestor = e, this.$kind = 0;
  }
}
mi.$this = new mi(0);
mi.$parent = new mi(1);
class Ml {
  constructor(e, t = 0) {
    this.name = e, this.ancestor = t, this.$kind = 1;
  }
}
class Hf {
  constructor(e, t, n = !1) {
    this.object = e, this.name = t, this.optional = n, this.$kind = 10;
  }
}
class L1 {
  constructor(e, t, n = !1) {
    this.object = e, this.key = t, this.optional = n, this.$kind = 11;
  }
}
class F1 {
  constructor(e, t, n = 0, i = !1) {
    this.name = e, this.args = t, this.ancestor = n, this.optional = i, this.$kind = 7;
  }
}
class tu {
  constructor(e, t, n, i = !1, s = !1) {
    this.object = e, this.name = t, this.args = n, this.optionalMember = i, this.optionalCall = s, this.$kind = 8;
  }
}
class Ol {
  constructor(e, t, n = !1) {
    this.func = e, this.args = t, this.optional = n, this.$kind = 9;
  }
}
class hA {
  constructor(e, t, n) {
    this.operation = e, this.left = t, this.right = n, this.$kind = 13;
  }
}
class fA {
  constructor(e, t) {
    this.operation = e, this.expression = t, this.$kind = 6;
  }
}
class Jt {
  constructor(e) {
    this.value = e, this.$kind = 4;
  }
}
Jt.$undefined = new Jt(void 0);
Jt.$null = new Jt(null);
Jt.$true = new Jt(!0);
Jt.$false = new Jt(!1);
Jt.$empty = new Jt("");
class Gf {
  constructor(e) {
    this.elements = e, this.$kind = 2;
  }
}
Gf.$empty = new Gf(De);
class Kf {
  constructor(e, t) {
    this.keys = e, this.values = t, this.$kind = 3;
  }
}
Kf.$empty = new Kf(De, De);
class ru {
  constructor(e, t = De) {
    this.cooked = e, this.expressions = t, this.$kind = 5;
  }
}
ru.$empty = new ru([""]);
class U1 {
  constructor(e, t, n, i = De) {
    this.cooked = e, this.func = n, this.expressions = i, this.$kind = 12, e.raw = t;
  }
}
class dA {
  constructor(e) {
    this.elements = e, this.$kind = 19;
  }
}
class pA {
  constructor(e, t) {
    this.keys = e, this.values = t, this.$kind = 20;
  }
}
class nu {
  constructor(e) {
    this.name = e, this.$kind = 21;
  }
}
class gA {
  constructor(e, t, n) {
    this.declaration = e, this.iterable = t, this.semiIdx = n, this.$kind = 22;
  }
}
class V1 {
  constructor(e, t = De) {
    this.parts = e, this.expressions = t, this.$kind = 23, this.isMulti = t.length > 1, this.firstExpression = t[0];
  }
}
class mA {
  constructor(e, t, n, i) {
    this.$kind = e, this.list = t, this.source = n, this.initializer = i;
  }
}
class j1 {
  constructor(e, t, n) {
    this.target = e, this.source = t, this.initializer = n, this.$kind = 26;
  }
}
class zf {
  constructor(e, t, n = !1) {
    this.args = e, this.body = t, this.rest = n, this.$kind = 16;
  }
}
class qp {
  constructor(e, t) {
    e !== void 0 && (this[e] = t);
  }
}
class Yt {
  constructor(e, t, n, i) {
    this.parent = e, this.bindingContext = t, this.overrideContext = n, this.isBoundary = i;
  }
  static getContext(e, t, n) {
    if (e == null)
      throw Qp();
    let i = e.overrideContext, s = e;
    if (n > 0) {
      for (; n > 0; )
        if (n--, s = s.parent, s == null)
          return;
      return i = s.overrideContext, t in i ? i : s.bindingContext;
    }
    for (; s != null && !s.isBoundary && !(t in s.overrideContext) && !(t in s.bindingContext); )
      s = s.parent;
    return s == null ? e.bindingContext : (i = s.overrideContext, t in i ? i : s.bindingContext);
  }
  static create(e, t, n) {
    if (e == null)
      throw bA();
    return new Yt(null, e, t ?? new Jp(), n ?? !1);
  }
  static fromParent(e, t) {
    if (e == null)
      throw Qp();
    return new Yt(e, t, new Jp(), !1);
  }
}
const Qp = () => se("AUR0203"), bA = () => se("AUR0204");
class Jp {
}
const qf = Yt.getContext;
function U(r, e, t, n) {
  switch (r.$kind) {
    case 0: {
      let i = e.overrideContext, s = e, o = r.ancestor;
      for (; o-- && i; )
        s = s.parent, i = s?.overrideContext ?? null;
      return o < 1 && s ? s.bindingContext : void 0;
    }
    case 1: {
      const i = qf(e, r.name, r.ancestor);
      n !== null && n.observe(i, r.name);
      const s = i[r.name];
      if (s == null && r.name === "$host")
        throw se("AUR0105");
      return t?.strict ? t?.boundFn && Zr(s) ? s.bind(i) : s : s == null ? "" : t?.boundFn && Zr(s) ? s.bind(i) : s;
    }
    case 2:
      return r.elements.map((i) => U(i, e, t, n));
    case 3: {
      const i = {};
      for (let s = 0; s < r.keys.length; ++s)
        i[r.keys[s]] = U(r.values[s], e, t, n);
      return i;
    }
    case 4:
      return r.value;
    case 5: {
      let i = r.cooked[0];
      for (let s = 0; s < r.expressions.length; ++s)
        i += String(U(r.expressions[s], e, t, n)), i += r.cooked[s + 1];
      return i;
    }
    case 6:
      switch (r.operation) {
        case "void":
          return void U(r.expression, e, t, n);
        case "typeof":
          return typeof U(r.expression, e, t, n);
        case "!":
          return !U(r.expression, e, t, n);
        case "-":
          return -U(r.expression, e, t, n);
        case "+":
          return +U(r.expression, e, t, n);
        default:
          throw se(`AUR0109:${r.operation}`);
      }
    case 7: {
      const i = r.args.map((a) => U(a, e, t, n)), s = qf(e, r.name, r.ancestor), o = Yp(t?.strictFnCall, s, r.name);
      return o ? o.apply(s, i) : void 0;
    }
    case 8: {
      const i = U(r.object, e, t, n), s = r.args.map((c) => U(c, e, t, n)), o = Yp(t?.strictFnCall, i, r.name);
      let a;
      return o && (a = o.apply(i, s), cs(i) && yA.includes(r.name) && n?.observeCollection(i)), a;
    }
    case 9: {
      const i = U(r.func, e, t, n);
      if (Zr(i))
        return i(...r.args.map((s) => U(s, e, t, n)));
      if (!t?.strictFnCall && i == null)
        return;
      throw se("AUR0107");
    }
    case 16:
      return (...s) => {
        const o = r.args, a = r.rest, c = o.length - 1, l = o.reduce((p, b, w) => (a && w === c ? p[b.name] = s.slice(w) : p[b.name] = s[w], p), {}), f = Yt.fromParent(e, l);
        return U(r.body, f, t, n);
      };
    case 10: {
      const i = U(r.object, e, t, n);
      let s;
      return t?.strict ? i == null ? i : (n !== null && n.observe(i, r.name), s = i[r.name], t?.boundFn && Zr(s) ? s.bind(i) : s) : (n !== null && Ka(i) && n.observe(i, r.name), i ? (s = i[r.name], t?.boundFn && Zr(s) ? s.bind(i) : s) : "");
    }
    case 11: {
      const i = U(r.object, e, t, n);
      if (Ka(i)) {
        const s = U(r.key, e, t, n);
        return n !== null && n.observe(i, s), i[s];
      }
      return;
    }
    case 12: {
      const i = r.expressions.map((o) => U(o, e, t, n)), s = U(r.func, e, t, n);
      if (!Zr(s))
        throw se("AUR0110");
      return s(r.cooked, ...i);
    }
    case 13: {
      const i = r.left, s = r.right;
      switch (r.operation) {
        case "&&":
          return U(i, e, t, n) && U(s, e, t, n);
        case "||":
          return U(i, e, t, n) || U(s, e, t, n);
        case "??":
          return U(i, e, t, n) ?? U(s, e, t, n);
        case "==":
          return U(i, e, t, n) == U(s, e, t, n);
        case "===":
          return U(i, e, t, n) === U(s, e, t, n);
        case "!=":
          return U(i, e, t, n) != U(s, e, t, n);
        case "!==":
          return U(i, e, t, n) !== U(s, e, t, n);
        case "instanceof": {
          const o = U(s, e, t, n);
          return Zr(o) ? U(i, e, t, n) instanceof o : !1;
        }
        case "in": {
          const o = U(s, e, t, n);
          return Ka(o) ? U(i, e, t, n) in o : !1;
        }
        case "+": {
          const o = U(i, e, t, n), a = U(s, e, t, n);
          if (t?.strict)
            return o + a;
          if (!o || !a) {
            if (Xp(o) || Xp(a))
              return (o || 0) + (a || 0);
            if (Zp(o) || Zp(a))
              return (o || "") + (a || "");
          }
          return o + a;
        }
        case "-":
          return U(i, e, t, n) - U(s, e, t, n);
        case "*":
          return U(i, e, t, n) * U(s, e, t, n);
        case "/":
          return U(i, e, t, n) / U(s, e, t, n);
        case "%":
          return U(i, e, t, n) % U(s, e, t, n);
        case "<":
          return U(i, e, t, n) < U(s, e, t, n);
        case ">":
          return U(i, e, t, n) > U(s, e, t, n);
        case "<=":
          return U(i, e, t, n) <= U(s, e, t, n);
        case ">=":
          return U(i, e, t, n) >= U(s, e, t, n);
        default:
          throw se(`AUR0108:${r.operation}`);
      }
    }
    case 14:
      return U(r.condition, e, t, n) ? U(r.yes, e, t, n) : U(r.no, e, t, n);
    case 15:
      return tr(r.target, e, t, U(r.value, e, t, n));
    case 17: {
      const i = t?.getConverter?.(r.name);
      if (i == null)
        throw se(`AUR0103:${r.name}`);
      return "toView" in i ? i.toView(U(r.expression, e, t, n), ...r.args.map((s) => U(s, e, t, n))) : U(r.expression, e, t, n);
    }
    case 18:
      return U(r.expression, e, t, n);
    case 21:
      return r.name;
    case 22:
      return U(r.iterable, e, t, n);
    case 23:
      if (r.isMulti) {
        let i = r.parts[0], s = 0;
        for (; s < r.expressions.length; ++s)
          i += Qd(U(r.expressions[s], e, t, n)), i += r.parts[s + 1];
        return i;
      } else
        return `${r.parts[0]}${U(r.firstExpression, e, t, n)}${r.parts[1]}`;
    case 26:
      return U(r.target, e, t, n);
    case 24:
      return r.list.map((i) => U(i, e, t, n));
    case 19:
    case 20:
    case 25:
    default:
      return;
    case 28:
      return r.evaluate(e, t, n);
  }
}
function tr(r, e, t, n) {
  switch (r.$kind) {
    case 1: {
      if (r.name === "$host")
        throw se("AUR0106");
      const i = qf(e, r.name, r.ancestor);
      return i[r.name] = n;
    }
    case 10: {
      const i = U(r.object, e, t, null);
      return Ka(i) ? r.name === "length" && cs(i) && !isNaN(n) ? i.splice(n) : i[r.name] = n : tr(r.object, e, t, {
        [r.name]: n
      }), n;
    }
    case 11: {
      const i = U(r.object, e, t, null), s = U(r.key, e, t, null);
      if (cs(i)) {
        if (s === "length" && !isNaN(n))
          return i.splice(n), n;
        if (ac(s))
          return i.splice(s, 1, n), n;
      }
      return i[s] = n;
    }
    case 15:
      return tr(r.value, e, t, n), tr(r.target, e, t, n);
    case 17: {
      const i = t?.getConverter?.(r.name);
      if (i == null)
        throw W1(r.name);
      return "fromView" in i && (n = i.fromView(n, ...r.args.map((s) => U(s, e, t, null)))), tr(r.expression, e, t, n);
    }
    case 18:
      return tr(r.expression, e, t, n);
    case 24:
    case 25: {
      const i = r.list, s = i.length;
      let o, a;
      for (o = 0; o < s; o++)
        switch (a = i[o], a.$kind) {
          case 26:
            tr(a, e, t, n);
            break;
          case 24:
          case 25: {
            if (typeof n != "object" || n === null)
              throw se("AUR0112");
            let c = U(a.source, Yt.create(n), t, null);
            c === void 0 && a.initializer && (c = U(a.initializer, e, t, null)), tr(a, e, t, c);
            break;
          }
        }
      break;
    }
    case 26:
      if (r instanceof j1) {
        if (n == null)
          return;
        if (typeof n != "object")
          throw se("AUR0112");
        let i = U(r.source, Yt.create(n), t, null);
        i === void 0 && r.initializer && (i = U(r.initializer, e, t, null)), tr(r.target, e, t, i);
      } else {
        if (n == null)
          return;
        if (typeof n != "object")
          throw se("AUR0112");
        const i = r.indexOrProperties;
        let s;
        if (ac(i)) {
          if (!Array.isArray(n))
            throw se("AUR0112");
          s = n.slice(i);
        } else
          s = Object.entries(n).reduce((o, [a, c]) => (i.includes(a) || (o[a] = c), o), {});
        tr(r.target, e, t, s);
      }
      break;
    case 28:
      return r.assign(e, t, n);
    default:
      return;
  }
}
function An(r, e, t) {
  switch (r.$kind) {
    case 18: {
      const n = r.name, i = r.key, s = t.getBehavior?.(n);
      if (s == null)
        throw xA(n);
      if (t[i] === void 0)
        t[i] = s, s.bind?.(e, t, ...r.args.map((o) => U(o, e, t, null)));
      else
        throw vA(n);
      An(r.expression, e, t);
      return;
    }
    case 17: {
      const n = r.name, i = t.getConverter?.(n);
      if (i == null)
        throw W1(n);
      const s = i.signals;
      if (s != null) {
        const o = t.getSignaler?.(), a = s.length;
        let c = 0;
        for (; c < a; ++c)
          o?.addSignalListener(s[c], t);
      }
      An(r.expression, e, t);
      return;
    }
    case 22:
      An(r.iterable, e, t);
      break;
    case 28:
      r.bind?.(e, t);
  }
}
function tn(r, e, t) {
  switch (r.$kind) {
    case 18: {
      const n = r.key, i = t;
      i[n] !== void 0 && (i[n].unbind?.(e, t), i[n] = void 0), tn(r.expression, e, t);
      break;
    }
    case 17: {
      const n = t.getConverter?.(r.name);
      if (n?.signals === void 0)
        return;
      const i = t.getSignaler?.();
      let s = 0;
      for (; s < n.signals.length; ++s)
        i?.removeSignalListener(n.signals[s], t);
      tn(r.expression, e, t);
      break;
    }
    case 22:
      tn(r.iterable, e, t);
      break;
    case 28:
      r.unbind?.(e, t);
  }
}
const xA = (r) => se(`AUR0101:${r}`), vA = (r) => se(`AUR0102:${r}`), W1 = (r) => se(`AUR0103:${r}`), Yp = (r, e, t) => {
  const n = e == null ? null : e[t];
  if (Zr(n))
    return n;
  if (!r && n == null)
    return null;
  throw se(`AUR0111:${t}`);
}, Xp = (r) => {
  switch (typeof r) {
    case "number":
    case "bigint":
      return !0;
    default:
      return !1;
  }
}, Zp = (r) => {
  switch (typeof r) {
    case "string":
      return !0;
    case "object":
      return r instanceof Date;
    default:
      return !1;
  }
}, yA = "at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" "), eg = pe.createInterface("ICoercionConfiguration");
var tg;
(function(r) {
  r[r.indexed = 8] = "indexed", r[r.keyed = 4] = "keyed", r[r.array = 9] = "array", r[r.map = 6] = "map", r[r.set = 7] = "set";
})(tg || (tg = {}));
var rg;
(function(r) {
  r[r.None = 0] = "None", r[r.Observer = 1] = "Observer", r[r.Node = 2] = "Node", r[r.Layout = 4] = "Layout", r[r.Primtive = 8] = "Primtive", r[r.Array = 18] = "Array", r[r.Set = 34] = "Set", r[r.Map = 66] = "Map";
})(rg || (rg = {}));
function Hs(r = 0) {
  const e = Array(r);
  let t = 0;
  for (; t < r; )
    e[t] = t++;
  return e.deletedIndices = [], e.deletedItems = [], e.isIndexMap = !0, e;
}
function wA(r) {
  const e = r.slice();
  return e.deletedIndices = r.deletedIndices.slice(), e.deletedItems = r.deletedItems.slice(), e.isIndexMap = !0, e;
}
function vr(r) {
  return r == null ? ng : ng(r);
}
function ng(r) {
  const e = r.prototype;
  nn(e, "subs", {
    get: SA
  }), ai(e, "subscribe", CA), ai(e, "unsubscribe", EA);
}
class AA {
  constructor() {
    this.count = 0, this.t = [];
  }
  add(e) {
    return this.t.includes(e) ? !1 : (this.t[this.t.length] = e, ++this.count, !0);
  }
  remove(e) {
    const t = this.t.indexOf(e);
    return t !== -1 ? (this.t.splice(t, 1), --this.count, !0) : !1;
  }
  notify(e, t) {
    const n = this.t.slice(0), i = n.length;
    let s = 0;
    for (; s < i; ++s)
      n[s].handleChange(e, t);
  }
  notifyCollection(e, t) {
    const n = this.t.slice(0), i = n.length;
    let s = 0;
    for (; s < i; ++s)
      n[s].handleCollectionChange(e, t);
  }
}
function SA() {
  return th(this, "subs", new AA());
}
function CA(r) {
  return this.subs.add(r);
}
function EA(r) {
  return this.subs.remove(r);
}
class H1 {
  constructor(e) {
    this.owner = e, this.type = 18, this.v = (this.o = e.collection).length;
  }
  getValue() {
    return this.o.length;
  }
  setValue(e) {
    e !== this.v && (Number.isNaN(e) || (this.o.splice(e), this.v = this.o.length));
  }
  handleCollectionChange(e, t) {
    const n = this.v, i = this.o.length;
    (this.v = i) !== n && this.subs.notify(this.v, n);
  }
}
class Yd {
  constructor(e) {
    this.owner = e, this.v = (this.o = e.collection).size, this.type = es(this.o) ? 66 : 34;
  }
  getValue() {
    return this.o.size;
  }
  setValue() {
    throw se("AUR02");
  }
  handleCollectionChange(e, t) {
    const n = this.v, i = this.o.size;
    (this.v = i) !== n && this.subs.notify(this.v, n);
  }
}
function G1(r) {
  const e = r.prototype;
  ai(e, "subscribe", _A), ai(e, "unsubscribe", PA), vr(r);
}
function _A(r) {
  this.subs.add(r) && this.subs.count === 1 && this.owner.subscribe(this);
}
function PA(r) {
  this.subs.remove(r) && this.subs.count === 0 && this.owner.subscribe(this);
}
G1(H1);
G1(Yd);
const ig = "__au_array_obs__", ni = (() => {
  let r = ca(ig, Array);
  return r == null && la(ig, r = /* @__PURE__ */ new WeakMap(), Array), r;
})();
function kA(r, e) {
  return r === e ? 0 : (r = r === null ? "null" : r.toString(), e = e === null ? "null" : e.toString(), r < e ? -1 : 1);
}
function RA(r, e) {
  return r === void 0 ? e === void 0 ? 0 : 1 : e === void 0 ? -1 : 0;
}
function TA(r, e, t, n, i) {
  let s, o, a, c, l, f, p;
  for (f = t + 1; f < n; f++) {
    for (s = r[f], o = e[f], p = f - 1; p >= t && (a = r[p], c = e[p], l = i(a, s), l > 0); p--)
      r[p + 1] = a, e[p + 1] = c;
    r[p + 1] = s, e[p + 1] = o;
  }
}
function iu(r, e, t, n, i) {
  let s = 0, o = 0, a, c, l, f, p, b, w, A, C, S, k, O, L, B, N, j, q, K, X;
  for (; ; ) {
    if (n - t <= 10) {
      TA(r, e, t, n, i);
      return;
    }
    s = t + (n - t >> 1), a = r[t], f = e[t], c = r[n - 1], p = e[n - 1], l = r[s], b = e[s], w = i(a, c), w > 0 && (S = a, k = f, a = c, f = p, c = S, p = k), A = i(a, l), A >= 0 ? (S = a, k = f, a = l, f = b, l = c, b = p, c = S, p = k) : (C = i(c, l), C > 0 && (S = c, k = p, c = l, p = b, l = S, b = k)), r[t] = a, e[t] = f, r[n - 1] = l, e[n - 1] = b, O = c, L = p, B = t + 1, N = n - 1, r[s] = r[B], e[s] = e[B], r[B] = O, e[B] = L;
    e:
      for (o = B + 1; o < N; o++)
        if (j = r[o], q = e[o], K = i(j, O), K < 0)
          r[o] = r[B], e[o] = e[B], r[B] = j, e[B] = q, B++;
        else if (K > 0) {
          do {
            if (N--, N == o)
              break e;
            X = r[N], K = i(X, O);
          } while (K > 0);
          r[o] = r[N], e[o] = e[N], r[N] = j, e[N] = q, K < 0 && (j = r[o], q = e[o], r[o] = r[B], e[o] = e[B], r[B] = j, e[B] = q, B++);
        }
    n - N < B - t ? (iu(r, e, N, n, i), n = B) : (iu(r, e, t, B, i), t = N);
  }
}
const vi = Array.prototype, IA = vi.push, Kh = vi.unshift, zh = vi.pop, qh = vi.shift, hl = vi.splice, MA = vi.reverse, OA = vi.sort, K1 = ["push", "unshift", "pop", "shift", "splice", "reverse", "sort"], z1 = {
  push: function(...r) {
    const e = ni.get(this);
    if (e === void 0)
      return IA.apply(this, r);
    const t = this.length, n = r.length;
    if (n === 0)
      return t;
    this.length = e.indexMap.length = t + n;
    let i = t;
    for (; i < this.length; )
      this[i] = r[i - t], e.indexMap[i] = -2, i++;
    return e.notify(), this.length;
  },
  unshift: function(...r) {
    const e = ni.get(this);
    if (e === void 0)
      return Kh.apply(this, r);
    const t = r.length, n = new Array(t);
    let i = 0;
    for (; i < t; )
      n[i++] = -2;
    Kh.apply(e.indexMap, n);
    const s = Kh.apply(this, r);
    return e.notify(), s;
  },
  pop: function() {
    const r = ni.get(this);
    if (r === void 0)
      return zh.call(this);
    const e = r.indexMap, t = zh.call(this), n = e.length - 1;
    return e[n] > -1 && (e.deletedIndices.push(e[n]), e.deletedItems.push(t)), zh.call(e), r.notify(), t;
  },
  shift: function() {
    const r = ni.get(this);
    if (r === void 0)
      return qh.call(this);
    const e = r.indexMap, t = qh.call(this);
    return e[0] > -1 && (e.deletedIndices.push(e[0]), e.deletedItems.push(t)), qh.call(e), r.notify(), t;
  },
  splice: function(...r) {
    const e = r[0], t = r[1], n = ni.get(this);
    if (n === void 0)
      return hl.apply(this, r);
    const i = this.length, s = 0 | e, o = s < 0 ? Math.max(i + s, 0) : Math.min(s, i), a = n.indexMap, c = r.length, l = c === 0 ? 0 : c === 1 ? i - o : t;
    let f = o;
    if (l > 0) {
      const b = f + l;
      for (; f < b; )
        a[f] > -1 && (a.deletedIndices.push(a[f]), a.deletedItems.push(this[f])), f++;
    }
    if (f = 0, c > 2) {
      const b = c - 2, w = new Array(b);
      for (; f < b; )
        w[f++] = -2;
      hl.call(a, e, t, ...w);
    } else
      hl.apply(a, r);
    const p = hl.apply(this, r);
    return (l > 0 || f > 0) && n.notify(), p;
  },
  reverse: function() {
    const r = ni.get(this);
    if (r === void 0)
      return MA.call(this), this;
    const e = this.length, t = e / 2 | 0;
    let n = 0;
    for (; n !== t; ) {
      const i = e - n - 1, s = this[n], o = r.indexMap[n], a = this[i], c = r.indexMap[i];
      this[n] = a, r.indexMap[n] = c, this[i] = s, r.indexMap[i] = o, n++;
    }
    return r.notify(), this;
  },
  sort: function(r) {
    const e = ni.get(this);
    if (e === void 0)
      return OA.call(this, r), this;
    let t = this.length;
    if (t < 2)
      return this;
    iu(this, e.indexMap, 0, t, RA);
    let n = 0;
    for (; n < t && this[n] !== void 0; )
      n++;
    (r === void 0 || !Zr(r)) && (r = kA), iu(this, e.indexMap, 0, n, r);
    let i = !1;
    for (n = 0, t = e.indexMap.length; t > n; ++n)
      if (e.indexMap[n] !== n) {
        i = !0;
        break;
      }
    return i && e.notify(), this;
  }
};
for (const r of K1)
  nn(z1[r], "observing", {
    value: !0,
    writable: !1,
    configurable: !1,
    enumerable: !1
  });
let sg = !1;
const og = "__au_arr_on__";
function NA() {
  if (!(ca(og, Array) ?? !1)) {
    la(og, !0, Array);
    for (const r of K1)
      vi[r].observing !== !0 && th(vi, r, z1[r]);
  }
}
class q1 {
  constructor(e) {
    this.type = 18, sg || (sg = !0, NA()), this.indexObservers = {}, this.collection = e, this.indexMap = Hs(e.length), this.lenObs = void 0, ni.set(e, this);
  }
  notify() {
    this.subs;
    const e = this.indexMap, t = this.collection, n = t.length;
    this.indexMap = Hs(n), this.subs.notifyCollection(t, e);
  }
  getLengthObserver() {
    return this.lenObs ?? (this.lenObs = new H1(this));
  }
  getIndexObserver(e) {
    var t;
    return (t = this.indexObservers)[e] ?? (t[e] = new Q1(this, e));
  }
}
class Q1 {
  constructor(e, t) {
    this.owner = e, this.index = t, this.doNotCache = !0, this.value = this.getValue();
  }
  getValue() {
    return this.owner.collection[this.index];
  }
  setValue(e) {
    if (e === this.getValue())
      return;
    const t = this.owner, n = this.index, i = t.indexMap;
    i[n] > -1 && i.deletedIndices.push(i[n]), i[n] = -2, t.collection[n] = e, t.notify();
  }
  handleCollectionChange(e, t) {
    const n = this.index;
    if (t[n] === n)
      return;
    const s = this.value, o = this.value = this.getValue();
    s !== o && this.subs.notify(o, s);
  }
  subscribe(e) {
    this.subs.add(e) && this.subs.count === 1 && this.owner.subscribe(this);
  }
  unsubscribe(e) {
    this.subs.remove(e) && this.subs.count === 0 && this.owner.unsubscribe(this);
  }
}
vr(q1);
vr(Q1);
function qa(r) {
  let e = ni.get(r);
  return e === void 0 && (e = new q1(r)), e;
}
const DA = (r, e) => r - e;
function BA(r) {
  let e = 0, t = 0, n = 0;
  const i = wA(r);
  i.deletedIndices.length > 1 && i.deletedIndices.sort(DA);
  const s = i.length;
  for (; n < s; ++n) {
    for (; i.deletedIndices[t] <= n - e; )
      ++t, --e;
    i[n] === -2 ? ++e : i[n] += e;
  }
  return i;
}
function $A(r, e) {
  const t = r.slice(), n = e.length;
  let i = 0, s = 0;
  for (; i < n; )
    s = e[i], s !== -2 && (r[i] = t[s]), ++i;
}
const ag = "__au_set_obs__", Qa = (() => {
  let r = ca(ag, Set);
  return r == null && la(ag, r = /* @__PURE__ */ new WeakMap(), Set), r;
})(), uc = Set.prototype, cg = uc.add, lg = uc.clear, ug = uc.delete, J1 = ["add", "clear", "delete"], Y1 = {
  add: function(r) {
    const e = Qa.get(this);
    if (e === void 0)
      return cg.call(this, r), this;
    const t = this.size;
    return cg.call(this, r), this.size === t ? this : (e.indexMap[t] = -2, e.notify(), this);
  },
  clear: function() {
    const r = Qa.get(this);
    if (r === void 0)
      return lg.call(this);
    if (this.size > 0) {
      const t = r.indexMap;
      let n = 0;
      for (const i of this.keys())
        t[n] > -1 && (t.deletedIndices.push(t[n]), t.deletedItems.push(i)), n++;
      lg.call(this), t.length = 0, r.notify();
    }
  },
  delete: function(r) {
    const e = Qa.get(this);
    if (e === void 0)
      return ug.call(this, r);
    if (this.size === 0)
      return !1;
    let n = 0;
    const i = e.indexMap;
    for (const s of this.keys()) {
      if (s === r) {
        i[n] > -1 && (i.deletedIndices.push(i[n]), i.deletedItems.push(s)), i.splice(n, 1);
        const o = ug.call(this, r);
        return o === !0 && e.notify(), o;
      }
      n++;
    }
    return !1;
  }
}, LA = {
  writable: !0,
  enumerable: !1,
  configurable: !0
};
for (const r of J1)
  nn(Y1[r], "observing", {
    value: !0,
    writable: !1,
    configurable: !1,
    enumerable: !1
  });
let hg = !1;
const fg = "__au_set_on__";
function FA() {
  if (!(ca(fg, Set) ?? !1)) {
    la(fg, !0, Set);
    for (const r of J1)
      uc[r].observing !== !0 && nn(uc, r, {
        ...LA,
        value: Y1[r]
      });
  }
}
class X1 {
  constructor(e) {
    this.type = 34, hg || (hg = !0, FA()), this.collection = e, this.indexMap = Hs(e.size), this.lenObs = void 0, Qa.set(e, this);
  }
  notify() {
    this.subs;
    const e = this.indexMap, t = this.collection, n = t.size;
    this.indexMap = Hs(n), this.subs.notifyCollection(t, e);
  }
  getLengthObserver() {
    return this.lenObs ?? (this.lenObs = new Yd(this));
  }
}
vr(X1);
function su(r) {
  let e = Qa.get(r);
  return e === void 0 && (e = new X1(r)), e;
}
const dg = "__au_map_obs__", Ja = (() => {
  let r = ca(dg, Map);
  return r == null && la(dg, r = /* @__PURE__ */ new WeakMap(), Map), r;
})(), hc = Map.prototype, pg = hc.set, gg = hc.clear, mg = hc.delete, Z1 = ["set", "clear", "delete"], ev = {
  set: function(r, e) {
    const t = Ja.get(this);
    if (t === void 0)
      return pg.call(this, r, e), this;
    const n = this.get(r), i = this.size;
    if (pg.call(this, r, e), this.size === i) {
      let o = 0;
      for (const a of this.entries()) {
        if (a[0] === r)
          return a[1] !== n && (t.indexMap.deletedIndices.push(t.indexMap[o]), t.indexMap.deletedItems.push(a), t.indexMap[o] = -2, t.notify()), this;
        o++;
      }
      return this;
    }
    return t.indexMap[i] = -2, t.notify(), this;
  },
  clear: function() {
    const r = Ja.get(this);
    if (r === void 0)
      return gg.call(this);
    if (this.size > 0) {
      const t = r.indexMap;
      let n = 0;
      for (const i of this.keys())
        t[n] > -1 && (t.deletedIndices.push(t[n]), t.deletedItems.push(i)), n++;
      gg.call(this), t.length = 0, r.notify();
    }
  },
  delete: function(r) {
    const e = Ja.get(this);
    if (e === void 0)
      return mg.call(this, r);
    if (this.size === 0)
      return !1;
    let n = 0;
    const i = e.indexMap;
    for (const s of this.keys()) {
      if (s === r) {
        i[n] > -1 && (i.deletedIndices.push(i[n]), i.deletedItems.push(s)), i.splice(n, 1);
        const o = mg.call(this, r);
        return o === !0 && e.notify(), o;
      }
      ++n;
    }
    return !1;
  }
}, UA = {
  writable: !0,
  enumerable: !1,
  configurable: !0
};
for (const r of Z1)
  nn(ev[r], "observing", {
    value: !0,
    writable: !1,
    configurable: !1,
    enumerable: !1
  });
let bg = !1;
const xg = "__au_map_on__";
function VA() {
  if (!(ca(xg, Map) ?? !1)) {
    la(xg, !0, Map);
    for (const r of Z1)
      hc[r].observing !== !0 && nn(hc, r, {
        ...UA,
        value: ev[r]
      });
  }
}
class tv {
  constructor(e) {
    this.type = 66, bg || (bg = !0, VA()), this.collection = e, this.indexMap = Hs(e.size), this.lenObs = void 0, Ja.set(e, this);
  }
  notify() {
    const e = this.subs, t = this.indexMap, n = this.collection, i = n.size;
    this.indexMap = Hs(i), e.notifyCollection(n, t);
  }
  getLengthObserver() {
    return this.lenObs ?? (this.lenObs = new Yd(this));
  }
}
vr(tv);
function ou(r) {
  let e = Ja.get(r);
  return e === void 0 && (e = new tv(r)), e;
}
function jA() {
  return th(this, "obs", new qA(this));
}
function WA(r, e) {
  this.obs.add(this.oL.getObserver(r, e));
}
function HA(r) {
  let e;
  if (cs(r))
    e = qa(r);
  else if ($c(r))
    e = su(r);
  else if (es(r))
    e = ou(r);
  else
    throw se("AUR0210");
  this.obs.add(e);
}
function GA(r) {
  this.obs.add(r);
}
function KA() {
  throw se("AUR2011:handleChange");
}
function zA() {
  throw se("AUR2011:handleCollectionChange");
}
class qA {
  constructor(e) {
    this.version = 0, this.count = 0, this.o = /* @__PURE__ */ new Map(), this.b = e;
  }
  add(e) {
    this.o.has(e) || (e.subscribe(this.b), ++this.count), this.o.set(e, this.version);
  }
  clear() {
    this.o.forEach(JA, this), this.count = this.o.size;
  }
  clearAll() {
    this.o.forEach(QA, this), this.o.clear(), this.count = 0;
  }
}
function QA(r, e) {
  e.unsubscribe(this.b);
}
function JA(r, e) {
  this.version !== r && (e.unsubscribe(this.b), this.o.delete(e));
}
function vg(r) {
  const e = r.prototype;
  return ai(e, "observe", WA), ai(e, "observeCollection", HA), ai(e, "subscribeTo", GA), nn(e, "obs", {
    get: jA
  }), ai(e, "handleChange", KA), ai(e, "handleCollectionChange", zA), r;
}
function kn(r) {
  return r == null ? vg : vg(r);
}
const Xd = aa("IExpressionParser", (r) => r.singleton(YA));
class YA {
  constructor() {
    this.i = za(), this.u = za(), this.h = za();
  }
  parse(e, t) {
    let n;
    switch (t) {
      case 32:
        return new Jd(e);
      case 1:
        return n = this.h[e], n === void 0 && (n = this.h[e] = this.$parse(e, t)), n;
      case 2:
        return n = this.u[e], n === void 0 && (n = this.u[e] = this.$parse(e, t)), n;
      default:
        if (e.length === 0) {
          if ((t & 24) > 0)
            return Jt.$empty;
          throw p6();
        }
        return n = this.i[e], n === void 0 && (n = this.i[e] = this.$parse(e, t)), n;
    }
  }
  $parse(e, t) {
    return Re = e, Se = 0, Gn = e.length, Fr = 0, Gs = 0, Q = 6291456, $e = "", bt = Ks(0), Te = !0, Ce = !1, e0 = -1, _t(61, t === void 0 ? 16 : t);
  }
}
function Zd(r) {
  switch (r) {
    case 98:
      return 8;
    case 116:
      return 9;
    case 110:
      return 10;
    case 118:
      return 11;
    case 102:
      return 12;
    case 114:
      return 13;
    case 34:
      return 34;
    case 39:
      return 39;
    case 92:
      return 92;
    default:
      return r;
  }
}
const XA = Jt.$false, ZA = Jt.$true, e6 = Jt.$null, rv = Jt.$undefined, Ya = mi.$this, Qh = mi.$parent;
var yg;
(function(r) {
  r[r.None = 0] = "None", r[r.Interpolation = 1] = "Interpolation", r[r.IsIterator = 2] = "IsIterator", r[r.IsChainable = 4] = "IsChainable", r[r.IsFunction = 8] = "IsFunction", r[r.IsProperty = 16] = "IsProperty", r[r.IsCustom = 32] = "IsCustom";
})(yg || (yg = {}));
let Re = "", Se = 0, Gn = 0, Fr = 0, Gs = 0, Q = 6291456, $e = "", bt, Te = !0, Ce = !1, e0 = -1;
const fc = String.fromCharCode, Ks = (r) => Re.charCodeAt(r), No = () => Re.slice(Gs, Se);
function _t(r, e) {
  if (e === 32)
    return new Jd(Re);
  if (Se === 0) {
    if (1 & e)
      return a6();
    if (ae(), 4194304 & Q)
      throw h6();
  }
  Te = 513 > r, Ce = !1;
  let t = !1, n, i = 0;
  if (131072 & Q) {
    const s = Bl[63 & Q];
    ae(), n = new fA(s, _t(514, e)), Te = !1;
  } else {
    e:
      switch (Q) {
        case 12294:
          i = Fr, Te = !1;
          do
            switch (ae(), ++i, Q) {
              case 65545:
                if (ae(), (12288 & Q) === 0)
                  throw ti();
                break;
              case 10:
              case 11:
                throw ti();
              case 2162700:
                if (Ce = !0, ae(), (12288 & Q) === 0) {
                  n = i === 0 ? Ya : i === 1 ? Qh : new mi(i), t = !0;
                  break e;
                }
                break;
              default:
                if (2097152 & Q) {
                  n = i === 0 ? Ya : i === 1 ? Qh : new mi(i);
                  break e;
                }
                throw f6();
            }
          while (Q === 12294);
        case 4096: {
          const s = $e;
          if (2 & e ? n = new nu(s) : n = new Ml(s, i), Te = !Ce, ae(), bn(50)) {
            if (Q === 524296)
              throw lv();
            const o = Ce, a = Fr;
            ++Fr;
            const c = _t(62, 0);
            Ce = o, Fr = a, Te = !1, n = new zf([new nu(s)], c);
          }
          break;
        }
        case 10:
          throw S6();
        case 11:
          throw Qf();
        case 12292:
          switch (Te = !1, ae(), Fr) {
            case 0:
              n = Ya;
              break;
            case 1:
              n = Qh;
              break;
            default:
              n = new mi(Fr);
              break;
          }
          break;
        case 2688007:
          n = n6(e);
          break;
        case 2688016:
          n = Re.search(/\s+of\s+/) > Se ? t6() : i6(e);
          break;
        case 524296:
          n = o6(e);
          break;
        case 2163759:
          n = new ru([$e]), Te = !1, ae();
          break;
        case 2163760:
          n = Jh(e, n, !1);
          break;
        case 16384:
        case 32768:
          n = new Jt($e), Te = !1, ae();
          break;
        case 8194:
        case 8195:
        case 8193:
        case 8192:
          n = Bl[63 & Q], Te = !1, ae();
          break;
        default:
          throw Se >= Gn ? d6() : Yh();
      }
    if (2 & e)
      return s6(n);
    if (514 < r)
      return n;
    if (Q === 10 || Q === 11)
      throw ti();
    if (n.$kind === 0)
      switch (Q) {
        case 2162700:
          if (Ce = !0, Te = !1, ae(), (13312 & Q) === 0)
            throw t0();
          if (12288 & Q)
            n = new Ml($e, n.ancestor), ae();
          else if (Q === 2688007)
            n = new Ol(n, Bn(), !0);
          else if (Q === 2688016)
            n = Nl(n, !0);
          else
            throw Dl();
          break;
        case 65545:
          if (Te = !Ce, ae(), (12288 & Q) === 0)
            throw ti();
          n = new Ml($e, n.ancestor), ae();
          break;
        case 10:
        case 11:
          throw ti();
        case 2688007:
          n = new Ol(n, Bn(), t);
          break;
        case 2688016:
          n = Nl(n, t);
          break;
        case 2163759:
          n = wg(n);
          break;
        case 2163760:
          n = Jh(e, n, !0);
          break;
      }
    for (; (65536 & Q) > 0; )
      switch (Q) {
        case 2162700:
          n = r6(n);
          break;
        case 65545:
          if (ae(), (12288 & Q) === 0)
            throw ti();
          n = nv(n, !1);
          break;
        case 10:
        case 11:
          throw ti();
        case 2688007:
          n.$kind === 1 ? n = new F1(n.name, Bn(), n.ancestor, !1) : n.$kind === 10 ? n = new tu(n.object, n.name, Bn(), n.optional, !1) : n = new Ol(n, Bn(), !1);
          break;
        case 2688016:
          n = Nl(n, !1);
          break;
        case 2163759:
          if (Ce)
            throw Dl();
          n = wg(n);
          break;
        case 2163760:
          if (Ce)
            throw Dl();
          n = Jh(e, n, !0);
          break;
      }
  }
  if (Q === 10 || Q === 11)
    throw ti();
  if (513 < r)
    return n;
  for (; (262144 & Q) > 0; ) {
    const s = Q;
    if ((960 & s) <= r)
      break;
    ae(), n = new hA(Bl[63 & s], n, _t(960 & s, e)), Te = !1;
  }
  if (63 < r)
    return n;
  if (bn(6291478)) {
    const s = _t(62, e);
    Sn(6291476), n = new uA(n, s, _t(62, e)), Te = !1;
  }
  if (62 < r)
    return n;
  if (bn(4194349)) {
    if (!Te)
      throw g6();
    n = new lA(n, _t(62, e));
  }
  if (61 < r)
    return n;
  for (; bn(6291480); ) {
    if (Q === 6291456)
      throw m6();
    const s = $e;
    ae();
    const o = new Array();
    for (; bn(6291476); )
      o.push(_t(62, e));
    n = new lc(n, s, o);
  }
  for (; bn(6291479); ) {
    if (Q === 6291456)
      throw b6();
    const s = $e;
    ae();
    const o = new Array();
    for (; bn(6291476); )
      o.push(_t(62, e));
    n = new cA(n, s, o);
  }
  if (Q !== 6291456) {
    if ((1 & e) > 0 && Q === 7340045)
      return n;
    if ((4 & e) > 0 && Q === 6291477) {
      if (Se === Gn)
        throw Yh();
      return e0 = Se - 1, n;
    }
    throw No() === "of" ? x6() : Yh();
  }
  return n;
}
function t6() {
  const r = [], e = new mA(24, r, void 0, void 0);
  let t = "", n = !0, i = 0;
  for (; n; )
    switch (ae(), Q) {
      case 7340051:
        n = !1, s();
        break;
      case 6291471:
        s();
        break;
      case 4096:
        t = No();
        break;
      default:
        throw w6();
    }
  return Sn(7340051), e;
  function s() {
    t !== "" ? (r.push(new j1(new Hf(Ya, t), new L1(Ya, new Jt(i++)), void 0)), t = "") : i++;
  }
}
function Bn() {
  const r = Ce;
  ae();
  const e = [];
  for (; Q !== 7340046 && (e.push(_t(62, 0)), !!bn(6291471)); )
    ;
  return Sn(7340046), Te = !1, Ce = r, e;
}
function Nl(r, e) {
  const t = Ce;
  return ae(), r = new L1(r, _t(62, 0), e), Sn(7340051), Te = !t, Ce = t, r;
}
function r6(r) {
  if (Ce = !0, Te = !1, ae(), (13312 & Q) === 0)
    throw t0();
  if (12288 & Q)
    return nv(r, !0);
  if (Q === 2688007)
    return r.$kind === 1 ? new F1(r.name, Bn(), r.ancestor, !0) : r.$kind === 10 ? new tu(r.object, r.name, Bn(), r.optional, !0) : new Ol(r, Bn(), !0);
  if (Q === 2688016)
    return Nl(r, !0);
  throw Dl();
}
function nv(r, e) {
  const t = $e;
  switch (Q) {
    case 2162700: {
      Ce = !0, Te = !1;
      const n = Se, i = Gs, s = Q, o = bt, a = $e, c = Te, l = Ce;
      if (ae(), (13312 & Q) === 0)
        throw t0();
      return Q === 2688007 ? new tu(r, t, Bn(), e, !0) : (Se = n, Gs = i, Q = s, bt = o, $e = a, Te = c, Ce = l, new Hf(r, t, e));
    }
    case 2688007:
      return Te = !1, new tu(r, t, Bn(), e, !1);
    default:
      return Te = !Ce, ae(), new Hf(r, t, e);
  }
}
function n6(r) {
  ae();
  const e = Se, t = Gs, n = Q, i = bt, s = $e, o = Te, a = Ce, c = [];
  let l = 1, f = !1;
  e:
    for (; ; ) {
      if (Q === 11) {
        if (ae(), Q !== 4096)
          throw ti();
        if (c.push(new nu($e)), ae(), Q === 6291471)
          throw A6();
        if (Q !== 7340046 || (ae(), Q !== 50))
          throw Qf();
        ae();
        const w = Ce, A = Fr;
        ++Fr;
        const C = _t(62, 0);
        return Ce = w, Fr = A, Te = !1, new zf(c, C, !0);
      }
      switch (Q) {
        case 4096:
          c.push(new nu($e)), ae();
          break;
        case 7340046:
          ae();
          break e;
        case 524296:
        case 2688016:
          ae(), l = 4;
          break;
        case 6291471:
          l = 2, f = !0;
          break e;
        case 2688007:
          l = 2;
          break e;
        default:
          ae(), l = 2;
          break;
      }
      switch (Q) {
        case 6291471:
          if (ae(), f = !0, l === 1)
            break;
          break e;
        case 7340046:
          ae();
          break e;
        case 4194349:
          l === 1 && (l = 3);
          break e;
        case 50:
          if (f)
            throw fl();
          ae(), l = 2;
          break e;
        default:
          l === 1 && (l = 2);
          break e;
      }
    }
  if (Q === 50) {
    if (l === 1) {
      if (ae(), Q === 524296)
        throw lv();
      const w = Ce, A = Fr;
      ++Fr;
      const C = _t(62, 0);
      return Ce = w, Fr = A, Te = !1, new zf(c, C);
    }
    throw fl();
  } else if (l === 1 && c.length === 0)
    throw av(50);
  if (f)
    switch (l) {
      case 2:
        throw fl();
      case 3:
        throw Sg();
      case 4:
        throw Cg();
    }
  Se = e, Gs = t, Q = n, bt = i, $e = s, Te = o, Ce = a;
  const p = Ce, b = _t(62, r);
  if (Ce = p, Sn(7340046), Q === 50)
    switch (l) {
      case 2:
        throw fl();
      case 3:
        throw Sg();
      case 4:
        throw Cg();
    }
  return b;
}
function i6(r) {
  const e = Ce;
  ae();
  const t = new Array();
  for (; Q !== 7340051; )
    if (bn(6291471)) {
      if (t.push(rv), Q === 7340051)
        break;
    } else if (t.push(_t(62, -3 & r)), bn(6291471)) {
      if (Q === 7340051)
        break;
    } else
      break;
  return Ce = e, Sn(7340051), 2 & r ? new dA(t) : (Te = !1, new Gf(t));
}
function s6(r) {
  if ((r.$kind & 23) === 0 || Q !== 4204593)
    throw Ag();
  ae();
  const e = r, t = _t(61, 4);
  return new gA(e, t, e0);
}
function o6(r) {
  const e = Ce, t = new Array(), n = new Array();
  for (ae(); Q !== 7340045; ) {
    if (t.push($e), 49152 & Q)
      ae(), Sn(6291476), n.push(_t(62, -3 & r));
    else if (12288 & Q) {
      const i = bt, s = Q, o = Se;
      ae(), bn(6291476) ? n.push(_t(62, -3 & r)) : (bt = i, Q = s, Se = o, n.push(_t(515, -3 & r)));
    } else
      throw v6();
    Q !== 7340045 && Sn(6291471);
  }
  return Ce = e, Sn(7340045), 2 & r ? new pA(t, n) : (Te = !1, new Kf(t, n));
}
function a6() {
  const r = [], e = [], t = Gn;
  let n = "";
  for (; Se < t; ) {
    switch (bt) {
      case 36:
        if (Ks(Se + 1) === 123) {
          r.push(n), n = "", Se += 2, bt = Ks(Se), ae();
          const i = _t(61, 1);
          e.push(i);
          continue;
        } else
          n += "$";
        break;
      case 92:
        n += fc(Zd(ge()));
        break;
      default:
        n += fc(bt);
    }
    ge();
  }
  return e.length ? (r.push(n), new V1(r, e)) : null;
}
function Jh(r, e, t) {
  const n = Ce, i = [$e];
  Sn(2163760);
  const s = [_t(62, r)];
  for (; (Q = u6()) !== 2163759; )
    i.push($e), Sn(2163760), s.push(_t(62, r));
  return i.push($e), Te = !1, Ce = n, t ? (ae(), new U1(i, i, e, s)) : (ae(), new ru(i, s));
}
function wg(r) {
  Te = !1;
  const e = [$e];
  return ae(), new U1(e, e, r);
}
function ae() {
  for (; Se < Gn; )
    if (Gs = Se, (Q = Me[bt]()) != null)
      return;
  Q = 6291456;
}
function ge() {
  return bt = Ks(++Se);
}
function c6() {
  for (; r0[ge()]; )
    ;
  const r = C6[$e = No()];
  return r === void 0 ? 4096 : r;
}
function iv(r) {
  let e = bt;
  if (r === !1) {
    do
      e = ge();
    while (e <= 57 && e >= 48);
    if (e !== 46)
      return $e = parseInt(No(), 10), 32768;
    if (e = ge(), Se >= Gn)
      return $e = parseInt(No().slice(0, -1), 10), 32768;
  }
  if (e <= 57 && e >= 48)
    do
      e = ge();
    while (e <= 57 && e >= 48);
  else
    bt = Ks(--Se);
  return $e = parseFloat(No()), 32768;
}
function l6() {
  const r = bt;
  ge();
  let e = 0;
  const t = new Array();
  let n = Se;
  for (; bt !== r; )
    if (bt === 92)
      t.push(Re.slice(n, Se)), ge(), e = Zd(bt), ge(), t.push(fc(e)), n = Se;
    else {
      if (Se >= Gn)
        throw y6();
      ge();
    }
  const i = Re.slice(n, Se);
  return ge(), t.push(i), $e = t.join(""), 16384;
}
function sv() {
  let r = !0, e = "";
  for (; ge() !== 96; )
    if (bt === 36)
      if (Se + 1 < Gn && Ks(Se + 1) === 123) {
        Se++, r = !1;
        break;
      } else
        e += "$";
    else if (bt === 92)
      e += fc(Zd(ge()));
    else {
      if (Se >= Gn)
        throw ov();
      e += fc(bt);
    }
  return ge(), $e = e, r ? 2163759 : 2163760;
}
const u6 = () => {
  if (Se >= Gn)
    throw ov();
  return Se--, sv();
}, bn = (r) => Q === r ? (ae(), !0) : !1, Sn = (r) => {
  if (Q === r)
    ae();
  else
    throw av(r);
}, h6 = () => se(`AUR0151:${Re}`), Qf = () => se(`AUR0152:${Re}`), ti = () => se(`AUR0153:${Re}`), f6 = () => se(`AUR0154:${Re}`), d6 = () => se(`AUR0155:${Re}`), Yh = () => se(`AUR0156:${Re}`), p6 = () => se("AUR0157"), g6 = () => se(`AUR0158:${Re}`), m6 = () => se(`AUR0159:${Re}`), b6 = () => se(`AUR0160:${Re}`), x6 = () => se(`AUR0161:${Re}`), Ag = () => se(`AUR0163:${Re}`), v6 = () => se(`AUR0164:${Re}`), y6 = () => se(`AUR0165:${Re}`), ov = () => se(`AUR0166:${Re}`), av = (r) => se(`AUR0167:${Re}<${Bl[63 & r]}`), cv = () => {
  throw se(`AUR0168:${Re}`);
};
cv.notMapped = !0;
const w6 = () => se(`AUR0170:${Re}`), t0 = () => se(`AUR0171:${Re}`), Dl = () => se(`AUR0172:${Re}`), fl = () => se(`AUR0173:${Re}`), Sg = () => se(`AUR0174:${Re}`), Cg = () => se(`AUR0175:${Re}`), A6 = () => se(`AUR0176:${Re}`), lv = () => se(`AUR0178:${Re}`), S6 = () => se(`AUR0179:${Re}`), Bl = [XA, ZA, e6, rv, "$this", null, "$parent", "(", "{", ".", "..", "...", "?.", "}", ")", ",", "[", "]", ":", ";", "?", "'", '"', "&", "|", "??", "||", "&&", "==", "!=", "===", "!==", "<", ">", "<=", ">=", "in", "instanceof", "+", "-", "typeof", "void", "*", "%", "/", "=", "!", 2163759, 2163760, "of", "=>"], C6 = Object.assign(/* @__PURE__ */ Object.create(null), {
  true: 8193,
  null: 8194,
  false: 8192,
  undefined: 8195,
  $this: 12292,
  $parent: 12294,
  in: 6562212,
  instanceof: 6562213,
  typeof: 139304,
  void: 139305,
  of: 4204593
}), ua = {
  AsciiIdPart: [36, 0, 48, 58, 65, 91, 95, 0, 97, 123],
  IdStart: [36, 0, 65, 91, 95, 0, 97, 123, 170, 0, 186, 0, 192, 215, 216, 247, 248, 697, 736, 741, 7424, 7462, 7468, 7517, 7522, 7526, 7531, 7544, 7545, 7615, 7680, 7936, 8305, 0, 8319, 0, 8336, 8349, 8490, 8492, 8498, 0, 8526, 0, 8544, 8585, 11360, 11392, 42786, 42888, 42891, 42927, 42928, 42936, 42999, 43008, 43824, 43867, 43868, 43877, 64256, 64263, 65313, 65339, 65345, 65371],
  Digit: [48, 58],
  Skip: [0, 33, 127, 161]
}, ha = (r, e, t, n) => {
  const i = t.length;
  for (let s = 0; s < i; s += 2) {
    const o = t[s];
    let a = t[s + 1];
    if (a = a > 0 ? a : o + 1, r && r.fill(n, o, a), e)
      for (let c = o; c < a; c++)
        e.add(c);
  }
}, Ir = (r) => () => (ge(), r), E6 = /* @__PURE__ */ new Set();
ha(null, E6, ua.AsciiIdPart, !0);
const r0 = new Uint8Array(65535);
ha(r0, null, ua.IdStart, 1);
ha(r0, null, ua.Digit, 1);
const Me = new Array(65535);
Me.fill(cv, 0, 65535);
ha(Me, null, ua.Skip, () => (ge(), null));
ha(Me, null, ua.IdStart, c6);
ha(Me, null, ua.Digit, () => iv(!1));
Me[34] = Me[39] = () => l6();
Me[96] = () => sv();
Me[33] = () => ge() !== 61 ? 131118 : ge() !== 61 ? 6553949 : (ge(), 6553951);
Me[61] = () => ge() === 62 ? (ge(), 50) : bt !== 61 ? 4194349 : ge() !== 61 ? 6553948 : (ge(), 6553950);
Me[38] = () => ge() !== 38 ? 6291479 : (ge(), 6553883);
Me[124] = () => ge() !== 124 ? 6291480 : (ge(), 6553818);
Me[63] = () => {
  if (ge() === 46) {
    const r = Ks(Se + 1);
    return r <= 48 || r >= 57 ? (ge(), 2162700) : 6291478;
  }
  return bt !== 63 ? 6291478 : (ge(), 6553753);
};
Me[46] = () => ge() <= 57 && bt >= 48 ? iv(!0) : bt === 46 ? ge() !== 46 ? 10 : (ge(), 11) : 65545;
Me[60] = () => ge() !== 61 ? 6554016 : (ge(), 6554018);
Me[62] = () => ge() !== 61 ? 6554017 : (ge(), 6554019);
Me[37] = Ir(6554155);
Me[40] = Ir(2688007);
Me[41] = Ir(7340046);
Me[42] = Ir(6554154);
Me[43] = Ir(2490854);
Me[44] = Ir(6291471);
Me[45] = Ir(2490855);
Me[47] = Ir(6554156);
Me[58] = Ir(6291476);
Me[59] = Ir(6291477);
Me[91] = Ir(2688016);
Me[93] = Ir(7340051);
Me[123] = Ir(524296);
Me[125] = Ir(7340045);
let ve = null;
const To = [];
let yi = !1;
function _6() {
  yi = !1;
}
function P6() {
  yi = !0;
}
function n0() {
  return ve;
}
function i0(r) {
  if (r == null)
    throw se("AUR0206");
  if (ve == null) {
    ve = r, To[0] = ve, yi = !0;
    return;
  }
  if (ve === r)
    throw se("AUR0207");
  To.push(r), ve = r, yi = !0;
}
function s0(r) {
  if (r == null)
    throw se("AUR0208");
  if (ve !== r)
    throw se("AUR0209");
  To.pop(), ve = To.length > 0 ? To[To.length - 1] : null, yi = ve != null;
}
const k6 = Object.freeze({
  get current() {
    return ve;
  },
  get connecting() {
    return yi;
  },
  enter: i0,
  exit: s0,
  pause: _6,
  resume: P6
}), Wo = Reflect.get, R6 = Object.prototype.toString, uv = /* @__PURE__ */ new WeakMap();
function hv(r) {
  switch (R6.call(r)) {
    case "[object Object]":
    case "[object Array]":
    case "[object Map]":
    case "[object Set]":
      return !0;
    default:
      return !1;
  }
}
const fa = "__raw__";
function me(r) {
  return hv(r) ? rh(r) : r;
}
function rh(r) {
  return uv.get(r) ?? T6(r);
}
function Ee(r) {
  return r[fa] ?? r;
}
function br(r) {
  return hv(r) && r[fa] || r;
}
function o0(r) {
  return r === "constructor" || r === "__proto__" || r === "$observers" || r === Symbol.toPrimitive || r === Symbol.toStringTag;
}
function T6(r) {
  const e = cs(r) ? M6 : es(r) || $c(r) ? t4 : I6, t = new Proxy(r, e);
  return uv.set(r, t), t;
}
const I6 = {
  get(r, e, t) {
    if (e === fa)
      return r;
    const n = n0();
    return !yi || o0(e) || n == null ? Wo(r, e, t) : (n.observe(r, e), me(Wo(r, e, t)));
  }
}, M6 = {
  get(r, e, t) {
    if (e === fa)
      return r;
    if (!yi || o0(e) || ve == null)
      return Wo(r, e, t);
    switch (e) {
      case "length":
        return ve.observe(r, "length"), r.length;
      case "map":
        return O6;
      case "includes":
        return B6;
      case "indexOf":
        return $6;
      case "lastIndexOf":
        return L6;
      case "every":
        return N6;
      case "filter":
        return D6;
      case "find":
        return U6;
      case "findIndex":
        return F6;
      case "flat":
        return V6;
      case "flatMap":
        return j6;
      case "join":
        return W6;
      case "push":
        return G6;
      case "pop":
        return H6;
      case "reduce":
        return Z6;
      case "reduceRight":
        return e4;
      case "reverse":
        return Q6;
      case "shift":
        return K6;
      case "unshift":
        return z6;
      case "slice":
        return X6;
      case "splice":
        return q6;
      case "some":
        return J6;
      case "sort":
        return Y6;
      case "keys":
        return fv;
      case "values":
      case Symbol.iterator:
        return Jf;
      case "entries":
        return Yf;
    }
    return ve.observe(r, e), me(Wo(r, e, t));
  },
  ownKeys(r) {
    return n0()?.observe(r, "length"), Reflect.ownKeys(r);
  }
};
function O6(r, e) {
  const t = Ee(this), n = t.map((i, s) => br(r.call(e, me(i), s, this)));
  return Ct(ve, t), me(n);
}
function N6(r, e) {
  const t = Ee(this), n = t.every((i, s) => r.call(e, me(i), s, this));
  return Ct(ve, t), n;
}
function D6(r, e) {
  const t = Ee(this), n = t.filter((i, s) => br(r.call(e, me(i), s, this)));
  return Ct(ve, t), me(n);
}
function B6(r) {
  const e = Ee(this), t = e.includes(br(r));
  return Ct(ve, e), t;
}
function $6(r) {
  const e = Ee(this), t = e.indexOf(br(r));
  return Ct(ve, e), t;
}
function L6(r) {
  const e = Ee(this), t = e.lastIndexOf(br(r));
  return Ct(ve, e), t;
}
function F6(r, e) {
  const t = Ee(this), n = t.findIndex((i, s) => br(r.call(e, me(i), s, this)));
  return Ct(ve, t), n;
}
function U6(r, e) {
  const t = Ee(this), n = t.find((i, s) => r(me(i), s, this), e);
  return Ct(ve, t), me(n);
}
function V6() {
  const r = Ee(this);
  return Ct(ve, r), me(r.flat());
}
function j6(r, e) {
  const t = Ee(this);
  return Ct(ve, t), rh(t.flatMap((n, i) => me(r.call(e, me(n), i, this))));
}
function W6(r) {
  const e = Ee(this);
  return Ct(ve, e), e.join(r);
}
function H6() {
  return me(Ee(this).pop());
}
function G6(...r) {
  return Ee(this).push(...r);
}
function K6() {
  return me(Ee(this).shift());
}
function z6(...r) {
  return Ee(this).unshift(...r);
}
function q6(...r) {
  return me(Ee(this).splice(...r));
}
function Q6(...r) {
  const e = Ee(this), t = e.reverse();
  return Ct(ve, e), me(t);
}
function J6(r, e) {
  const t = Ee(this), n = t.some((i, s) => br(r.call(e, me(i), s, this)));
  return Ct(ve, t), n;
}
function Y6(r) {
  const e = Ee(this), t = e.sort(r);
  return Ct(ve, e), me(t);
}
function X6(r, e) {
  const t = Ee(this);
  return Ct(ve, t), rh(t.slice(r, e));
}
function Z6(r, e) {
  const t = Ee(this), n = t.reduce((i, s, o) => r(i, me(s), o, this), e);
  return Ct(ve, t), me(n);
}
function e4(r, e) {
  const t = Ee(this), n = t.reduceRight((i, s, o) => r(i, me(s), o, this), e);
  return Ct(ve, t), me(n);
}
const t4 = {
  get(r, e, t) {
    if (e === fa)
      return r;
    const n = n0();
    if (!yi || o0(e) || n == null)
      return Wo(r, e, t);
    switch (e) {
      case "size":
        return n.observe(r, "size"), r.size;
      case "clear":
        return a4;
      case "delete":
        return c4;
      case "forEach":
        return r4;
      case "add":
        if ($c(r))
          return o4;
        break;
      case "get":
        if (es(r))
          return i4;
        break;
      case "set":
        if (es(r))
          return s4;
        break;
      case "has":
        return n4;
      case "keys":
        return fv;
      case "values":
        return Jf;
      case "entries":
        return Yf;
      case Symbol.iterator:
        return es(r) ? Yf : Jf;
    }
    return me(Wo(r, e, t));
  }
};
function r4(r, e) {
  const t = Ee(this);
  return Ct(ve, t), t.forEach((n, i) => {
    r.call(e, me(n), me(i), this);
  });
}
function n4(r) {
  const e = Ee(this);
  return Ct(ve, e), e.has(br(r));
}
function i4(r) {
  const e = Ee(this);
  return Ct(ve, e), me(e.get(br(r)));
}
function s4(r, e) {
  return me(Ee(this).set(br(r), br(e)));
}
function o4(r) {
  return me(Ee(this).add(br(r)));
}
function a4() {
  return me(Ee(this).clear());
}
function c4(r) {
  return me(Ee(this).delete(br(r)));
}
function fv() {
  const r = Ee(this);
  Ct(ve, r);
  const e = r.keys();
  return {
    next() {
      const t = e.next(), n = t.value, i = t.done;
      return i ? {
        value: void 0,
        done: i
      } : {
        value: me(n),
        done: i
      };
    },
    [Symbol.iterator]() {
      return this;
    }
  };
}
function Jf() {
  const r = Ee(this);
  Ct(ve, r);
  const e = r.values();
  return {
    next() {
      const t = e.next(), n = t.value, i = t.done;
      return i ? {
        value: void 0,
        done: i
      } : {
        value: me(n),
        done: i
      };
    },
    [Symbol.iterator]() {
      return this;
    }
  };
}
function Yf() {
  const r = Ee(this);
  Ct(ve, r);
  const e = r.entries();
  return {
    next() {
      const t = e.next(), n = t.value, i = t.done;
      return i ? {
        value: void 0,
        done: i
      } : {
        value: [me(n[0]), me(n[1])],
        done: i
      };
    },
    [Symbol.iterator]() {
      return this;
    }
  };
}
const Ct = (r, e) => r?.observeCollection(e), l4 = Object.freeze({
  getProxy: rh,
  getRaw: Ee,
  wrap: me,
  unwrap: br,
  rawKey: fa
});
class Lc {
  constructor(e, t, n, i, s) {
    this.type = 1, this.v = void 0, this.ov = void 0, this.ir = !1, this.D = !1, this.o = e, this.$get = t, this.$set = n, this.up = i, this.oL = s;
  }
  static create(e, t, n, i, s) {
    const o = n.get, a = n.set, c = new Lc(e, o, a, s, i), l = () => c.getValue();
    return l.getObserver = () => c, nn(e, t, {
      enumerable: n.enumerable,
      configurable: !0,
      get: l,
      set: (f) => {
        c.setValue(f);
      }
    }), c;
  }
  getValue() {
    return this.subs.count === 0 ? this.$get.call(this.o, this) : (this.D && (this.compute(), this.D = !1), this.v);
  }
  setValue(e) {
    if (Zr(this.$set))
      e !== this.v && (this.ir = !0, this.$set.call(this.o, e), this.ir = !1, this.run());
    else
      throw se("AUR0221");
  }
  handleChange() {
    this.D = !0, this.subs.count > 0 && this.run();
  }
  handleCollectionChange() {
    this.D = !0, this.subs.count > 0 && this.run();
  }
  subscribe(e) {
    this.subs.add(e) && this.subs.count === 1 && (this.compute(), this.D = !1);
  }
  unsubscribe(e) {
    this.subs.remove(e) && this.subs.count === 0 && (this.D = !0, this.obs.clearAll());
  }
  run() {
    if (this.ir)
      return;
    const e = this.v, t = this.compute();
    this.D = !1, qd(t, e) || (this.ov = e, Eg = this.ov, this.ov = this.v, this.subs.notify(this.v, Eg));
  }
  compute() {
    this.ir = !0, this.obs.version++;
    try {
      return i0(this), this.v = br(this.$get.call(this.up ? me(this.o) : this.o, this));
    } finally {
      this.obs.clear(), this.ir = !1, s0(this);
    }
  }
}
kn(Lc);
vr(Lc);
let Eg;
const dv = aa("IDirtyChecker", (r) => r.singleton(pv)), u4 = {
  timeoutsPerCheck: 25,
  disabled: !1,
  throw: !1,
  resetToDefault() {
    this.timeoutsPerCheck = 6, this.disabled = !1, this.throw = !1;
  }
}, h4 = {
  persistent: !0
};
class pv {
  constructor(e) {
    this.p = e, this.tracked = [], this.A = null, this.O = 0, this.check = () => {
      if (++this.O < u4.timeoutsPerCheck)
        return;
      this.O = 0;
      const t = this.tracked, n = t.length;
      let i, s = 0;
      for (; s < n; ++s)
        i = t[s], i.isDirty() && i.flush();
    };
  }
  createProperty(e, t) {
    return new gv(this, e, t);
  }
  addProperty(e) {
    this.tracked.push(e), this.tracked.length === 1 && (this.A = this.p.taskQueue.queueTask(this.check, h4));
  }
  removeProperty(e) {
    this.tracked.splice(this.tracked.indexOf(e), 1), this.tracked.length === 0 && (this.A.cancel(), this.A = null);
  }
}
pv.inject = [Bc];
class gv {
  constructor(e, t, n) {
    this.obj = t, this.key = n, this.type = 0, this.ov = void 0, this.C = e;
  }
  getValue() {
    return this.obj[this.key];
  }
  setValue(e) {
    throw se(`Trying to set value for property ${Qd(this.key)} in dirty checker`);
  }
  isDirty() {
    return this.ov !== this.obj[this.key];
  }
  flush() {
    const e = this.ov, t = this.getValue();
    this.ov = t, this.subs.notify(t, e);
  }
  subscribe(e) {
    this.subs.add(e) && this.subs.count === 1 && (this.ov = this.obj[this.key], this.C.addProperty(this));
  }
  unsubscribe(e) {
    this.subs.remove(e) && this.subs.count === 0 && this.C.removeProperty(this);
  }
}
vr(gv);
class f4 {
  constructor(e, t) {
    this.type = 0, this.o = e, this.k = t;
  }
  get doNotCache() {
    return !0;
  }
  getValue() {
    return this.o[this.k];
  }
  setValue() {
  }
  subscribe() {
  }
  unsubscribe() {
  }
}
class mv {
  constructor() {
    this.type = 0;
  }
  getValue(e, t) {
    return e[t];
  }
  setValue(e, t, n) {
    t[n] = e;
  }
}
class a0 {
  constructor(e, t) {
    this.type = 1, this.v = void 0, this.iO = !1, this.o = e, this.k = t;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    if (this.iO) {
      if (qd(e, this.v))
        return;
      au = this.v, this.v = e, this.subs.notify(e, au);
    } else
      this.o[this.k] = e;
  }
  subscribe(e) {
    this.iO === !1 && this.start(), this.subs.add(e);
  }
  start() {
    return this.iO === !1 && (this.iO = !0, this.v = this.o[this.k], nn(this.o, this.k, {
      enumerable: !0,
      configurable: !0,
      get: () => this.getValue(),
      set: (e) => {
        this.setValue(e);
      }
    })), this;
  }
  stop() {
    return this.iO && (nn(this.o, this.k, {
      enumerable: !0,
      configurable: !0,
      writable: !0,
      value: this.v
    }), this.iO = !1), this;
  }
}
class d4 {
  constructor(e, t, n, i) {
    this.type = 1, this.v = void 0, this.ov = void 0, this.o = e, this.S = n, this.hs = Zr(n);
    const s = e[t];
    this.cb = Zr(s) ? s : void 0, this.v = i;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    this.hs && (e = this.S(e, null)), qd(e, this.v) || (this.ov = this.v, this.v = e, this.cb?.call(this.o, this.v, this.ov), au = this.ov, this.ov = this.v, this.subs.notify(this.v, au));
  }
}
vr(a0);
vr(d4);
let au;
const Xf = new mv(), ao = aa("IObserverLocator", (r) => r.singleton(bv)), cu = aa("INodeObserverLocator", (r) => r.cachedCallback((e) => new p4()));
class p4 {
  handles() {
    return !1;
  }
  getObserver() {
    return Xf;
  }
  getAccessor() {
    return Xf;
  }
}
class bv {
  constructor(e, t) {
    this.$ = [], this.C = e, this.R = t;
  }
  addAdapter(e) {
    this.$.push(e);
  }
  getObserver(e, t) {
    if (e == null)
      throw m4(t);
    if (!Ka(e))
      return new f4(e, t);
    const n = xv(e);
    let i = n[t];
    return i === void 0 && (i = this.createObserver(e, t), i.doNotCache || (n[t] = i)), i;
  }
  getAccessor(e, t) {
    const n = e.$observers?.[t];
    return n !== void 0 ? n : this.R.handles(e, t, this) ? this.R.getAccessor(e, t, this) : Xf;
  }
  getArrayObserver(e) {
    return qa(e);
  }
  getMapObserver(e) {
    return ou(e);
  }
  getSetObserver(e) {
    return su(e);
  }
  createObserver(e, t) {
    if (this.R.handles(e, t, this))
      return this.R.getObserver(e, t, this);
    switch (t) {
      case "length":
        if (cs(e))
          return qa(e).getLengthObserver();
        break;
      case "size":
        if (es(e))
          return ou(e).getLengthObserver();
        if ($c(e))
          return su(e).getLengthObserver();
        break;
      default:
        if (cs(e) && ac(t))
          return qa(e).getIndexObserver(Number(t));
        break;
    }
    let n = Pg(e, t);
    if (n === void 0) {
      let i = _g(e);
      for (; i !== null && (n = Pg(i, t), n === void 0); )
        i = _g(i);
    }
    if (n !== void 0 && !aA.call(n, "value")) {
      let i = this.U(e, t, n);
      return i == null && (i = (n.get?.getObserver ?? n.set?.getObserver)?.(e, this)), i ?? (n.configurable ? Lc.create(e, t, n, this, !0) : this.C.createProperty(e, t));
    }
    return new a0(e, t);
  }
  U(e, t, n) {
    if (this.$.length > 0)
      for (const i of this.$) {
        const s = i.getObserver(e, t, n, this);
        if (s != null)
          return s;
      }
    return null;
  }
}
bv.inject = [dv, cu];
const g4 = (r) => {
  let e;
  return cs(r) ? e = qa(r) : es(r) ? e = ou(r) : $c(r) && (e = su(r)), e;
}, _g = Object.getPrototypeOf, Pg = Object.getOwnPropertyDescriptor, xv = (r) => {
  let e = r.$observers;
  return e === void 0 && nn(r, "$observers", {
    enumerable: !1,
    value: e = za()
  }), e;
}, m4 = (r) => se(`AUR0199:${Qd(r)}`);
aa("IObservation", (r) => r.singleton(b4));
class b4 {
  constructor(e) {
    this.oL = e;
  }
  static get inject() {
    return [ao];
  }
  run(e) {
    const t = new vv(this.oL, e);
    return t.run(), t;
  }
}
class vv {
  constructor(e, t) {
    this.oL = e, this.fn = t, this.maxRunCount = 10, this.queued = !1, this.running = !1, this.runCount = 0, this.stopped = !1;
  }
  handleChange() {
    this.queued = !0, this.run();
  }
  handleCollectionChange() {
    this.queued = !0, this.run();
  }
  run() {
    if (this.stopped)
      throw se("AUR0225");
    if (!this.running) {
      ++this.runCount, this.running = !0, this.queued = !1, ++this.obs.version;
      try {
        i0(this), this.fn(this);
      } finally {
        this.obs.clear(), this.running = !1, s0(this);
      }
      if (this.queued) {
        if (this.runCount > this.maxRunCount)
          throw this.runCount = 0, se("AUR0226");
        this.run();
      } else
        this.runCount = 0;
    }
  }
  stop() {
    this.stopped = !0, this.obs.clearAll();
  }
}
kn(vv);
const c0 = aa("ISignaler", (r) => r.singleton(x4));
class x4 {
  constructor() {
    this.signals = za();
  }
  dispatchSignal(e) {
    const t = this.signals[e];
    if (t === void 0)
      return;
    let n;
    for (n of t.keys())
      n.handleChange(void 0, void 0);
  }
  addSignalListener(e, t) {
    const n = this.signals, i = n[e];
    i === void 0 ? n[e] = /* @__PURE__ */ new Set([t]) : i.add(t);
  }
  removeSignalListener(e, t) {
    this.signals[e]?.delete(t);
  }
}
class v4 extends Error {
  constructor(e) {
    super("Task was canceled."), this.task = e;
  }
}
var kg;
(function(r) {
  r[r.pending = 0] = "pending", r[r.running = 1] = "running", r[r.completed = 2] = "completed", r[r.canceled = 3] = "canceled";
})(kg || (kg = {}));
var Rg;
(function(r) {
  r[r.render = 0] = "render", r[r.macroTask = 1] = "macroTask", r[r.postRender = 2] = "postRender";
})(Rg || (Rg = {}));
function z(r, e, t, n) {
  var i = arguments.length, s = i < 3 ? e : n === null ? n = Object.getOwnPropertyDescriptor(e, t) : n, o;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    s = Reflect.decorate(r, e, t, n);
  else
    for (var a = r.length - 1; a >= 0; a--)
      (o = r[a]) && (s = (i < 3 ? o(s) : i > 3 ? o(e, t, s) : o(e, t)) || s);
  return i > 3 && s && Object.defineProperty(e, t, s), s;
}
function lr(r, e) {
  return function(t, n) {
    e(t, n, r);
  };
}
const fr = Qn.getOwn, Fc = Qn.hasOwn, St = Qn.define, { annotation: l0, resource: yv } = vn, dr = l0.keyFor, co = yv.keyFor, fs = yv.appendTo, u0 = l0.appendTo, wv = l0.getKeys, ds = Object, h0 = ds.prototype, rr = () => ds.create(null), ne = (r) => new Error(r), ts = h0.hasOwnProperty, Gr = ds.freeze, f0 = ds.assign, d0 = ds.getOwnPropertyNames, p0 = ds.keys, Tg = rr(), Zf = (r, e, t) => {
  if (Tg[e] === !0)
    return !0;
  if (!xt(e))
    return !1;
  const n = e.slice(0, 5);
  return Tg[e] = n === "aria-" || n === "data-" || t.isStandardSvgAttribute(r, e);
}, Qt = (r) => r instanceof Promise, En = (r) => r instanceof Array, kr = (r) => typeof r == "function", xt = (r) => typeof r == "string", y4 = ds.defineProperty, lu = (r) => {
  throw r;
}, Uc = ds.is, ed = Reflect.defineProperty, yn = (r, e, t) => (ed(r, e, {
  enumerable: !1,
  configurable: !0,
  writable: !0,
  value: t
}), t);
function Be(r, e) {
  let t;
  function n(i, s) {
    arguments.length > 1 && (t.property = s), St(Qi, Yi.create(s, i, t), i.constructor, s), u0(i.constructor, ci.keyFrom(s));
  }
  if (arguments.length > 1) {
    t = {}, n(r, e);
    return;
  } else if (xt(r))
    return t = {}, n;
  return t = r === void 0 ? {} : r, n;
}
function w4(r) {
  return r.startsWith(Qi);
}
const Qi = dr("bindable"), ci = Gr({
  name: Qi,
  keyFrom: (r) => `${Qi}:${r}`,
  from(r, ...e) {
    const t = {}, n = Array.isArray;
    function i(a) {
      t[a] = Yi.create(a, r);
    }
    function s(a, c) {
      t[a] = c instanceof Yi ? c : Yi.create(a, r, c);
    }
    function o(a) {
      n(a) ? a.forEach(i) : a instanceof Yi ? t[a.property] = a : a !== void 0 && p0(a).forEach((c) => s(c, a[c]));
    }
    return e.forEach(o), t;
  },
  for(r) {
    let e;
    const t = {
      add(n) {
        let i, s;
        return xt(n) ? (i = n, s = {
          property: i
        }) : (i = n.property, s = n), e = Yi.create(i, r, s), Fc(Qi, r, i) || u0(r, ci.keyFrom(i)), St(Qi, e, r, i), t;
      },
      mode(n) {
        return e.mode = n, t;
      },
      callback(n) {
        return e.callback = n, t;
      },
      attribute(n) {
        return e.attribute = n, t;
      },
      primary() {
        return e.primary = !0, t;
      },
      set(n) {
        return e.set = n, t;
      }
    };
    return t;
  },
  getAll(r) {
    const e = Qi.length + 1, t = [], n = P1(r);
    let i = n.length, s = 0, o, a, c, l;
    for (; --i >= 0; )
      for (c = n[i], o = wv(c).filter(w4), a = o.length, l = 0; l < a; ++l)
        t[s++] = fr(Qi, c, o[l].slice(e));
    return t;
  }
});
class Yi {
  constructor(e, t, n, i, s, o) {
    this.attribute = e, this.callback = t, this.mode = n, this.primary = i, this.property = s, this.set = o;
  }
  static create(e, t, n = {}) {
    return new Yi(ir(n.attribute, _1(e)), ir(n.callback, `${e}Changed`), ir(n.mode, 2), ir(n.primary, !1), ir(n.property, e), ir(n.set, A4(e, t, n)));
  }
}
const td = {
  key: dr("coercer"),
  define(r, e) {
    St(td.key, r[e].bind(r), r);
  },
  for(r) {
    return fr(td.key, r);
  }
};
function A4(r, e, t = {}) {
  const n = t.type ?? Qn.get("design:type", e, r) ?? null;
  if (n == null)
    return gi;
  let i;
  switch (n) {
    case Number:
    case Boolean:
    case String:
    case BigInt:
      i = n;
      break;
    default: {
      const s = n.coerce;
      i = typeof s == "function" ? s.bind(n) : td.for(n) ?? gi;
      break;
    }
  }
  return i === gi ? i : S4(i, t.nullable);
}
function S4(r, e) {
  return function(t, n) {
    return n?.enableCoercion ? (e ?? !(n?.coerceNullish ?? !1)) && t == null ? t : r(t, n) : t;
  };
}
class Av {
  constructor(e, t, n, i, s, o) {
    this.set = i, this.$controller = s, this.i = o, this.v = void 0, this.ov = void 0;
    const a = e[n], c = e.propertyChanged, l = this.u = kr(a), f = this.A = kr(c), p = this.hs = i !== gi;
    let b;
    this.o = e, this.k = t, this.C = f ? c : gi, this.cb = l ? a : gi, this.cb === void 0 && !f && !p ? this.iO = !1 : (this.iO = !0, b = e[t], this.v = p && b !== void 0 ? i(b, this.i) : b, this.B());
  }
  get type() {
    return 1;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    this.hs && (e = this.set(e, this.i));
    const t = this.v;
    if (this.iO) {
      if (Uc(e, t))
        return;
      this.v = e, this.ov = t, (this.$controller == null || this.$controller.isBound) && (this.u && this.cb.call(this.o, e, t), this.A && this.C.call(this.o, this.k, e, t)), this.subs.notify(this.v, this.ov);
    } else
      this.o[this.k] = e;
  }
  subscribe(e) {
    this.iO && (this.iO = !0, this.v = this.hs ? this.set(this.o[this.k], this.i) : this.o[this.k], this.B()), this.subs.add(e);
  }
  B() {
    Reflect.defineProperty(this.o, this.k, {
      enumerable: !0,
      configurable: !0,
      get: () => this.v,
      set: (e) => {
        this.setValue(e);
      }
    });
  }
}
vr(Av);
const Ig = function(r) {
  function e(t, n, i) {
    pe.inject(e)(t, n, i);
  }
  return e.$isResolver = !0, e.resolve = function(t, n) {
    return n.root === n || n.has(r, !1) ? n.get(r) : n.root.get(r);
  }, e;
}, Ie = pe.createInterface, lo = fe.singleton, Vc = fe.aliasTo, C4 = fe.instance, Sv = fe.transient, At = (r, e, t) => r.registerResolver(e, t);
function E4(...r) {
  return function(e) {
    const t = dr("aliases"), n = fr(t, e);
    n === void 0 ? St(t, r, e) : n.push(...r);
  };
}
function jc(r, e, t, n) {
  for (let i = 0, s = r.length; i < s; ++i)
    fe.aliasTo(t, e.keyFrom(r[i])).register(n);
}
class g0 {
  constructor(e, t, n, i) {
    if (this.chars = e, this.repeat = t, this.isSymbol = n, this.isInverted = i, i)
      switch (e.length) {
        case 0:
          this.has = this.R;
          break;
        case 1:
          this.has = this.I;
          break;
        default:
          this.has = this.T;
      }
    else
      switch (e.length) {
        case 0:
          this.has = this.P;
          break;
        case 1:
          this.has = this.L;
          break;
        default:
          this.has = this.U;
      }
  }
  equals(e) {
    return this.chars === e.chars && this.repeat === e.repeat && this.isSymbol === e.isSymbol && this.isInverted === e.isInverted;
  }
  U(e) {
    return this.chars.includes(e);
  }
  L(e) {
    return this.chars === e;
  }
  P(e) {
    return !1;
  }
  T(e) {
    return !this.chars.includes(e);
  }
  I(e) {
    return this.chars !== e;
  }
  R(e) {
    return !0;
  }
}
class _4 {
  constructor() {
    this.parts = De, this.$ = "", this._ = {}, this.q = {};
  }
  get pattern() {
    const e = this.$;
    return e === "" ? null : e;
  }
  set pattern(e) {
    e == null ? (this.$ = "", this.parts = De) : (this.$ = e, this.parts = this.q[e]);
  }
  append(e, t) {
    const n = this._;
    n[e] === void 0 ? n[e] = t : n[e] += t;
  }
  next(e) {
    const t = this._;
    let n;
    t[e] !== void 0 && (n = this.q, n[e] === void 0 ? n[e] = [t[e]] : n[e].push(t[e]), t[e] = void 0);
  }
}
class m0 {
  constructor(e, ...t) {
    this.charSpec = e, this.M = [], this.F = null, this.O = !1, this.V = t;
  }
  get $() {
    return this.O ? this.V[0] : null;
  }
  findChild(e) {
    const t = this.M, n = t.length;
    let i = null, s = 0;
    for (; s < n; ++s)
      if (i = t[s], e.equals(i.charSpec))
        return i;
    return null;
  }
  append(e, t) {
    const n = this.V;
    n.includes(t) || n.push(t);
    let i = this.findChild(e);
    return i == null && (i = new m0(e, t), this.M.push(i), e.repeat && i.M.push(i)), i;
  }
  findMatches(e, t) {
    const n = [], i = this.M, s = i.length;
    let o = 0, a = null, c = 0, l = 0;
    for (; c < s; ++c)
      if (a = i[c], a.charSpec.has(e))
        if (n.push(a), o = a.V.length, l = 0, a.charSpec.isSymbol)
          for (; l < o; ++l)
            t.next(a.V[l]);
        else
          for (; l < o; ++l)
            t.append(a.V[l], e);
    return n;
  }
}
class Mg {
  constructor(e) {
    this.text = e;
    const t = this.N = e.length, n = this.j = [];
    let i = 0;
    for (; t > i; ++i)
      n.push(new g0(e[i], !1, !1, !1));
  }
  eachChar(e) {
    const t = this.N, n = this.j;
    let i = 0;
    for (; t > i; ++i)
      e(n[i]);
  }
}
class P4 {
  constructor(e) {
    this.text = "PART", this.H = new g0(e, !0, !1, !0);
  }
  eachChar(e) {
    e(this.H);
  }
}
class k4 {
  constructor(e) {
    this.text = e, this.H = new g0(e, !1, !0, !1);
  }
  eachChar(e) {
    e(this.H);
  }
}
class R4 {
  constructor() {
    this.statics = 0, this.dynamics = 0, this.symbols = 0;
  }
}
const T4 = Ie("ISyntaxInterpreter", (r) => r.singleton(I4));
class I4 {
  constructor() {
    this.W = new m0(null), this.G = [this.W];
  }
  add(e) {
    e = e.slice(0).sort((b, w) => b.pattern > w.pattern ? 1 : -1);
    const t = e.length;
    let n, i, s, o, a, c, l, f = 0, p;
    for (; t > f; ) {
      for (n = this.W, i = e[f], s = i.pattern, o = new R4(), a = this.X(i, o), c = a.length, l = (b) => n = n.append(b, s), p = 0; c > p; ++p)
        a[p].eachChar(l);
      n.F = o, n.O = !0, ++f;
    }
  }
  interpret(e) {
    const t = new _4(), n = e.length;
    let i = this.G, s = 0, o;
    for (; s < n && (i = this.K(i, e.charAt(s), t), i.length !== 0); ++s)
      ;
    return i = i.filter(M4), i.length > 0 && (i.sort(O4), o = i[0], o.charSpec.isSymbol || t.next(o.$), t.pattern = o.$), t;
  }
  K(e, t, n) {
    const i = [];
    let s = null;
    const o = e.length;
    let a = 0;
    for (; a < o; ++a)
      s = e[a], i.push(...s.findMatches(t, n));
    return i;
  }
  X(e, t) {
    const n = [], i = e.pattern, s = i.length, o = e.symbols;
    let a = 0, c = 0, l = "";
    for (; a < s; )
      l = i.charAt(a), o.length === 0 || !o.includes(l) ? a === c && l === "P" && i.slice(a, a + 4) === "PART" ? (c = a += 4, n.push(new P4(o)), ++t.dynamics) : ++a : a !== c ? (n.push(new Mg(i.slice(c, a))), ++t.statics, c = a) : (n.push(new k4(i.slice(c, a + 1))), ++t.symbols, c = ++a);
    return c !== a && (n.push(new Mg(i.slice(c, a))), ++t.statics), n;
  }
}
function M4(r) {
  return r.O;
}
function O4(r, e) {
  const t = r.F, n = e.F;
  return t.statics !== n.statics ? n.statics - t.statics : t.dynamics !== n.dynamics ? n.dynamics - t.dynamics : t.symbols !== n.symbols ? n.symbols - t.symbols : 0;
}
class sn {
  constructor(e, t, n, i) {
    this.rawName = e, this.rawValue = t, this.target = n, this.command = i;
  }
}
const Cv = Ie("IAttributePattern"), N4 = Ie("IAttributeParser", (r) => r.singleton(Ev));
class Ev {
  constructor(e, t) {
    this.Y = {}, this.Z = e;
    const n = this.V = {}, i = t.reduce((s, o) => {
      const a = _v(o.constructor);
      return a.forEach((c) => n[c.pattern] = o), s.concat(a);
    }, De);
    e.add(i);
  }
  parse(e, t) {
    let n = this.Y[e];
    n == null && (n = this.Y[e] = this.Z.interpret(e));
    const i = n.pattern;
    return i == null ? new sn(e, t, e, null) : this.V[i][i](e, t, n.parts);
  }
}
Ev.inject = [T4, O1(Cv)];
function ki(...r) {
  return function(t) {
    return B4.define(r, t);
  };
}
class D4 {
  constructor(e) {
    this.Type = e, this.name = void 0;
  }
  register(e) {
    lo(Cv, this.Type).register(e);
  }
}
const Xh = co("attribute-pattern"), $l = "attribute-pattern-definitions", _v = (r) => vn.annotation.get(r, $l), B4 = Gr({
  name: Xh,
  definitionAnnotationKey: $l,
  define(r, e) {
    const t = new D4(e);
    return St(Xh, t, e), fs(e, Xh), vn.annotation.set(e, $l, r), u0(e, $l), e;
  },
  getPatternDefinitions: _v
});
let Og = class {
  "PART.PART"(e, t, n) {
    return new sn(e, t, n[0], n[1]);
  }
  "PART.PART.PART"(e, t, n) {
    return new sn(e, t, `${n[0]}.${n[1]}`, n[2]);
  }
};
Og = z([ki({
  pattern: "PART.PART",
  symbols: "."
}, {
  pattern: "PART.PART.PART",
  symbols: "."
})], Og);
let Ng = class {
  ref(e, t, n) {
    return new sn(e, t, "element", "ref");
  }
  "PART.ref"(e, t, n) {
    return new sn(e, t, n[0], "ref");
  }
};
Ng = z([ki({
  pattern: "ref",
  symbols: ""
}, {
  pattern: "PART.ref",
  symbols: "."
})], Ng);
let Dg = class {
  ":PART"(e, t, n) {
    return new sn(e, t, n[0], "bind");
  }
};
Dg = z([ki({
  pattern: ":PART",
  symbols: ":"
})], Dg);
let Bg = class {
  "@PART"(e, t, n) {
    return new sn(e, t, n[0], "trigger");
  }
};
Bg = z([ki({
  pattern: "@PART",
  symbols: "@"
})], Bg);
let $g = class {
  "...$attrs"(e, t, n) {
    return new sn(e, t, "", "...$attrs");
  }
};
$g = z([ki({
  pattern: "...$attrs",
  symbols: ""
})], $g);
class Pv {
  constructor(e, t, n) {
    this.type = 7, this.v = null, this.ov = null, this.J = !1, this.o = e, this.tt = t, this.et = n;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    this.v = e, this.J = e !== this.ov, this.it();
  }
  it() {
    if (this.J)
      switch (this.J = !1, this.ov = this.v, this.et) {
        case "class":
          this.o.classList.toggle(this.tt, !!this.v);
          break;
        case "style": {
          let e = "", t = this.v;
          xt(t) && t.includes("!important") && (e = "important", t = t.replace("!important", "")), this.o.style.setProperty(this.tt, t, e);
          break;
        }
        default:
          this.v == null ? this.o.removeAttribute(this.et) : this.o.setAttribute(this.et, String(this.v));
      }
  }
  handleMutation(e) {
    let t = !1;
    for (let n = 0, i = e.length; i > n; ++n) {
      const s = e[n];
      if (s.type === "attributes" && s.attributeName === this.tt) {
        t = !0;
        break;
      }
    }
    if (t) {
      let n;
      switch (this.et) {
        case "class":
          n = this.o.classList.contains(this.tt);
          break;
        case "style":
          n = this.o.style.getPropertyValue(this.tt);
          break;
        default:
          throw ne(`AUR0651:${this.et}`);
      }
      n !== this.v && (this.ov = this.v, this.v = n, this.J = !1, this.st());
    }
  }
  subscribe(e) {
    this.subs.add(e) && this.subs.count === 1 && (this.v = this.ov = this.o.getAttribute(this.tt), $4(this.o.ownerDocument.defaultView.MutationObserver, this.o, this));
  }
  unsubscribe(e) {
    this.subs.remove(e) && this.subs.count === 0 && L4(this.o, this);
  }
  st() {
    Lg = this.ov, this.ov = this.v, this.subs.notify(this.v, Lg);
  }
}
vr(Pv);
const $4 = (r, e, t) => {
  e.$eMObs === void 0 && (e.$eMObs = /* @__PURE__ */ new Set()), e.$mObs === void 0 && (e.$mObs = new r(F4)).observe(e, {
    attributes: !0
  }), e.$eMObs.add(t);
}, L4 = (r, e) => {
  const t = r.$eMObs;
  return t && t.delete(e) ? (t.size === 0 && (r.$mObs.disconnect(), r.$mObs = void 0), !0) : !1;
}, F4 = (r) => {
  r[0].target.$eMObs.forEach(U4, r);
};
function U4(r) {
  r.handleMutation(this);
}
let Lg;
function Mr(r) {
  return function(e) {
    return uu.define(r, e);
  };
}
class b0 {
  constructor(e, t, n, i) {
    this.Type = e, this.name = t, this.aliases = n, this.key = i;
  }
  static create(e, t) {
    let n, i;
    return xt(e) ? (n = e, i = {
      name: n
    }) : (n = e.name, i = e), new b0(t, ir(rd(t, "name"), n), It(rd(t, "aliases"), i.aliases, t.aliases), uu.keyFrom(n));
  }
  register(e) {
    const { Type: t, key: n, aliases: i } = this;
    lo(n, t).register(e), Vc(n, t).register(e), jc(i, uu, n, e);
  }
}
const Is = co("binding-behavior"), rd = (r, e) => fr(dr(e), r), uu = Gr({
  name: Is,
  keyFrom(r) {
    return `${Is}:${r}`;
  },
  isType(r) {
    return kr(r) && Fc(Is, r);
  },
  define(r, e) {
    const t = b0.create(r, e);
    return St(Is, t, t.Type), St(Is, t, t), fs(e, Is), t.Type;
  },
  getDefinition(r) {
    const e = fr(Is, r);
    if (e === void 0)
      throw ne(`AUR0151:${r.name}`);
    return e;
  },
  annotate(r, e, t) {
    St(dr(e), t, r);
  },
  getAnnotation: rd
});
function Wc(r) {
  return function(e) {
    return hu.define(r, e);
  };
}
class x0 {
  constructor(e, t, n, i) {
    this.Type = e, this.name = t, this.aliases = n, this.key = i;
  }
  static create(e, t) {
    let n, i;
    return xt(e) ? (n = e, i = {
      name: n
    }) : (n = e.name, i = e), new x0(t, ir(nd(t, "name"), n), It(nd(t, "aliases"), i.aliases, t.aliases), hu.keyFrom(n));
  }
  register(e) {
    const { Type: t, key: n, aliases: i } = this;
    fe.singleton(n, t).register(e), fe.aliasTo(n, t).register(e), jc(i, hu, n, e);
  }
}
const Ms = co("value-converter"), nd = (r, e) => fr(dr(e), r), hu = Gr({
  name: Ms,
  keyFrom: (r) => `${Ms}:${r}`,
  isType(r) {
    return kr(r) && Fc(Ms, r);
  },
  define(r, e) {
    const t = x0.create(r, e);
    return St(Ms, t, t.Type), St(Ms, t, t), fs(e, Ms), t.Type;
  },
  getDefinition(r) {
    const e = fr(Ms, r);
    if (e === void 0)
      throw ne(`AUR0152:${r.name}`);
    return e;
  },
  annotate(r, e, t) {
    St(dr(e), t, r);
  },
  getAnnotation: nd
});
class V4 {
  constructor(e, t) {
    this.v = void 0, this.b = e, this.nt = t;
  }
  flush() {
    this.b.updateSource(this.v);
  }
  handleChange(e, t) {
    const n = this.b;
    e !== U(n.ast, n.s, n, null) && (this.v = e, this.nt.add(this));
  }
}
const da = (r) => {
  yn(r.prototype, "useScope", function(e) {
    this.s = e;
  });
}, Yn = (r, e = !0) => (t) => {
  const n = t.prototype;
  r != null && ed(n, "strict", {
    enumerable: !0,
    get: function() {
      return r;
    }
  }), ed(n, "strictFnCall", {
    enumerable: !0,
    get: function() {
      return e;
    }
  }), yn(n, "get", function(i) {
    return this.l.get(i);
  }), yn(n, "getSignaler", function() {
    return this.l.root.get(c0);
  }), yn(n, "getConverter", function(i) {
    const s = hu.keyFrom(i);
    let o = dl.get(this);
    return o == null && dl.set(this, o = new Fg()), o[s] ?? (o[s] = this.l.get(Ig(s)));
  }), yn(n, "getBehavior", function(i) {
    const s = uu.keyFrom(i);
    let o = dl.get(this);
    return o == null && dl.set(this, o = new Fg()), o[s] ?? (o[s] = this.l.get(Ig(s)));
  });
}, dl = /* @__PURE__ */ new WeakMap();
class Fg {
}
const j4 = Ie("IFlushQueue", (r) => r.singleton(W4));
class W4 {
  constructor() {
    this.rt = !1, this.ot = /* @__PURE__ */ new Set();
  }
  get count() {
    return this.ot.size;
  }
  add(e) {
    if (this.ot.add(e), !this.rt) {
      this.rt = !0;
      try {
        this.ot.forEach(H4);
      } finally {
        this.rt = !1;
      }
    }
  }
  clear() {
    this.ot.clear(), this.rt = !1;
  }
}
function H4(r, e, t) {
  t.delete(r), r.flush();
}
const Zh = /* @__PURE__ */ new WeakSet(), uo = (r, e) => {
  yn(r.prototype, "limit", function(t) {
    if (Zh.has(this))
      throw ne("AURXXXX: a rate limit has already been applied.");
    Zh.add(this);
    const n = e(this, t), i = this[n], s = (...a) => i.call(this, ...a), o = t.type === "debounce" ? G4(t, s, this) : K4(t, s, this);
    return this[n] = o, {
      dispose: () => {
        Zh.delete(this), o.dispose(), delete this[n];
      }
    };
  });
}, G4 = (r, e, t) => {
  let n, i, s;
  const o = r.queue, a = (c) => {
    s = c, t.isBound ? (i = n, n = o.queueTask(() => e(s), {
      delay: r.delay,
      reusable: !1
    }), i?.cancel()) : e(s);
  };
  return a.dispose = () => {
    i?.cancel(), n?.cancel();
  }, a;
}, K4 = (r, e, t) => {
  let n, i, s = 0, o = 0, a;
  const c = r.queue, l = () => r.now(), f = (p) => {
    a = p, t.isBound ? (o = l() - s, i = n, o > r.delay ? (s = l(), e(a)) : n = c.queueTask(() => {
      s = l(), e(a);
    }, {
      delay: r.delay - o,
      reusable: !1
    }), i?.cancel()) : e(a);
  };
  return f.dispose = () => {
    i?.cancel(), n?.cancel();
  }, f;
}, z4 = {
  reusable: !1,
  preempt: !0
};
class Hc {
  constructor(e, t, n, i, s, o, a, c, l) {
    this.targetAttribute = a, this.targetProperty = c, this.mode = l, this.isBound = !1, this.s = void 0, this.lt = null, this.v = void 0, this.boundFn = !1, this.l = t, this.ast = s, this.ht = e, this.target = o, this.oL = n, this.ct = i;
  }
  updateTarget(e) {
    this.ut.setValue(e, this.target, this.targetProperty);
  }
  handleChange() {
    if (!this.isBound)
      return;
    let e;
    this.obs.version++;
    const t = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    this.obs.clear(), t !== this.v && (this.v = t, this.ht.state !== 1 && (4 & this.ut.type) > 0 ? (e = this.lt, this.lt = this.ct.queueTask(() => {
      this.lt = null, this.updateTarget(t);
    }, z4), e?.cancel()) : this.updateTarget(t));
  }
  handleCollectionChange() {
    this.handleChange();
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this), this.ut ?? (this.ut = new Pv(this.target, this.targetProperty, this.targetAttribute)), this.mode & 3 && this.updateTarget(this.v = U(this.ast, e, this, (2 & this.mode) > 0 ? this : null)), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.v = void 0, this.lt?.cancel(), this.lt = null, this.obs.clearAll());
  }
}
da(Hc);
uo(Hc, () => "updateTarget");
kn(Hc);
Yn(!0)(Hc);
const kv = {
  reusable: !1,
  preempt: !0
};
class q4 {
  constructor(e, t, n, i, s, o, a, c) {
    this.ast = s, this.target = o, this.targetProperty = a, this.mode = c, this.isBound = !1, this.s = void 0, this.lt = null, this.ht = e, this.oL = n, this.ct = i, this.ut = n.getAccessor(o, a);
    const l = s.expressions, f = this.partBindings = Array(l.length), p = l.length;
    let b = 0;
    for (; p > b; ++b)
      f[b] = new Gc(l[b], o, a, t, n, this);
  }
  ft() {
    this.updateTarget();
  }
  updateTarget() {
    const e = this.partBindings, t = this.ast.parts, n = e.length;
    let i = "", s = 0;
    if (n === 1)
      i = t[0] + e[0].v + t[1];
    else
      for (i = t[0]; n > s; ++s)
        i += e[s].v + t[s + 1];
    const o = this.ut, a = this.ht.state !== 1 && (4 & o.type) > 0;
    let c;
    a ? (c = this.lt, this.lt = this.ct.queueTask(() => {
      this.lt = null, o.setValue(i, this.target, this.targetProperty);
    }, kv), c?.cancel(), c = null) : o.setValue(i, this.target, this.targetProperty);
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e;
    const t = this.partBindings, n = t.length;
    let i = 0;
    for (; n > i; ++i)
      t[i].bind(e);
    this.updateTarget(), this.isBound = !0;
  }
  unbind() {
    if (!this.isBound)
      return;
    this.isBound = !1, this.s = void 0;
    const e = this.partBindings, t = e.length;
    let n = 0;
    for (; t > n; ++n)
      e[n].unbind();
    this.lt?.cancel(), this.lt = null;
  }
}
class Gc {
  constructor(e, t, n, i, s, o) {
    this.ast = e, this.target = t, this.targetProperty = n, this.owner = o, this.mode = 2, this.task = null, this.isBound = !1, this.v = "", this.boundFn = !1, this.l = i, this.oL = s;
  }
  updateTarget() {
    this.owner.ft();
  }
  handleChange() {
    if (!this.isBound)
      return;
    this.obs.version++;
    const e = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    this.obs.clear(), e != this.v && (this.v = e, En(e) && this.observeCollection(e), this.updateTarget());
  }
  handleCollectionChange() {
    this.handleChange();
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this), this.v = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null), En(this.v) && this.observeCollection(this.v), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.obs.clearAll());
  }
}
da(Gc);
uo(Gc, () => "updateTarget");
kn(Gc);
Yn(!0)(Gc);
class Kc {
  constructor(e, t, n, i, s, o, a, c) {
    this.p = s, this.ast = o, this.target = a, this.strict = c, this.isBound = !1, this.mode = 2, this.lt = null, this.v = "", this.boundFn = !1, this.l = t, this.ht = e, this.oL = n, this.ct = i;
  }
  updateTarget(e) {
    const t = this.target, n = this.p.Node, i = this.v;
    this.v = e, i instanceof n && i.parentNode?.removeChild(i), e instanceof n ? (t.textContent = "", t.parentNode?.insertBefore(e, t)) : t.textContent = String(e);
  }
  handleChange() {
    if (!this.isBound)
      return;
    this.obs.version++;
    const e = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    if (this.obs.clear(), e === this.v) {
      this.lt?.cancel(), this.lt = null;
      return;
    }
    this.ht.state !== 1 ? this.dt(e) : this.updateTarget(e);
  }
  handleCollectionChange() {
    if (!this.isBound)
      return;
    this.obs.version++;
    const e = this.v = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    this.obs.clear(), En(e) && this.observeCollection(e), this.ht.state !== 1 ? this.dt(e) : this.updateTarget(e);
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this);
    const t = this.v = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    En(t) && this.observeCollection(t), this.updateTarget(t), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.obs.clearAll(), this.lt?.cancel(), this.lt = null);
  }
  dt(e) {
    const t = this.lt;
    this.lt = this.ct.queueTask(() => {
      this.lt = null, this.updateTarget(e);
    }, kv), t?.cancel();
  }
}
da(Kc);
uo(Kc, () => "updateTarget");
kn()(Kc);
Yn(void 0, !1)(Kc);
class zc {
  constructor(e, t, n, i, s = !1) {
    this.ast = n, this.targetProperty = i, this.isBound = !1, this.s = void 0, this.target = null, this.boundFn = !1, this.l = e, this.oL = t, this.gt = s;
  }
  updateTarget() {
    this.target[this.targetProperty] = this.v;
  }
  handleChange() {
    !this.isBound || (this.obs.version++, this.v = U(this.ast, this.s, this, this), this.obs.clear(), this.updateTarget());
  }
  handleCollectionChange() {
    this.handleChange();
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, this.target = this.gt ? e.bindingContext : e.overrideContext, An(this.ast, e, this), this.v = U(this.ast, this.s, this, this), this.updateTarget(), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.obs.clearAll());
  }
}
da(zc);
uo(zc, () => "updateTarget");
kn(zc);
Yn(!0)(zc);
class Ri {
  constructor(e, t, n, i, s, o, a, c) {
    this.ast = s, this.target = o, this.targetProperty = a, this.mode = c, this.isBound = !1, this.s = void 0, this.ut = void 0, this.lt = null, this.vt = null, this.boundFn = !1, this.l = t, this.ht = e, this.ct = i, this.oL = n;
  }
  updateTarget(e) {
    this.ut.setValue(e, this.target, this.targetProperty);
  }
  updateSource(e) {
    tr(this.ast, this.s, this, e);
  }
  handleChange() {
    if (!this.isBound)
      return;
    this.obs.version++;
    const e = U(this.ast, this.s, this, (2 & this.mode) > 0 ? this : null);
    this.obs.clear(), this.ht.state !== 1 && (4 & this.ut.type) > 0 ? (ef = this.lt, this.lt = this.ct.queueTask(() => {
      this.updateTarget(e), this.lt = null;
    }, Q4), ef?.cancel(), ef = null) : this.updateTarget(e);
  }
  handleCollectionChange() {
    this.handleChange();
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this);
    const t = this.oL, n = this.mode;
    let i = this.ut;
    i || (4 & n ? i = t.getObserver(this.target, this.targetProperty) : i = t.getAccessor(this.target, this.targetProperty), this.ut = i);
    const s = (2 & n) > 0;
    n & 3 && this.updateTarget(U(this.ast, this.s, this, s ? this : null)), 4 & n && (i.subscribe(this.vt ?? (this.vt = new V4(this, this.l.get(j4)))), s || this.updateSource(i.getValue(this.target, this.targetProperty))), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.vt && (this.ut.unsubscribe(this.vt), this.vt = null), this.lt?.cancel(), this.lt = null, this.obs.clearAll());
  }
  useTargetObserver(e) {
    this.ut?.unsubscribe(this), (this.ut = e).subscribe(this);
  }
  useTargetSubscriber(e) {
    if (this.vt != null)
      throw ne("AURxxxx: binding already has a target subscriber");
    this.vt = e;
  }
}
da(Ri);
uo(Ri, (r) => 4 & r.mode ? "updateSource" : "updateTarget");
kn(Ri);
Yn(!0, !1)(Ri);
let ef = null;
const Q4 = {
  reusable: !1,
  preempt: !0
};
class Rv {
  constructor(e, t, n) {
    this.ast = t, this.target = n, this.isBound = !1, this.s = void 0, this.l = e;
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this), tr(this.ast, this.s, this, this.target), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, U(this.ast, this.s, this, null) === this.target && tr(this.ast, this.s, this, null), tn(this.ast, this.s, this), this.s = void 0);
  }
}
Yn(!1)(Rv);
class J4 {
  constructor(e, t = !1) {
    this.prevent = e, this.capture = t;
  }
}
class qc {
  constructor(e, t, n, i, s) {
    this.ast = t, this.target = n, this.targetEvent = i, this.isBound = !1, this.self = !1, this.boundFn = !0, this.l = e, this.xt = s;
  }
  callSource(e) {
    const t = this.s.overrideContext;
    t.$event = e;
    let n = U(this.ast, this.s, this, null);
    return delete t.$event, kr(n) && (n = n(e)), n !== !0 && this.xt.prevent && e.preventDefault(), n;
  }
  handleEvent(e) {
    this.self && this.target !== e.composedPath()[0] || this.callSource(e);
  }
  bind(e) {
    if (this.isBound) {
      if (this.s === e)
        return;
      this.unbind();
    }
    this.s = e, An(this.ast, e, this), this.target.addEventListener(this.targetEvent, this, this.xt), this.isBound = !0;
  }
  unbind() {
    !this.isBound || (this.isBound = !1, tn(this.ast, this.s, this), this.s = void 0, this.target.removeEventListener(this.targetEvent, this, this.xt));
  }
}
da(qc);
uo(qc, () => "callSource");
Yn(!0, !0)(qc);
const Y4 = Ie("IAppTask");
class Ug {
  constructor(e, t, n) {
    this.c = void 0, this.slot = e, this.k = t, this.cb = n;
  }
  register(e) {
    return this.c = e.register(C4(Y4, this));
  }
  run() {
    const e = this.k, t = this.cb;
    return e === null ? t() : t(this.c.get(e));
  }
}
Gr({
  creating: Os("creating"),
  hydrating: Os("hydrating"),
  hydrated: Os("hydrated"),
  activating: Os("activating"),
  activated: Os("activated"),
  deactivating: Os("deactivating"),
  deactivated: Os("deactivated")
});
function Os(r) {
  function e(t, n) {
    return kr(n) ? new Ug(r, t, n) : new Ug(r, null, t);
  }
  return e;
}
const X4 = De, pl = dr("watch"), id = Gr({
  name: pl,
  add(r, e) {
    let t = fr(pl, r);
    t == null && St(pl, t = [], r), t.push(e);
  },
  getAnnotation(r) {
    return fr(pl, r) ?? X4;
  }
});
function Tv(r) {
  return function(e) {
    return w0(r, e);
  };
}
function cn(r) {
  return function(e) {
    return w0(xt(r) ? {
      isTemplateController: !0,
      name: r
    } : {
      isTemplateController: !0,
      ...r
    }, e);
  };
}
class v0 {
  constructor(e, t, n, i, s, o, a, c, l, f) {
    this.Type = e, this.name = t, this.aliases = n, this.key = i, this.defaultBindingMode = s, this.isTemplateController = o, this.bindables = a, this.noMultiBindings = c, this.watches = l, this.dependencies = f;
  }
  get type() {
    return 2;
  }
  static create(e, t) {
    let n, i;
    return xt(e) ? (n = e, i = {
      name: n
    }) : (n = e.name, i = e), new v0(t, ir(Ki(t, "name"), n), It(Ki(t, "aliases"), i.aliases, t.aliases), y0(n), ir(Ki(t, "defaultBindingMode"), i.defaultBindingMode, t.defaultBindingMode, 2), ir(Ki(t, "isTemplateController"), i.isTemplateController, t.isTemplateController, !1), ci.from(t, ...ci.getAll(t), Ki(t, "bindables"), t.bindables, i.bindables), ir(Ki(t, "noMultiBindings"), i.noMultiBindings, t.noMultiBindings, !1), It(id.getAnnotation(t), t.watches), It(Ki(t, "dependencies"), i.dependencies, t.dependencies));
  }
  register(e) {
    const { Type: t, key: n, aliases: i } = this;
    Sv(n, t).register(e), Vc(n, t).register(e), jc(i, A0, n, e);
  }
}
const Ws = co("custom-attribute"), y0 = (r) => `${Ws}:${r}`, Ki = (r, e) => fr(dr(e), r), Z4 = (r) => kr(r) && Fc(Ws, r), Iv = (r, e) => La(r, y0(e)) ?? void 0, w0 = (r, e) => {
  const t = v0.create(r, e);
  return St(Ws, t, t.Type), St(Ws, t, t), fs(e, Ws), t.Type;
}, sd = (r) => {
  const e = fr(Ws, r);
  if (e === void 0)
    throw ne(`AUR0759:${r.name}`);
  return e;
}, A0 = Gr({
  name: Ws,
  keyFrom: y0,
  isType: Z4,
  for: Iv,
  define: w0,
  getDefinition: sd,
  annotate(r, e, t) {
    St(dr(e), t, r);
  },
  getAnnotation: Ki
});
function e8(r) {
  return r.startsWith($a);
}
const $a = dr("children-observer"), ka = Gr({
  name: $a,
  keyFrom: (r) => `${$a}:${r}`,
  from(...r) {
    const e = {};
    function t(s) {
      e[s] = Xa.create(s);
    }
    function n(s, o) {
      e[s] = Xa.create(s, o);
    }
    function i(s) {
      En(s) ? s.forEach(t) : s instanceof Xa ? e[s.property] = s : s !== void 0 && p0(s).forEach((o) => n(o, s));
    }
    return r.forEach(i), e;
  },
  getAll(r) {
    const e = $a.length + 1, t = [], n = P1(r);
    let i = n.length, s = 0, o, a, c;
    for (; --i >= 0; ) {
      c = n[i], o = wv(c).filter(e8), a = o.length;
      for (let l = 0; l < a; ++l)
        t[s++] = fr($a, c, o[l].slice(e));
    }
    return t;
  }
}), t8 = {
  childList: !0
};
class Xa {
  constructor(e, t, n, i, s, o) {
    this.callback = e, this.property = t, this.options = n, this.query = i, this.filter = s, this.map = o;
  }
  static create(e, t = {}) {
    return new Xa(ir(t.callback, `${e}Changed`), ir(t.property, e), t.options ?? t8, t.query, t.filter, t.map);
  }
}
class Mv {
  constructor(e, t, n, i, s = r8, o = n8, a = i8, c) {
    this.controller = e, this.obj = t, this.propertyKey = n, this.query = s, this.filter = o, this.map = a, this.options = c, this.observing = !1, this.children = void 0, this.observer = void 0, this.callback = t[i], Reflect.defineProperty(this.obj, this.propertyKey, {
      enumerable: !0,
      configurable: !0,
      get: () => this.getValue(),
      set: () => {
      }
    });
  }
  getValue() {
    return this.observing ? this.children : this.get();
  }
  setValue(e) {
  }
  start() {
    this.observing || (this.observing = !0, this.children = this.get(), (this.observer ?? (this.observer = new this.controller.host.ownerDocument.defaultView.MutationObserver(() => {
      this.wt();
    }))).observe(this.controller.host, this.options));
  }
  stop() {
    this.observing && (this.observing = !1, this.observer.disconnect(), this.children = De);
  }
  wt() {
    this.children = this.get(), this.callback !== void 0 && this.callback.call(this.obj), this.subs.notify(this.children, void 0);
  }
  get() {
    return o8(this.controller, this.query, this.filter, this.map);
  }
}
vr()(Mv);
function r8(r) {
  return r.host.childNodes;
}
function n8(r, e, t) {
  return !!t;
}
function i8(r, e, t) {
  return t;
}
const s8 = {
  optional: !0
};
function o8(r, e, t, n) {
  const i = e(r), s = i.length, o = [];
  let a, c, l, f = 0;
  for (; f < s; ++f)
    a = i[f], c = rs(a, s8), l = c?.viewModel ?? null, t(a, c, l) && o.push(n(a, c, l));
  return o;
}
const yr = Bc, Vg = (r, e, t, n) => {
  r.addEventListener(e, t, n);
}, jg = (r, e, t, n) => {
  r.removeEventListener(e, t, n);
}, S0 = (r) => {
  const e = r.prototype;
  yn(e, "subscribe", function(t) {
    if (this.subs.add(t) && this.subs.count === 1) {
      for (ji of this.cf.events)
        Vg(this.bt, ji, this);
      this.yt = !0, this.kt?.();
    }
  }), yn(e, "unsubscribe", function(t) {
    if (this.subs.remove(t) && this.subs.count === 0) {
      for (ji of this.cf.events)
        jg(this.bt, ji, this);
      this.yt = !1, this.At?.();
    }
  }), yn(e, "useConfig", function(t) {
    if (this.cf = t, this.yt) {
      for (ji of this.cf.events)
        jg(this.bt, ji, this);
      for (ji of this.cf.events)
        Vg(this.bt, ji, this);
    }
  });
};
let ji;
const nh = (r) => {
  yn(r.prototype, "subscribe", gi), yn(r.prototype, "unsubscribe", gi);
};
class Ov {
  constructor(e) {
    this.obj = e, this.type = 6, this.value = "", this.ov = "", this.Ct = {}, this.Bt = 0, this.J = !1;
  }
  get doNotCache() {
    return !0;
  }
  getValue() {
    return this.value;
  }
  setValue(e) {
    this.value = e, this.J = e !== this.ov, this.it();
  }
  it() {
    if (this.J) {
      this.J = !1;
      const e = this.value, t = this.Ct, n = Nv(e);
      let i = this.Bt;
      if (this.ov = e, n.length > 0 && this.Rt(n), this.Bt += 1, i === 0)
        return;
      i -= 1;
      for (const s in t)
        !ts.call(t, s) || t[s] !== i || this.obj.classList.remove(s);
    }
  }
  Rt(e) {
    const t = this.obj, n = e.length;
    let i = 0, s;
    for (; i < n; i++)
      s = e[i], s.length !== 0 && (this.Ct[s] = this.Bt, t.classList.add(s));
  }
}
function Nv(r) {
  if (xt(r))
    return Wg(r);
  if (typeof r != "object")
    return De;
  if (r instanceof Array) {
    const n = r.length;
    if (n > 0) {
      const i = [];
      let s = 0;
      for (; n > s; ++s)
        i.push(...Nv(r[s]));
      return i;
    } else
      return De;
  }
  const e = [];
  let t;
  for (t in r)
    Boolean(r[t]) && (t.includes(" ") ? e.push(...Wg(t)) : e.push(t));
  return e;
}
function Wg(r) {
  const e = r.match(/\S+/g);
  return e === null ? De : e;
}
nh(Ov);
Ie("IShadowDOMStyleFactory", (r) => r.cachedCallback((e) => $v.supported(e.get(yr)) ? e.get(Dv) : e.get(Bv)));
class Dv {
  constructor(e) {
    this.p = e, this.cache = /* @__PURE__ */ new Map();
  }
  createStyles(e, t) {
    return new $v(this.p, e, this.cache, t);
  }
}
Dv.inject = [yr];
class Bv {
  constructor(e) {
    this.p = e;
  }
  createStyles(e, t) {
    return new c8(this.p, e, t);
  }
}
Bv.inject = [yr];
const Hg = Ie("IShadowDOMStyles"), a8 = Ie("IShadowDOMGlobalStyles", (r) => r.instance({
  applyTo: gi
}));
class $v {
  constructor(e, t, n, i = null) {
    this.sharedStyles = i, this.styleSheets = t.map((s) => {
      let o;
      return s instanceof e.CSSStyleSheet ? o = s : (o = n.get(s), o === void 0 && (o = new e.CSSStyleSheet(), o.replaceSync(s), n.set(s, o))), o;
    });
  }
  static supported(e) {
    return "adoptedStyleSheets" in e.ShadowRoot.prototype;
  }
  applyTo(e) {
    this.sharedStyles !== null && this.sharedStyles.applyTo(e), e.adoptedStyleSheets = [...e.adoptedStyleSheets, ...this.styleSheets];
  }
}
class c8 {
  constructor(e, t, n = null) {
    this.p = e, this.localStyles = t, this.sharedStyles = n;
  }
  applyTo(e) {
    const t = this.localStyles, n = this.p;
    for (let i = t.length - 1; i > -1; --i) {
      const s = n.document.createElement("style");
      s.innerHTML = t[i], e.prepend(s);
    }
    this.sharedStyles !== null && this.sharedStyles.applyTo(e);
  }
}
const { enter: l8, exit: u8 } = k6, { wrap: h8, unwrap: f8 } = l4;
class Lv {
  constructor(e, t, n, i, s) {
    this.obj = e, this.$get = n, this.useProxy = s, this.isBound = !1, this.running = !1, this.v = void 0, this.cb = i, this.oL = t;
  }
  get value() {
    return this.v;
  }
  handleChange() {
    this.run();
  }
  handleCollectionChange() {
    this.run();
  }
  bind() {
    this.isBound || (this.compute(), this.isBound = !0);
  }
  unbind() {
    !this.isBound || (this.isBound = !1, this.obs.clearAll());
  }
  run() {
    if (!this.isBound || this.running)
      return;
    const e = this.obj, t = this.v, n = this.compute();
    Uc(n, t) || this.cb.call(e, n, t, e);
  }
  compute() {
    this.running = !0, this.obs.version++;
    try {
      return l8(this), this.v = f8(this.$get.call(void 0, this.useProxy ? h8(this.obj) : this.obj, this));
    } finally {
      this.obs.clear(), this.running = !1, u8(this);
    }
  }
}
class C0 {
  constructor(e, t, n, i, s) {
    this.scope = e, this.l = t, this.oL = n, this.isBound = !1, this.boundFn = !1, this.obj = e.bindingContext, this.St = i, this.cb = s;
  }
  get value() {
    return this.v;
  }
  handleChange(e) {
    const t = this.St, n = this.obj, i = this.v;
    t.$kind === 1 && this.obs.count === 1 || (this.obs.version++, e = U(t, this.scope, this, this), this.obs.clear()), Uc(e, i) || (this.v = e, this.cb.call(n, e, i, n));
  }
  bind() {
    this.isBound || (this.obs.version++, this.v = U(this.St, this.scope, this, this), this.obs.clear(), this.isBound = !0);
  }
  unbind() {
    !this.isBound || (this.isBound = !1, this.obs.clearAll(), this.v = void 0);
  }
}
kn(Lv);
kn(C0);
Yn(!0)(C0);
const Po = Ie("ILifecycleHooks");
class d8 {
  constructor(e, t) {
    this.definition = e, this.instance = t;
  }
}
class E0 {
  constructor(e, t) {
    this.Type = e, this.propertyNames = t;
  }
  static create(e, t) {
    const n = /* @__PURE__ */ new Set();
    let i = t.prototype;
    for (; i !== h0; ) {
      for (const s of d0(i))
        s !== "constructor" && n.add(s);
      i = Object.getPrototypeOf(i);
    }
    return new E0(t, n);
  }
  register(e) {
    lo(Po, this.Type).register(e);
  }
}
const Gg = /* @__PURE__ */ new WeakMap(), gl = dr("lifecycle-hooks"), Kg = Gr({
  name: gl,
  define(r, e) {
    const t = E0.create(r, e);
    return St(gl, t, e), fs(e, gl), t.Type;
  },
  resolve(r) {
    let e = Gg.get(r);
    if (e === void 0) {
      Gg.set(r, e = new p8());
      const t = r.root, n = t.id === r.id ? r.getAll(Po) : r.has(Po, !1) ? t.getAll(Po).concat(r.getAll(Po)) : t.getAll(Po);
      let i, s, o, a, c;
      for (i of n) {
        s = fr(gl, i.constructor), o = new d8(s, i);
        for (a of s.propertyNames)
          c = e[a], c === void 0 ? e[a] = [o] : c.push(o);
      }
    }
    return e;
  }
});
class p8 {
}
const Kr = Ie("IViewFactory");
class ih {
  constructor(e, t) {
    this.isCaching = !1, this.Y = null, this.It = -1, this.name = t.name, this.container = e, this.def = t;
  }
  setCacheSize(e, t) {
    e && (e === "*" ? e = ih.maxCacheSize : xt(e) && (e = parseInt(e, 10)), (this.It === -1 || !t) && (this.It = e)), this.It > 0 ? this.Y = [] : this.Y = null, this.isCaching = this.It > 0;
  }
  canReturnToCache(e) {
    return this.Y != null && this.Y.length < this.It;
  }
  tryReturnToCache(e) {
    return this.canReturnToCache(e) ? (this.Y.push(e), !0) : !1;
  }
  create(e) {
    const t = this.Y;
    let n;
    return t != null && t.length > 0 ? (n = t.pop(), n) : (n = en.$view(this, e), n);
  }
}
ih.maxCacheSize = 65535;
const ho = Ie("IRendering", (r) => r.singleton(Fv));
class Fv {
  constructor(e) {
    this.Tt = /* @__PURE__ */ new WeakMap(), this.Pt = /* @__PURE__ */ new WeakMap();
    const t = e.root;
    this.p = (this.Et = t).get(yr), this.ep = t.get(Xd), this.oL = t.get(ao), this.Lt = new nf(this.p, this.p.document.createDocumentFragment());
  }
  get renderers() {
    return this.Dt ?? (this.Dt = this.Et.getAll(Qv, !1).reduce((e, t) => (e[t.target] = t, e), rr()));
  }
  compile(e, t, n) {
    if (e.needsCompile !== !1) {
      const i = this.Tt, s = t.get(qv);
      let o = i.get(e);
      return o == null ? i.set(e, o = s.compile(e, t, n)) : t.register(...o.dependencies), o;
    }
    return e;
  }
  getViewFactory(e, t) {
    return new ih(t, $n.getOrCreate(e));
  }
  createNodes(e) {
    if (e.enhance === !0)
      return new nf(this.p, e.template);
    let t;
    const n = this.Pt;
    if (n.has(e))
      t = n.get(e);
    else {
      const i = this.p, s = i.document, o = e.template;
      let a;
      o === null ? t = null : o instanceof i.Node ? o.nodeName === "TEMPLATE" ? t = s.adoptNode(o.content) : (t = s.adoptNode(s.createDocumentFragment())).appendChild(o.cloneNode(!0)) : (a = s.createElement("template"), xt(o) && (a.innerHTML = o), s.adoptNode(t = a.content)), n.set(e, t);
    }
    return t == null ? this.Lt : new nf(this.p, t.cloneNode(!0));
  }
  render(e, t, n, i) {
    const s = n.instructions, o = this.renderers, a = t.length;
    if (t.length !== s.length)
      throw ne(`AUR0757:${a}<>${s.length}`);
    let c = 0, l = 0, f = 0, p, b, w;
    if (a > 0)
      for (; a > c; ) {
        for (p = s[c], w = t[c], l = 0, f = p.length; f > l; )
          b = p[l], o[b.type].render(e, w, b, this.p, this.ep, this.oL), ++l;
        ++c;
      }
    if (i != null && (p = n.surrogates, (f = p.length) > 0))
      for (l = 0; f > l; )
        b = p[l], o[b.type].render(e, i, b, this.p, this.ep, this.oL), ++l;
  }
}
Fv.inject = [oa];
var zg;
(function(r) {
  r[r.none = 0] = "none", r[r.fromBind = 1] = "fromBind", r[r.fromUnbind = 2] = "fromUnbind", r[r.dispose = 4] = "dispose";
})(zg || (zg = {}));
var qg;
(function(r) {
  r[r.none = 0] = "none", r[r.host = 1] = "host", r[r.shadowRoot = 2] = "shadowRoot", r[r.location = 3] = "location";
})(qg || (qg = {}));
const g8 = {
  optional: !0
}, Wi = /* @__PURE__ */ new WeakMap();
class en {
  constructor(e, t, n, i, s, o, a) {
    this.container = e, this.vmKind = t, this.definition = n, this.viewFactory = i, this.host = o, this.head = null, this.tail = null, this.next = null, this.parent = null, this.bindings = null, this.children = null, this.hasLockedScope = !1, this.isStrictBinding = !1, this.scope = null, this.isBound = !1, this.hostController = null, this.mountTarget = 0, this.shadowRoot = null, this.nodes = null, this.location = null, this.Ut = null, this.state = 0, this.$t = !1, this._t = De, this.flags = 0, this.$initiator = null, this.$flags = 0, this.$resolve = void 0, this.$reject = void 0, this.$promise = void 0, this.qt = 0, this.Mt = 0, this.Ft = 0, this.Ot = s, this.Vt = t === 2 ? Io.none : new Io(s), this.location = a, this.r = e.root.get(ho);
  }
  get lifecycleHooks() {
    return this.Ut;
  }
  get isActive() {
    return (this.state & 3) > 0 && (4 & this.state) === 0;
  }
  get name() {
    if (this.parent === null)
      switch (this.vmKind) {
        case 1:
          return `[${this.definition.name}]`;
        case 0:
          return this.definition.name;
        case 2:
          return this.viewFactory.name;
      }
    switch (this.vmKind) {
      case 1:
        return `${this.parent.name}>[${this.definition.name}]`;
      case 0:
        return `${this.parent.name}>${this.definition.name}`;
      case 2:
        return this.viewFactory.name === this.parent.definition?.name ? `${this.parent.name}[view]` : `${this.parent.name}[view:${this.viewFactory.name}]`;
    }
  }
  get hooks() {
    return this.Vt;
  }
  get viewModel() {
    return this.Ot;
  }
  set viewModel(e) {
    this.Ot = e, this.Vt = e == null || this.vmKind === 2 ? Io.none : new Io(e);
  }
  static getCached(e) {
    return Wi.get(e);
  }
  static getCachedOrThrow(e) {
    const t = en.getCached(e);
    if (t === void 0)
      throw ne(`AUR0500:${e}`);
    return t;
  }
  static $el(e, t, n, i, s = void 0, o = null) {
    if (Wi.has(t))
      return Wi.get(t);
    s = s ?? cd(t.constructor);
    const a = new en(e, 0, s, null, t, n, o), c = e.get(N1(fu));
    return s.dependencies.length > 0 && e.register(...s.dependencies), At(e, fu, new ar("IHydrationContext", new v8(a, i, c))), Wi.set(t, a), (i == null || i.hydrate !== !1) && a.hE(i, c), a;
  }
  static $attr(e, t, n, i) {
    if (Wi.has(t))
      return Wi.get(t);
    i = i ?? sd(t.constructor);
    const s = new en(e, 1, i, null, t, n, null);
    return i.dependencies.length > 0 && e.register(...i.dependencies), Wi.set(t, s), s.Nt(), s;
  }
  static $view(e, t = void 0) {
    const n = new en(e.container, 2, null, e, null, null, null);
    return n.parent = t ?? null, n.jt(), n;
  }
  hE(e, t) {
    const n = this.container, i = this.flags, s = this.Ot;
    let o = this.definition;
    if (this.scope = Yt.create(s, null, !0), o.watches.length > 0 && Yg(this, n, o, s), Qg(this, o, i, s), this._t = m8(this, o, s), this.Vt.hasDefine) {
      const a = s.define(this, t, o);
      a !== void 0 && a !== o && (o = $n.getOrCreate(a));
    }
    this.Ut = Kg.resolve(n), o.register(n), o.injectable !== null && At(n, o.injectable, new ar("definition.injectable", s)), (e == null || e.hydrate !== !1) && (this.hS(e), this.hC());
  }
  hS(e) {
    this.Ut.hydrating !== void 0 && this.Ut.hydrating.forEach(w8, this), this.Vt.hasHydrating && this.Ot.hydrating(this);
    const t = this.Ht = this.r.compile(this.definition, this.container, e), { shadowOptions: n, isStrictBinding: i, hasSlots: s, containerless: o } = t;
    let a = this.location;
    if (this.isStrictBinding = i, (this.hostController = rs(this.host, g8)) !== null && (this.host = this.container.root.get(yr).document.createElement(this.definition.name), o && a == null && (a = this.location = _0(this.host))), gr(this.host, Wt, this), gr(this.host, this.definition.key, this), n !== null || s) {
      if (a != null)
        throw ne("AUR0501");
      gr(this.shadowRoot = this.host.attachShadow(n ?? x8), Wt, this), gr(this.shadowRoot, this.definition.key, this), this.mountTarget = 2;
    } else
      a != null ? (gr(a, Wt, this), gr(a, this.definition.key, this), this.mountTarget = 3) : this.mountTarget = 1;
    this.Ot.$controller = this, this.nodes = this.r.createNodes(t), this.Ut.hydrated !== void 0 && this.Ut.hydrated.forEach(A8, this), this.Vt.hasHydrated && this.Ot.hydrated(this);
  }
  hC() {
    this.r.render(this, this.nodes.findTargets(), this.Ht, this.host), this.Ut.created !== void 0 && this.Ut.created.forEach(tm, this), this.Vt.hasCreated && this.Ot.created(this);
  }
  Nt() {
    const e = this.definition, t = this.Ot;
    e.watches.length > 0 && Yg(this, this.container, e, t), Qg(this, e, this.flags, t), t.$controller = this, this.Ut = Kg.resolve(this.container), this.Ut.created !== void 0 && this.Ut.created.forEach(tm, this), this.Vt.hasCreated && this.Ot.created(this);
  }
  jt() {
    this.Ht = this.r.compile(this.viewFactory.def, this.container, null), this.isStrictBinding = this.Ht.isStrictBinding, this.r.render(this, (this.nodes = this.r.createNodes(this.Ht)).findTargets(), this.Ht, void 0);
  }
  activate(e, t, n, i) {
    switch (this.state) {
      case 0:
      case 8:
        if (!(t === null || t.isActive))
          return;
        this.state = 1;
        break;
      case 2:
        return;
      case 32:
        throw ne(`AUR0502:${this.name}`);
      default:
        throw ne(`AUR0503:${this.name} ${em(this.state)}`);
    }
    switch (this.parent = t, n |= 1, this.vmKind) {
      case 0:
        this.scope.parent = i ?? null;
        break;
      case 1:
        this.scope = i ?? null;
        break;
      case 2:
        if (i == null)
          throw ne("AUR0504");
        this.hasLockedScope || (this.scope = i);
        break;
    }
    this.isStrictBinding, this.$initiator = e, this.$flags = n, this.Wt();
    let s;
    return this.vmKind !== 2 && this.Ut.binding != null && (s = Ut(...this.Ut.binding.map(S8, this))), this.Vt.hasBinding && (s = Ut(s, this.Ot.binding(this.$initiator, this.parent, this.$flags))), Qt(s) ? (this.zt(), s.then(() => {
      this.bind();
    }).catch((o) => {
      this.Gt(o);
    }), this.$promise) : (this.bind(), this.$promise);
  }
  bind() {
    let e = 0, t = this._t.length, n;
    if (t > 0)
      for (; t > e; )
        this._t[e].start(), ++e;
    if (this.bindings !== null)
      for (e = 0, t = this.bindings.length; t > e; )
        this.bindings[e].bind(this.scope), ++e;
    if (this.vmKind !== 2 && this.Ut.bound != null && (n = Ut(...this.Ut.bound.map(C8, this))), this.Vt.hasBound && (n = Ut(n, this.Ot.bound(this.$initiator, this.parent, this.$flags))), Qt(n)) {
      this.zt(), n.then(() => {
        this.isBound = !0, this.Xt();
      }).catch((i) => {
        this.Gt(i);
      });
      return;
    }
    this.isBound = !0, this.Xt();
  }
  Kt(...e) {
    switch (this.mountTarget) {
      case 1:
        this.host.append(...e);
        break;
      case 2:
        this.shadowRoot.append(...e);
        break;
      case 3: {
        let t = 0;
        for (; t < e.length; ++t)
          this.location.parentNode.insertBefore(e[t], this.location);
        break;
      }
    }
  }
  Xt() {
    if (this.hostController !== null)
      switch (this.mountTarget) {
        case 1:
        case 2:
          this.hostController.Kt(this.host);
          break;
        case 3:
          this.hostController.Kt(this.location.$start, this.location);
          break;
      }
    switch (this.mountTarget) {
      case 1:
        this.nodes.appendTo(this.host, this.definition != null && this.definition.enhance);
        break;
      case 2: {
        const n = this.container;
        (n.has(Hg, !1) ? n.get(Hg) : n.get(a8)).applyTo(this.shadowRoot), this.nodes.appendTo(this.shadowRoot);
        break;
      }
      case 3:
        this.nodes.insertBefore(this.location);
        break;
    }
    let e = 0, t;
    if (this.vmKind !== 2 && this.Ut.attaching != null && (t = Ut(...this.Ut.attaching.map(E8, this))), this.Vt.hasAttaching && (t = Ut(t, this.Ot.attaching(this.$initiator, this.parent, this.$flags))), Qt(t) && (this.zt(), this.Wt(), t.then(() => {
      this.Qt();
    }).catch((n) => {
      this.Gt(n);
    })), this.children !== null)
      for (; e < this.children.length; ++e)
        this.children[e].activate(this.$initiator, this, this.$flags, this.scope);
    this.Qt();
  }
  deactivate(e, t, n) {
    switch (-17 & this.state) {
      case 2:
        this.state = 4;
        break;
      case 0:
      case 8:
      case 32:
      case 40:
        return;
      default:
        throw ne(`AUR0505:${this.name} ${em(this.state)}`);
    }
    this.$initiator = e, this.$flags = n, e === this && this.Yt();
    let i = 0, s;
    if (this._t.length)
      for (; i < this._t.length; ++i)
        this._t[i].stop();
    if (this.children !== null)
      for (i = 0; i < this.children.length; ++i)
        this.children[i].deactivate(e, this, n);
    if (this.vmKind !== 2 && this.Ut.detaching != null && (s = Ut(...this.Ut.detaching.map(P8, this))), this.Vt.hasDetaching && (s = Ut(s, this.Ot.detaching(this.$initiator, this.parent, this.$flags))), Qt(s) && (this.zt(), e.Yt(), s.then(() => {
      e.Zt();
    }).catch((o) => {
      e.Gt(o);
    })), e.head === null ? e.head = this : e.tail.next = this, e.tail = this, e === this)
      return this.Zt(), this.$promise;
  }
  removeNodes() {
    switch (this.vmKind) {
      case 0:
      case 2:
        this.nodes.remove(), this.nodes.unlink();
    }
    if (this.hostController !== null)
      switch (this.mountTarget) {
        case 1:
        case 2:
          this.host.remove();
          break;
        case 3:
          this.location.$start.remove(), this.location.remove();
          break;
      }
  }
  unbind() {
    const e = 2 | this.$flags;
    let t = 0;
    if (this.bindings !== null)
      for (; t < this.bindings.length; ++t)
        this.bindings[t].unbind();
    switch (this.parent = null, this.vmKind) {
      case 1:
        this.scope = null;
        break;
      case 2:
        this.hasLockedScope || (this.scope = null), (16 & this.state) === 16 && !this.viewFactory.tryReturnToCache(this) && this.$initiator === this && this.dispose();
        break;
      case 0:
        this.scope.parent = null;
        break;
    }
    (4 & e) === 4 && this.$initiator === this && this.dispose(), this.state = 32 & this.state | 8, this.$initiator = null, this.Jt();
  }
  zt() {
    this.$promise === void 0 && (this.$promise = new Promise((e, t) => {
      this.$resolve = e, this.$reject = t;
    }), this.$initiator !== this && this.parent.zt());
  }
  Jt() {
    this.$promise !== void 0 && (tf = this.$resolve, this.$resolve = this.$reject = this.$promise = void 0, tf(), tf = void 0);
  }
  Gt(e) {
    this.$promise !== void 0 && (rf = this.$reject, this.$resolve = this.$reject = this.$promise = void 0, rf(e), rf = void 0), this.$initiator !== this && this.parent.Gt(e);
  }
  Wt() {
    ++this.qt, this.$initiator !== this && this.parent.Wt();
  }
  Qt() {
    if (--this.qt === 0) {
      if (this.vmKind !== 2 && this.Ut.attached != null && (Ns = Ut(...this.Ut.attached.map(_8, this))), this.Vt.hasAttached && (Ns = Ut(Ns, this.Ot.attached(this.$initiator, this.$flags))), Qt(Ns)) {
        this.zt(), Ns.then(() => {
          this.state = 2, this.Jt(), this.$initiator !== this && this.parent.Qt();
        }).catch((e) => {
          this.Gt(e);
        }), Ns = void 0;
        return;
      }
      Ns = void 0, this.state = 2, this.Jt();
    }
    this.$initiator !== this && this.parent.Qt();
  }
  Yt() {
    ++this.Mt;
  }
  Zt() {
    if (--this.Mt === 0) {
      this.te(), this.removeNodes();
      let e = this.$initiator.head, t;
      for (; e !== null; )
        e !== this && (e.debug && e.logger.trace("detach()"), e.removeNodes()), e.vmKind !== 2 && e.Ut.unbinding != null && (t = Ut(...e.Ut.unbinding.map(k8, this))), e.Vt.hasUnbinding && (e.debug && e.logger.trace("unbinding()"), t = Ut(t, e.viewModel.unbinding(e.$initiator, e.parent, e.$flags))), Qt(t) && (this.zt(), this.te(), t.then(() => {
          this.ee();
        }).catch((n) => {
          this.Gt(n);
        })), t = void 0, e = e.next;
      this.ee();
    }
  }
  te() {
    ++this.Ft;
  }
  ee() {
    if (--this.Ft === 0) {
      let e = this.$initiator.head, t = null;
      for (; e !== null; )
        e !== this && (e.isBound = !1, e.unbind()), t = e.next, e.next = null, e = t;
      this.head = this.tail = null, this.isBound = !1, this.unbind();
    }
  }
  addBinding(e) {
    this.bindings === null ? this.bindings = [e] : this.bindings[this.bindings.length] = e;
  }
  addChild(e) {
    this.children === null ? this.children = [e] : this.children[this.children.length] = e;
  }
  is(e) {
    switch (this.vmKind) {
      case 1:
        return sd(this.Ot.constructor).name === e;
      case 0:
        return cd(this.Ot.constructor).name === e;
      case 2:
        return this.viewFactory.name === e;
    }
  }
  lockScope(e) {
    this.scope = e, this.hasLockedScope = !0;
  }
  setHost(e) {
    return this.vmKind === 0 && (gr(e, Wt, this), gr(e, this.definition.key, this)), this.host = e, this.mountTarget = 1, this;
  }
  setShadowRoot(e) {
    return this.vmKind === 0 && (gr(e, Wt, this), gr(e, this.definition.key, this)), this.shadowRoot = e, this.mountTarget = 2, this;
  }
  setLocation(e) {
    return this.vmKind === 0 && (gr(e, Wt, this), gr(e, this.definition.key, this)), this.location = e, this.mountTarget = 3, this;
  }
  release() {
    this.state |= 16;
  }
  dispose() {
    (32 & this.state) !== 32 && (this.state |= 32, this.Vt.hasDispose && this.Ot.dispose(), this.children !== null && (this.children.forEach(y8), this.children = null), this.hostController = null, this.scope = null, this.nodes = null, this.location = null, this.viewFactory = null, this.Ot !== null && (Wi.delete(this.Ot), this.Ot = null), this.Ot = null, this.host = null, this.shadowRoot = null, this.container.disposeResolvers());
  }
  accept(e) {
    if (e(this) === !0 || this.Vt.hasAccept && this.Ot.accept(e) === !0)
      return !0;
    if (this.children !== null) {
      const { children: t } = this;
      for (let n = 0, i = t.length; n < i; ++n)
        if (t[n].accept(e) === !0)
          return !0;
    }
  }
}
function Uv(r) {
  let e = r.$observers;
  return e === void 0 && Reflect.defineProperty(r, "$observers", {
    enumerable: !1,
    value: e = {}
  }), e;
}
function Qg(r, e, t, n) {
  const i = e.bindables, s = d0(i), o = s.length;
  if (o > 0) {
    let a, c, l = 0;
    const f = Uv(n), p = r.container, b = p.has(eg, !0) ? p.get(eg) : null;
    for (; l < o; ++l)
      a = s[l], f[a] === void 0 && (c = i[a], f[a] = new Av(n, a, c.callback, c.set, r, b));
  }
}
function m8(r, e, t) {
  const n = e.childrenObservers, i = d0(n), s = i.length;
  if (s > 0) {
    const o = Uv(t), a = [];
    let c, l = 0, f;
    for (; l < s; ++l)
      c = i[l], o[c] == null && (f = n[c], a[a.length] = o[c] = new Mv(r, t, c, f.callback, f.query, f.filter, f.map, f.options));
    return a;
  }
  return De;
}
const Jg = /* @__PURE__ */ new Map(), b8 = (r) => {
  let e = Jg.get(r);
  return e == null && (e = new Ml(r, 0), Jg.set(r, e)), e;
};
function Yg(r, e, t, n) {
  const i = e.get(ao), s = e.get(Xd), o = t.watches, a = r.vmKind === 0 ? r.scope : Yt.create(n, null, !0), c = o.length;
  let l, f, p, b = 0;
  for (; c > b; ++b) {
    if ({ expression: l, callback: f } = o[b], f = kr(f) ? f : Reflect.get(n, f), !kr(f))
      throw ne(`AUR0506:${String(f)}`);
    kr(l) ? r.addBinding(new Lv(n, i, l, f, !0)) : (p = xt(l) ? s.parse(l, 16) : b8(l), r.addBinding(new C0(a, e, i, p, f)));
  }
}
class Io {
  constructor(e) {
    this.hasDefine = "define" in e, this.hasHydrating = "hydrating" in e, this.hasHydrated = "hydrated" in e, this.hasCreated = "created" in e, this.hasBinding = "binding" in e, this.hasBound = "bound" in e, this.hasAttaching = "attaching" in e, this.hasAttached = "attached" in e, this.hasDetaching = "detaching" in e, this.hasUnbinding = "unbinding" in e, this.hasDispose = "dispose" in e, this.hasAccept = "accept" in e;
  }
}
Io.none = new Io({});
const x8 = {
  mode: "open"
};
var Xg;
(function(r) {
  r[r.customElement = 0] = "customElement", r[r.customAttribute = 1] = "customAttribute", r[r.synthetic = 2] = "synthetic";
})(Xg || (Xg = {}));
var Zg;
(function(r) {
  r[r.none = 0] = "none", r[r.activating = 1] = "activating", r[r.activated = 2] = "activated", r[r.deactivating = 4] = "deactivating", r[r.deactivated = 8] = "deactivated", r[r.released = 16] = "released", r[r.disposed = 32] = "disposed";
})(Zg || (Zg = {}));
function em(r) {
  const e = [];
  return (1 & r) === 1 && e.push("activating"), (2 & r) === 2 && e.push("activated"), (4 & r) === 4 && e.push("deactivating"), (8 & r) === 8 && e.push("deactivated"), (16 & r) === 16 && e.push("released"), (32 & r) === 32 && e.push("disposed"), e.length === 0 ? "none" : e.join("|");
}
const sh = Ie("IController"), fu = Ie("IHydrationContext");
class v8 {
  constructor(e, t, n) {
    this.instruction = t, this.parent = n, this.controller = e;
  }
}
function y8(r) {
  r.dispose();
}
function tm(r) {
  r.instance.created(this.Ot, this);
}
function w8(r) {
  r.instance.hydrating(this.Ot, this);
}
function A8(r) {
  r.instance.hydrated(this.Ot, this);
}
function S8(r) {
  return r.instance.binding(this.Ot, this.$initiator, this.parent, this.$flags);
}
function C8(r) {
  return r.instance.bound(this.Ot, this.$initiator, this.parent, this.$flags);
}
function E8(r) {
  return r.instance.attaching(this.Ot, this.$initiator, this.parent, this.$flags);
}
function _8(r) {
  return r.instance.attached(this.Ot, this.$initiator, this.$flags);
}
function P8(r) {
  return r.instance.detaching(this.Ot, this.$initiator, this.parent, this.$flags);
}
function k8(r) {
  return r.instance.unbinding(this.Ot, this.$initiator, this.parent, this.$flags);
}
let tf, rf, Ns;
const rm = Ie("IAppRoot"), R8 = "au-start", T8 = "au-end", nm = (r, e) => r.document.createComment(e), I8 = (r) => {
  const e = nm(r, T8);
  return e.$start = nm(r, R8), e;
}, M8 = (r, e) => r.document.createTextNode(e), O8 = (r, e, t) => r.insertBefore(e, t), ml = (r, e, t) => {
  if (r === null)
    return;
  const n = t.length;
  let i = 0;
  for (; n > i; )
    r.insertBefore(t[i], e), ++i;
}, N8 = (r) => {
  const e = r.previousSibling;
  let t;
  if (e?.nodeType === 8 && e.textContent === "au-end") {
    if (t = e, (t.$start = t.previousSibling) == null)
      throw im();
    return r.parentNode?.removeChild(r), t;
  } else
    throw im();
}, im = () => ne("AURxxxx");
class D8 {
}
function La(r, e) {
  return r.$au?.[e] ?? null;
}
function gr(r, e, t) {
  var n;
  ((n = r).$au ?? (n.$au = new D8()))[e] = t;
}
const Ho = Ie("INode");
Ie("IEventTarget", (r) => r.cachedCallback((e) => e.has(rm, !0) ? e.get(rm).host : e.get(yr).document));
const xr = Ie("IRenderLocation"), du = /* @__PURE__ */ new WeakMap();
function od(r) {
  if (du.has(r))
    return du.get(r);
  let e = 0, t = r.nextSibling;
  for (; t !== null; ) {
    if (t.nodeType === 8)
      switch (t.textContent) {
        case "au-start":
          ++e;
          break;
        case "au-end":
          if (e-- === 0)
            return t;
      }
    t = t.nextSibling;
  }
  if (r.parentNode === null && r.nodeType === 11) {
    const n = rs(r);
    if (n === void 0)
      return null;
    if (n.mountTarget === 2)
      return od(n.host);
  }
  return r.parentNode;
}
function B8(r, e) {
  if (r.platform !== void 0 && !(r instanceof r.platform.Node)) {
    const t = r.childNodes;
    for (let n = 0, i = t.length; n < i; ++n)
      du.set(t[n], e);
  } else
    du.set(r, e);
}
function _0(r) {
  if (pu(r))
    return r;
  const e = r.ownerDocument.createComment("au-end"), t = e.$start = r.ownerDocument.createComment("au-start"), n = r.parentNode;
  return n !== null && (n.replaceChild(e, r), n.insertBefore(t, e)), e;
}
function pu(r) {
  return r.textContent === "au-end";
}
class nf {
  constructor(e, t) {
    this.platform = e, this.next = void 0, this.ne = !1, this.re = !1, this.ref = null, this.f = t;
    const n = t.querySelectorAll(".au");
    let i = 0, s = n.length, o, a = this.t = Array(s);
    for (; s > i; )
      o = n[i], o.nodeName === "AU-M" ? a[i] = N8(o) : a[i] = o, ++i;
    const c = t.childNodes, l = this.childNodes = Array(s = c.length);
    for (i = 0; s > i; )
      l[i] = c[i], ++i;
    this.oe = t.firstChild, this.le = t.lastChild;
  }
  get firstChild() {
    return this.oe;
  }
  get lastChild() {
    return this.le;
  }
  findTargets() {
    return this.t;
  }
  insertBefore(e) {
    if (this.re && !!this.ref)
      this.addToLinked();
    else {
      const t = e.parentNode;
      if (this.ne) {
        let n = this.oe, i;
        const s = this.le;
        for (; n != null && (i = n.nextSibling, t.insertBefore(n, e), n !== s); )
          n = i;
      } else
        this.ne = !0, e.parentNode.insertBefore(this.f, e);
    }
  }
  appendTo(e, t = !1) {
    if (this.ne) {
      let n = this.oe, i;
      const s = this.le;
      for (; n != null && (i = n.nextSibling, e.appendChild(n), n !== s); )
        n = i;
    } else
      this.ne = !0, t || e.appendChild(this.f);
  }
  remove() {
    if (this.ne) {
      this.ne = !1;
      const e = this.f, t = this.le;
      let n, i = this.oe;
      for (; i !== null && (n = i.nextSibling, e.appendChild(i), i !== t); )
        i = n;
    }
  }
  addToLinked() {
    const e = this.ref, t = e.parentNode;
    if (this.ne) {
      let n = this.oe, i;
      const s = this.le;
      for (; n != null && (i = n.nextSibling, t.insertBefore(n, e), n !== s); )
        n = i;
    } else
      this.ne = !0, t.insertBefore(this.f, e);
  }
  unlink() {
    this.re = !1, this.next = void 0, this.ref = void 0;
  }
  link(e) {
    this.re = !0, pu(e) ? this.ref = e : (this.next = e, this.he());
  }
  he() {
    this.next !== void 0 ? this.ref = this.next.firstChild : this.ref = void 0;
  }
}
const Vv = Ie("IWindow", (r) => r.callback((e) => e.get(yr).window));
Ie("ILocation", (r) => r.callback((e) => e.get(Vv).location));
Ie("IHistory", (r) => r.callback((e) => e.get(Vv).history));
function jv(r) {
  return function(e) {
    return Wv(r, e);
  };
}
const sf = /* @__PURE__ */ new WeakMap();
class $n {
  constructor(e, t, n, i, s, o, a, c, l, f, p, b, w, A, C, S, k, O, L, B, N) {
    this.Type = e, this.name = t, this.aliases = n, this.key = i, this.cache = s, this.capture = o, this.template = a, this.instructions = c, this.dependencies = l, this.injectable = f, this.needsCompile = p, this.surrogates = b, this.bindables = w, this.childrenObservers = A, this.containerless = C, this.isStrictBinding = S, this.shadowOptions = k, this.hasSlots = O, this.enhance = L, this.watches = B, this.processContent = N;
  }
  get type() {
    return 1;
  }
  static create(e, t = null) {
    if (t === null) {
      const i = e;
      if (xt(i))
        throw ne(`AUR0761:${e}`);
      const s = wr("name", i, ad);
      return kr(i.Type) ? t = i.Type : t = Hv(f3(s)), new $n(t, s, It(i.aliases), wr("key", i, () => Ll(s)), wr("cache", i, of), wr("capture", i, pr), wr("template", i, Qr), It(i.instructions), It(i.dependencies), wr("injectable", i, Qr), wr("needsCompile", i, af), It(i.surrogates), ci.from(t, i.bindables), ka.from(i.childrenObservers), wr("containerless", i, pr), wr("isStrictBinding", i, pr), wr("shadowOptions", i, Qr), wr("hasSlots", i, pr), wr("enhance", i, pr), wr("watches", i, L8), qr("processContent", t, Qr));
    }
    if (xt(e))
      return new $n(t, e, It(Dr(t, "aliases"), t.aliases), Ll(e), qr("cache", t, of), qr("capture", t, pr), qr("template", t, Qr), It(Dr(t, "instructions"), t.instructions), It(Dr(t, "dependencies"), t.dependencies), qr("injectable", t, Qr), qr("needsCompile", t, af), It(Dr(t, "surrogates"), t.surrogates), ci.from(t, ...ci.getAll(t), Dr(t, "bindables"), t.bindables), ka.from(...ka.getAll(t), Dr(t, "childrenObservers"), t.childrenObservers), qr("containerless", t, pr), qr("isStrictBinding", t, pr), qr("shadowOptions", t, Qr), qr("hasSlots", t, pr), qr("enhance", t, pr), It(id.getAnnotation(t), t.watches), qr("processContent", t, Qr));
    const n = wr("name", e, ad);
    return new $n(t, n, It(Dr(t, "aliases"), e.aliases, t.aliases), Ll(n), fn("cache", e, t, of), fn("capture", e, t, pr), fn("template", e, t, Qr), It(Dr(t, "instructions"), e.instructions, t.instructions), It(Dr(t, "dependencies"), e.dependencies, t.dependencies), fn("injectable", e, t, Qr), fn("needsCompile", e, t, af), It(Dr(t, "surrogates"), e.surrogates, t.surrogates), ci.from(t, ...ci.getAll(t), Dr(t, "bindables"), t.bindables, e.bindables), ka.from(...ka.getAll(t), Dr(t, "childrenObservers"), t.childrenObservers, e.childrenObservers), fn("containerless", e, t, pr), fn("isStrictBinding", e, t, pr), fn("shadowOptions", e, t, Qr), fn("hasSlots", e, t, pr), fn("enhance", e, t, pr), It(e.watches, id.getAnnotation(t), t.watches), fn("processContent", e, t, Qr));
  }
  static getOrCreate(e) {
    if (e instanceof $n)
      return e;
    if (sf.has(e))
      return sf.get(e);
    const t = $n.create(e);
    return sf.set(e, t), St(Wt, t, t.Type), t;
  }
  register(e) {
    const { Type: t, key: n, aliases: i } = this;
    e.has(n, !1) || (Sv(n, t).register(e), Vc(n, t).register(e), jc(i, Do, n, e));
  }
}
const $8 = {
  name: void 0,
  searchParents: !1,
  optional: !1
}, of = () => 0, Qr = () => null, pr = () => !1, af = () => !0, L8 = () => De, Wt = co("custom-element"), Ll = (r) => `${Wt}:${r}`, ad = (() => {
  let r = 0;
  return () => `unnamed-${++r}`;
})(), F8 = (r, e, t) => {
  St(dr(e), t, r);
}, Wv = (r, e) => {
  const t = $n.create(r, e);
  return St(Wt, t, t.Type), St(Wt, t, t), fs(t.Type, Wt), t.Type;
}, U8 = (r) => kr(r) && Fc(Wt, r), rs = (r, e = $8) => {
  if (e.name === void 0 && e.searchParents !== !0) {
    const n = La(r, Wt);
    if (n === null) {
      if (e.optional === !0)
        return null;
      throw ne("AUR0762");
    }
    return n;
  }
  if (e.name !== void 0) {
    if (e.searchParents !== !0) {
      const s = La(r, Wt);
      if (s === null)
        throw ne("AUR0763");
      return s.is(e.name) ? s : void 0;
    }
    let n = r, i = !1;
    for (; n !== null; ) {
      const s = La(n, Wt);
      if (s !== null && (i = !0, s.is(e.name)))
        return s;
      n = od(n);
    }
    if (i)
      return;
    throw ne("AUR0764");
  }
  let t = r;
  for (; t !== null; ) {
    const n = La(t, Wt);
    if (n !== null)
      return n;
    t = od(t);
  }
  throw ne("AUR0765");
}, Dr = (r, e) => fr(dr(e), r), cd = (r) => {
  const e = fr(Wt, r);
  if (e === void 0)
    throw ne(`AUR0760:${r.name}`);
  return e;
}, V8 = () => {
  const r = function(e, t, n) {
    const i = pe.getOrCreateAnnotationParamTypes(e);
    return i[n] = r, e;
  };
  return r.register = function(e) {
    return {
      resolve(t, n) {
        return n.has(r, !0) ? n.get(r) : null;
      }
    };
  }, r;
}, Hv = function() {
  const r = {
    value: "",
    writable: !1,
    enumerable: !1,
    configurable: !0
  }, e = {};
  return function(t, n = e) {
    const i = class {
    };
    return r.value = t, Reflect.defineProperty(i, "name", r), n !== e && f0(i.prototype, n), i;
  };
}(), Do = Gr({
  name: Wt,
  keyFrom: Ll,
  isType: U8,
  for: rs,
  define: Wv,
  getDefinition: cd,
  annotate: F8,
  getAnnotation: Dr,
  generateName: ad,
  createInjectable: V8,
  generateType: Hv
});
dr("processContent");
Ie("IProjections");
const Gv = Ie("IAuSlotsInfo");
class Kv {
  constructor(e) {
    this.projectedSlots = e;
  }
}
var sm;
(function(r) {
  r.hydrateElement = "ra", r.hydrateAttribute = "rb", r.hydrateTemplateController = "rc", r.hydrateLetElement = "rd", r.setProperty = "re", r.interpolation = "rf", r.propertyBinding = "rg", r.letBinding = "ri", r.refBinding = "rj", r.iteratorBinding = "rk", r.multiAttr = "rl", r.textBinding = "ha", r.listenerBinding = "hb", r.attributeBinding = "hc", r.stylePropertyBinding = "hd", r.setAttribute = "he", r.setClassAttribute = "hf", r.setStyleAttribute = "hg", r.spreadBinding = "hs", r.spreadElementProp = "hp";
})(sm || (sm = {}));
const pa = Ie("Instruction");
class Qc {
  constructor(e, t, n) {
    this.from = e, this.to = t, this.mode = n, this.type = "rg";
  }
}
class j8 {
  constructor(e, t, n) {
    this.forOf = e, this.to = t, this.props = n, this.type = "rk";
  }
}
class W8 {
  constructor(e, t) {
    this.from = e, this.to = t, this.type = "rj";
  }
}
class H8 {
  constructor(e, t, n) {
    this.value = e, this.to = t, this.command = n, this.type = "rl";
  }
}
class zv {
  constructor(e, t, n, i) {
    this.from = e, this.to = t, this.preventDefault = n, this.capture = i, this.type = "hb";
  }
}
class P0 {
  constructor(e, t, n) {
    this.attr = e, this.from = t, this.to = n, this.type = "hc";
  }
}
class G8 {
  constructor() {
    this.type = "hs";
  }
}
const qv = Ie("ITemplateCompiler"), Qv = Ie("IRenderer");
function Dt(r) {
  return function(t) {
    return t.register = function(n) {
      lo(Qv, this).register(n);
    }, y4(t.prototype, "target", {
      configurable: !0,
      get: function() {
        return r;
      }
    }), t;
  };
}
function Ti(r, e, t) {
  return xt(e) ? r.parse(e, t) : e;
}
function oh(r) {
  return r.viewModel != null ? r.viewModel : r;
}
function K8(r, e) {
  if (e === "element")
    return r;
  switch (e) {
    case "controller":
      return rs(r);
    case "view":
      throw ne("AUR0750");
    case "view-model":
      return rs(r).viewModel;
    default: {
      const t = Iv(r, e);
      if (t !== void 0)
        return t.viewModel;
      const n = rs(r, {
        name: e
      });
      if (n === void 0)
        throw ne(`AUR0751:${e}`);
      return n.viewModel;
    }
  }
}
let om = class {
  render(e, t, n) {
    const i = oh(t);
    i.$observers?.[n.to] !== void 0 ? i.$observers[n.to].setValue(n.value) : i[n.to] = n.value;
  }
};
om = z([Dt("re")], om);
let am = class {
  constructor(e) {
    this.r = e;
  }
  static get inject() {
    return [ho];
  }
  render(e, t, n, i, s, o) {
    let a, c, l, f;
    const p = n.res, b = n.projections, w = e.container;
    switch (typeof p) {
      case "string":
        if (a = w.find(Do, p), a == null)
          throw ne(`AUR0752:${p}@${e.name}`);
        break;
      default:
        a = p;
    }
    const C = n.containerless || a.containerless ? _0(t) : null, S = Y8(i, e, t, n, C, b == null ? void 0 : new Kv(p0(b)));
    c = a.Type, l = S.invoke(c), At(S, c, new ar(a.key, l)), f = en.$el(S, l, t, n, a, C), gr(t, a.key, f);
    const k = this.r.renderers, O = n.props, L = O.length;
    let B = 0, N;
    for (; L > B; )
      N = O[B], k[N.type].render(e, f, N, i, s, o), ++B;
    e.addChild(f);
  }
};
am = z([Dt("ra")], am);
let cm = class {
  constructor(e) {
    this.r = e;
  }
  static get inject() {
    return [ho];
  }
  render(e, t, n, i, s, o) {
    let a = e.container, c;
    switch (typeof n.res) {
      case "string":
        if (c = a.find(A0, n.res), c == null)
          throw ne(`AUR0753:${n.res}@${e.name}`);
        break;
      default:
        c = n.res;
    }
    const l = Zv(i, c, e, t, n, void 0, void 0), f = en.$attr(l.ctn, l.vm, t, c);
    gr(t, c.key, f);
    const p = this.r.renderers, b = n.props, w = b.length;
    let A = 0, C;
    for (; w > A; )
      C = b[A], p[C.type].render(e, f, C, i, s, o), ++A;
    e.addChild(f);
  }
};
cm = z([Dt("rb")], cm);
let lm = class {
  constructor(e, t) {
    this.r = e, this.p = t;
  }
  static get inject() {
    return [ho, yr];
  }
  render(e, t, n, i, s, o) {
    let a = e.container, c;
    switch (typeof n.res) {
      case "string":
        if (c = a.find(A0, n.res), c == null)
          throw ne(`AUR0754:${n.res}@${e.name}`);
        break;
      default:
        c = n.res;
    }
    const l = this.r.getViewFactory(n.def, a), f = _0(t), p = Zv(this.p, c, e, t, n, l, f), b = en.$attr(p.ctn, p.vm, t, c);
    gr(f, c.key, b), p.vm.link?.(e, b, t, n);
    const w = this.r.renderers, A = n.props, C = A.length;
    let S = 0, k;
    for (; C > S; )
      k = A[S], w[k.type].render(e, b, k, i, s, o), ++S;
    e.addChild(b);
  }
};
lm = z([Dt("rc")], lm);
let um = class {
  render(e, t, n, i, s, o) {
    t.remove();
    const a = n.instructions, c = n.toBindingContext, l = e.container, f = a.length;
    let p, b, w = 0;
    for (; f > w; )
      p = a[w], b = Ti(s, p.from, 16), e.addBinding(new zc(l, o, b, p.to, c)), ++w;
  }
};
um = z([Dt("rd")], um);
let hm = class {
  render(e, t, n, i, s) {
    e.addBinding(new Rv(e.container, Ti(s, n.from, 16), K8(t, n.to)));
  }
};
hm = z([Dt("rj")], hm);
let fm = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new q4(e, e.container, o, i.domWriteQueue, Ti(s, n.from, 1), oh(t), n.to, 2));
  }
};
fm = z([Dt("rf")], fm);
let dm = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new Ri(e, e.container, o, i.domWriteQueue, Ti(s, n.from, 16), oh(t), n.to, n.mode));
  }
};
dm = z([Dt("rg")], dm);
let pm = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new Ri(e, e.container, o, i.domWriteQueue, Ti(s, n.forOf, 2), oh(t), n.to, 2));
  }
};
pm = z([Dt("rk")], pm);
let gm = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new Kc(e, e.container, o, i.domWriteQueue, i, Ti(s, n.from, 16), O8(t.parentNode, M8(i, ""), t), n.strict));
  }
};
gm = z([Dt("ha")], gm);
let mm = class {
  render(e, t, n, i, s) {
    e.addBinding(new qc(e.container, Ti(s, n.from, 8), t, n.to, new J4(n.preventDefault, n.capture)));
  }
};
mm = z([Dt("hb")], mm);
let bm = class {
  render(e, t, n) {
    t.setAttribute(n.to, n.value);
  }
};
bm = z([Dt("he")], bm);
let xm = class {
  render(e, t, n) {
    q8(t.classList, n.value);
  }
};
xm = z([Dt("hf")], xm);
let vm = class {
  render(e, t, n) {
    t.style.cssText += n.value;
  }
};
vm = z([Dt("hg")], vm);
let ym = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new Ri(e, e.container, o, i.domWriteQueue, Ti(s, n.from, 16), t.style, n.to, 2));
  }
};
ym = z([Dt("hd")], ym);
let wm = class {
  render(e, t, n, i, s, o) {
    e.addBinding(new Hc(e, e.container, o, i.domWriteQueue, Ti(s, n.from, 16), t, n.attr, n.to, 2));
  }
};
wm = z([Dt("hc")], wm);
let Am = class {
  constructor(e, t) {
    this.ae = e, this.r = t;
  }
  static get inject() {
    return [qv, ho];
  }
  render(e, t, n, i, s, o) {
    const c = e.container.get(fu), l = this.r.renderers, f = (b) => {
      let w = b, A = c;
      for (; A != null && w > 0; )
        A = A.parent, --w;
      if (A == null)
        throw ne("No scope context for spread binding.");
      return A;
    }, p = (b) => {
      const w = f(b), A = Q8(w), C = this.ae.compileSpread(w.controller.definition, w.instruction?.captures ?? De, w.controller.container, t);
      let S;
      for (S of C)
        switch (S.type) {
          case "hs":
            p(b + 1);
            break;
          case "hp":
            l[S.instructions.type].render(A, rs(t), S.instructions, i, s, o);
            break;
          default:
            l[S.type].render(A, t, S, i, s, o);
        }
      e.addBinding(A);
    };
    p(0);
  }
};
Am = z([Dt("hs")], Am);
class z8 {
  constructor(e, t) {
    this.ce = e, this.ue = t, this.isBound = !1, this.ctrl = t.controller, this.locator = this.ctrl.container;
  }
  get container() {
    return this.locator;
  }
  get definition() {
    return this.ctrl.definition;
  }
  get isStrictBinding() {
    return this.ctrl.isStrictBinding;
  }
  get state() {
    return this.ctrl.state;
  }
  get(e) {
    return this.locator.get(e);
  }
  bind(e) {
    if (this.isBound)
      return;
    this.isBound = !0;
    const t = this.scope = this.ue.controller.scope.parent ?? void 0;
    if (t == null)
      throw ne("Invalid spreading. Context scope is null/undefined");
    this.ce.forEach((n) => n.bind(t));
  }
  unbind() {
    this.ce.forEach((e) => e.unbind()), this.isBound = !1;
  }
  addBinding(e) {
    this.ce.push(e);
  }
  addChild(e) {
    if (e.vmKind !== 1)
      throw ne("Spread binding does not support spreading custom attributes/template controllers");
    this.ctrl.addChild(e);
  }
  limit() {
    throw ne("not implemented");
  }
  useScope() {
    throw ne("not implemented");
  }
}
function q8(r, e) {
  const t = e.length;
  let n = 0;
  for (let i = 0; i < t; ++i)
    e.charCodeAt(i) === 32 ? (i !== n && r.add(e.slice(n, i)), n = i + 1) : i + 1 === t && r.add(e.slice(n));
}
const Q8 = (r) => new z8([], r), Jv = "IController", Yv = "IInstruction", J8 = "IRenderLocation", k0 = "IAuSlotsInfo";
function Y8(r, e, t, n, i, s) {
  const o = e.container.createChild();
  return At(o, r.HTMLElement, At(o, r.Element, At(o, Ho, new ar("ElementResolver", t)))), At(o, sh, new ar(Jv, e)), At(o, pa, new ar(Yv, n)), At(o, xr, i == null ? ty : new ey(i)), At(o, Kr, ry), At(o, Gv, s == null ? ny : new ar(k0, s)), o;
}
class Xv {
  constructor(e) {
    this.f = e;
  }
  get $isResolver() {
    return !0;
  }
  resolve() {
    const e = this.f;
    if (e === null)
      throw ne("AUR7055");
    if (!xt(e.name) || e.name.length === 0)
      throw ne("AUR0756");
    return e;
  }
}
function Zv(r, e, t, n, i, s, o, a) {
  const c = t.container.createChild();
  return At(c, r.HTMLElement, At(c, r.Element, At(c, Ho, new ar("ElementResolver", n)))), t = t instanceof en ? t : t.ctrl, At(c, sh, new ar(Jv, t)), At(c, pa, new ar(Yv, i)), At(c, xr, o == null ? ty : new ar(J8, o)), At(c, Kr, s == null ? ry : new Xv(s)), At(c, Gv, a == null ? ny : new ar(k0, a)), {
    vm: c.invoke(e.Type),
    ctn: c
  };
}
class ey {
  constructor(e) {
    this.l = e;
  }
  get name() {
    return "IRenderLocation";
  }
  get $isResolver() {
    return !0;
  }
  resolve() {
    return this.l;
  }
}
const ty = new ey(null), ry = new Xv(null), ny = new ar(k0, new Kv(De));
var Sm;
(function(r) {
  r[r.None = 0] = "None", r[r.IgnoreAttr = 1] = "IgnoreAttr";
})(Sm || (Sm = {}));
function Or(r) {
  return function(e) {
    return sy.define(r, e);
  };
}
class R0 {
  constructor(e, t, n, i, s) {
    this.Type = e, this.name = t, this.aliases = n, this.key = i, this.type = s;
  }
  static create(e, t) {
    let n, i;
    return xt(e) ? (n = e, i = {
      name: n
    }) : (n = e.name, i = e), new R0(t, ir(Fl(t, "name"), n), It(Fl(t, "aliases"), i.aliases, t.aliases), iy(n), ir(Fl(t, "type"), i.type, t.type, null));
  }
  register(e) {
    const { Type: t, key: n, aliases: i } = this;
    lo(n, t).register(e), Vc(n, t).register(e), jc(i, sy, n, e);
  }
}
const Fa = co("binding-command"), iy = (r) => `${Fa}:${r}`, Fl = (r, e) => fr(dr(e), r), sy = Gr({
  name: Fa,
  keyFrom: iy,
  define(r, e) {
    const t = R0.create(r, e);
    return St(Fa, t, t.Type), St(Fa, t, t), fs(e, Fa), t.Type;
  },
  getAnnotation: Fl
});
let Cm = class {
  get type() {
    return 0;
  }
  build(e, t, n) {
    let s = e.attr.target, o = e.attr.rawValue;
    return e.bindable == null ? s = n.map(e.node, s) ?? Hr(s) : (o === "" && e.def.type === 1 && (o = Hr(s)), s = e.bindable.property), new Qc(t.parse(o, 16), s, 1);
  }
};
Cm = z([Or("one-time")], Cm);
let Em = class {
  get type() {
    return 0;
  }
  build(e, t, n) {
    let s = e.attr.target, o = e.attr.rawValue;
    return e.bindable == null ? s = n.map(e.node, s) ?? Hr(s) : (o === "" && e.def.type === 1 && (o = Hr(s)), s = e.bindable.property), new Qc(t.parse(o, 16), s, 2);
  }
};
Em = z([Or("to-view")], Em);
let _m = class {
  get type() {
    return 0;
  }
  build(e, t, n) {
    const i = e.attr;
    let s = i.target, o = i.rawValue;
    return e.bindable == null ? s = n.map(e.node, s) ?? Hr(s) : (o === "" && e.def.type === 1 && (o = Hr(s)), s = e.bindable.property), new Qc(t.parse(o, 16), s, 4);
  }
};
_m = z([Or("from-view")], _m);
let Pm = class {
  get type() {
    return 0;
  }
  build(e, t, n) {
    const i = e.attr;
    let s = i.target, o = i.rawValue;
    return e.bindable == null ? s = n.map(e.node, s) ?? Hr(s) : (o === "" && e.def.type === 1 && (o = Hr(s)), s = e.bindable.property), new Qc(t.parse(o, 16), s, 6);
  }
};
Pm = z([Or("two-way")], Pm);
let km = class {
  get type() {
    return 0;
  }
  build(e, t, n) {
    const i = e.attr, s = e.bindable;
    let o, a, c = i.target, l = i.rawValue;
    return s == null ? (a = n.isTwoWay(e.node, c) ? 6 : 2, c = n.map(e.node, c) ?? Hr(c)) : (l === "" && e.def.type === 1 && (l = Hr(c)), o = e.def.defaultBindingMode, a = s.mode === 8 || s.mode == null ? o == null || o === 8 ? 2 : o : s.mode, c = s.property), new Qc(t.parse(l, 16), c, a);
  }
};
km = z([Or("bind")], km);
let Rm = class {
  constructor(e) {
    this.fe = e;
  }
  get type() {
    return 0;
  }
  static get inject() {
    return [N4];
  }
  build(e, t) {
    const n = e.bindable === null ? Hr(e.attr.target) : e.bindable.property, i = t.parse(e.attr.rawValue, 2);
    let s = De;
    if (i.semiIdx > -1) {
      const o = e.attr.rawValue.slice(i.semiIdx + 1), a = o.indexOf(":");
      if (a > -1) {
        const c = o.slice(0, a).trim(), l = o.slice(a + 1).trim(), f = this.fe.parse(c, l);
        s = [new H8(l, f.target, f.command)];
      }
    }
    return new j8(i, n, s);
  }
};
Rm = z([Or("for")], Rm);
let Tm = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new zv(t.parse(e.attr.rawValue, 8), e.attr.target, !0, !1);
  }
};
Tm = z([Or("trigger")], Tm);
let Im = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new zv(t.parse(e.attr.rawValue, 8), e.attr.target, !1, !0);
  }
};
Im = z([Or("capture")], Im);
let Mm = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new P0(e.attr.target, t.parse(e.attr.rawValue, 16), e.attr.target);
  }
};
Mm = z([Or("attr")], Mm);
let Om = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new P0("style", t.parse(e.attr.rawValue, 16), e.attr.target);
  }
};
Om = z([Or("style")], Om);
let Nm = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new P0("class", t.parse(e.attr.rawValue, 16), e.attr.target);
  }
};
Nm = z([Or("class")], Nm);
let Dm = class {
  get type() {
    return 1;
  }
  build(e, t) {
    return new W8(t.parse(e.attr.rawValue, 16), e.attr.target);
  }
};
Dm = z([Or("ref")], Dm);
let Bm = class {
  get type() {
    return 1;
  }
  build(e) {
    return new G8();
  }
};
Bm = z([Or("...$attrs")], Bm);
const oy = Ie("ISVGAnalyzer", (r) => r.singleton(X8));
class X8 {
  isStandardSvgAttribute(e, t) {
    return !1;
  }
}
Ie("IAttrMapper", (r) => r.singleton(Z8));
class Z8 {
  constructor(e) {
    this.svg = e, this.fns = [], this.pe = rr(), this.ve = rr(), this.useMapping({
      LABEL: {
        for: "htmlFor"
      },
      IMG: {
        usemap: "useMap"
      },
      INPUT: {
        maxlength: "maxLength",
        minlength: "minLength",
        formaction: "formAction",
        formenctype: "formEncType",
        formmethod: "formMethod",
        formnovalidate: "formNoValidate",
        formtarget: "formTarget",
        inputmode: "inputMode"
      },
      TEXTAREA: {
        maxlength: "maxLength"
      },
      TD: {
        rowspan: "rowSpan",
        colspan: "colSpan"
      },
      TH: {
        rowspan: "rowSpan",
        colspan: "colSpan"
      }
    }), this.useGlobalMapping({
      accesskey: "accessKey",
      contenteditable: "contentEditable",
      tabindex: "tabIndex",
      textcontent: "textContent",
      innerhtml: "innerHTML",
      scrolltop: "scrollTop",
      scrollleft: "scrollLeft",
      readonly: "readOnly"
    });
  }
  static get inject() {
    return [oy];
  }
  useMapping(e) {
    var t;
    let n, i, s, o;
    for (s in e) {
      n = e[s], i = (t = this.pe)[s] ?? (t[s] = rr());
      for (o in n) {
        if (i[o] !== void 0)
          throw $m(o, s);
        i[o] = n[o];
      }
    }
  }
  useGlobalMapping(e) {
    const t = this.ve;
    for (const n in e) {
      if (t[n] !== void 0)
        throw $m(n, "*");
      t[n] = e[n];
    }
  }
  useTwoWay(e) {
    this.fns.push(e);
  }
  isTwoWay(e, t) {
    return eS(e, t) || this.fns.length > 0 && this.fns.some((n) => n(e, t));
  }
  map(e, t) {
    return this.pe[e.nodeName]?.[t] ?? this.ve[t] ?? (Zf(e, t, this.svg) ? t : null);
  }
}
function eS(r, e) {
  switch (r.nodeName) {
    case "INPUT":
      switch (r.type) {
        case "checkbox":
        case "radio":
          return e === "checked";
        default:
          return e === "value" || e === "files" || e === "value-as-number" || e === "value-as-date";
      }
    case "TEXTAREA":
    case "SELECT":
      return e === "value";
    default:
      switch (e) {
        case "textcontent":
        case "innerhtml":
          return r.hasAttribute("contenteditable");
        case "scrolltop":
        case "scrollleft":
          return !0;
        default:
          return !1;
      }
  }
}
function $m(r, e) {
  return ne(`Attribute ${r} has been already registered for ${e === "*" ? "all elements" : `<${e}/>`}`);
}
Ie("ITemplateElementFactory", (r) => r.singleton(ay));
const Lm = {};
class ay {
  constructor(e) {
    this.p = e, this.xe = cf(this.p);
  }
  createTemplate(e) {
    if (xt(e)) {
      let t = Lm[e];
      if (t === void 0) {
        const n = this.xe;
        n.innerHTML = e;
        const i = n.content.firstElementChild;
        i == null || i.nodeName !== "TEMPLATE" || i.nextElementSibling != null ? (this.xe = cf(this.p), t = n) : (n.content.removeChild(i), t = i), Lm[e] = t;
      }
      return t.cloneNode(!0);
    }
    if (e.nodeName !== "TEMPLATE") {
      const t = cf(this.p);
      return t.content.appendChild(e), t;
    }
    return e.parentNode?.removeChild(e), e.cloneNode(!0);
  }
}
ay.inject = [yr];
const cf = (r) => r.document.createElement("template");
f0(rr(), {
  id: !0,
  name: !0,
  "au-slot": !0,
  "as-element": !0
});
Gr(["property", "attribute", "mode"]);
const tS = Ie("ITemplateCompilerHooks"), Fm = /* @__PURE__ */ new WeakMap(), lf = co("compiler-hooks");
Gr({
  name: lf,
  define(r) {
    let e = Fm.get(r);
    return e === void 0 && (Fm.set(r, e = new rS(r)), St(lf, e, r), fs(r, lf)), r;
  }
});
class rS {
  constructor(e) {
    this.Type = e;
  }
  get name() {
    return "";
  }
  register(e) {
    e.register(lo(tS, this.Type));
  }
}
const uf = /* @__PURE__ */ new Map();
class ah {
  bind(e, t) {
    uf.set(t, t.mode), t.mode = this.mode;
  }
  unbind(e, t) {
    t.mode = uf.get(t), uf.delete(t);
  }
}
class nS extends ah {
  get mode() {
    return 1;
  }
}
class iS extends ah {
  get mode() {
    return 2;
  }
}
class sS extends ah {
  get mode() {
    return 4;
  }
}
class oS extends ah {
  get mode() {
    return 6;
  }
}
Mr("oneTime")(nS);
Mr("toView")(iS);
Mr("fromView")(sS);
Mr("twoWay")(oS);
const hf = /* @__PURE__ */ new WeakMap(), aS = 200;
class cy {
  constructor(e) {
    this.p = e;
  }
  bind(e, t, n) {
    n = Number(n);
    const i = {
      type: "debounce",
      delay: n > 0 ? n : aS,
      now: this.p.performanceNow,
      queue: this.p.taskQueue
    }, s = t.limit?.(i);
    s == null || hf.set(t, s);
  }
  unbind(e, t) {
    hf.get(t)?.dispose(), hf.delete(t);
  }
}
cy.inject = [Bc];
Mr("debounce")(cy);
class ly {
  constructor(e) {
    this.Ve = /* @__PURE__ */ new Map(), this.Ne = e;
  }
  bind(e, t, ...n) {
    if (!("handleChange" in t))
      throw ne("AUR0817");
    if (n.length === 0)
      throw ne("AUR0818");
    this.Ve.set(t, n);
    let i;
    for (i of n)
      this.Ne.addSignalListener(i, t);
  }
  unbind(e, t) {
    const n = this.Ve.get(t);
    this.Ve.delete(t);
    let i;
    for (i of n)
      this.Ne.removeSignalListener(i, t);
  }
}
ly.inject = [c0];
Mr("signal")(ly);
const ff = /* @__PURE__ */ new WeakMap(), cS = 200;
class uy {
  constructor(e) {
    this.je = e.performanceNow, this.ct = e.taskQueue;
  }
  bind(e, t, n) {
    n = Number(n);
    const i = {
      type: "throttle",
      delay: n > 0 ? n : cS,
      now: this.je,
      queue: this.ct
    }, s = t.limit?.(i);
    s == null || ff.set(t, s);
  }
  unbind(e, t) {
    ff.get(t)?.dispose(), ff.delete(t);
  }
}
uy.inject = [Bc];
Mr("throttle")(uy);
class hy {
  constructor() {
    this.type = 6;
  }
  getValue(e, t) {
    return e.getAttribute(t);
  }
  setValue(e, t, n) {
    e == null ? t.removeAttribute(n) : t.setAttribute(n, e);
  }
}
nh(hy);
const Ul = new hy();
class lS {
  bind(e, t) {
    if (!(t instanceof Ri))
      throw ne("AURxxxx");
    t.useTargetObserver(Ul);
  }
}
Mr("attr")(lS);
class uS {
  bind(e, t) {
    if (!(t instanceof qc))
      throw ne("AUR0801");
    t.self = !0;
  }
  unbind(e, t) {
    t.self = !1;
  }
}
Mr("self")(uS);
const Um = rr();
class dc {
  constructor(e) {
    this.ns = e, this.type = 6;
  }
  static forNs(e) {
    return Um[e] ?? (Um[e] = new dc(e));
  }
  getValue(e, t) {
    return e.getAttributeNS(this.ns, t);
  }
  setValue(e, t, n) {
    e == null ? t.removeAttributeNS(this.ns, n) : t.setAttributeNS(this.ns, n, e);
  }
}
nh(dc);
function Vm(r, e) {
  return r === e;
}
class T0 {
  constructor(e, t, n, i) {
    this.type = 7, this.v = void 0, this.ov = void 0, this.He = void 0, this.We = void 0, this.yt = !1, this.bt = e, this.oL = i, this.cf = n;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    const t = this.v;
    e !== t && (this.v = e, this.ov = t, this.ze(), this.Ge(), this.st());
  }
  handleCollectionChange() {
    this.Ge();
  }
  handleChange(e, t) {
    this.Ge();
  }
  Ge() {
    const e = this.v, t = this.bt, n = ts.call(t, "model") ? t.model : t.value, i = t.type === "radio", s = t.matcher !== void 0 ? t.matcher : Vm;
    if (i)
      t.checked = !!s(e, n);
    else if (e === !0)
      t.checked = !0;
    else {
      let o = !1;
      if (En(e))
        o = e.findIndex((a) => !!s(a, n)) !== -1;
      else if (e instanceof Set) {
        for (const a of e)
          if (s(a, n)) {
            o = !0;
            break;
          }
      } else if (e instanceof Map)
        for (const a of e) {
          const c = a[0], l = a[1];
          if (s(c, n) && l === !0) {
            o = !0;
            break;
          }
        }
      t.checked = o;
    }
  }
  handleEvent() {
    let e = this.ov = this.v;
    const t = this.bt, n = ts.call(t, "model") ? t.model : t.value, i = t.checked, s = t.matcher !== void 0 ? t.matcher : Vm;
    if (t.type === "checkbox") {
      if (En(e)) {
        const o = e.findIndex((a) => !!s(a, n));
        i && o === -1 ? e.push(n) : !i && o !== -1 && e.splice(o, 1);
        return;
      } else if (e instanceof Set) {
        const o = {};
        let a = o;
        for (const c of e)
          if (s(c, n) === !0) {
            a = c;
            break;
          }
        i && a === o ? e.add(n) : !i && a !== o && e.delete(a);
        return;
      } else if (e instanceof Map) {
        let o;
        for (const a of e) {
          const c = a[0];
          if (s(c, n) === !0) {
            o = c;
            break;
          }
        }
        e.set(o, i);
        return;
      }
      e = i;
    } else if (i)
      e = n;
    else
      return;
    this.v = e, this.st();
  }
  kt() {
    this.ze();
  }
  At() {
    this.He?.unsubscribe(this), this.We?.unsubscribe(this), this.He = this.We = void 0;
  }
  st() {
    jm = this.ov, this.ov = this.v, this.subs.notify(this.v, jm);
  }
  ze() {
    const e = this.bt;
    (this.We ?? (this.We = e.$observers?.model ?? e.$observers?.value))?.subscribe(this), this.He?.unsubscribe(this), this.He = void 0, e.type === "checkbox" && (this.He = pS(this.v, this.oL))?.subscribe(this);
  }
}
S0(T0);
vr(T0);
let jm;
const hS = {
  childList: !0,
  subtree: !0,
  characterData: !0
};
function Wm(r, e) {
  return r === e;
}
class I0 {
  constructor(e, t, n, i) {
    this.type = 7, this.v = void 0, this.ov = void 0, this.J = !1, this.Xe = void 0, this.Ke = void 0, this.iO = !1, this.yt = !1, this.bt = e, this.oL = i, this.cf = n;
  }
  getValue() {
    return this.iO ? this.v : this.bt.multiple ? fS(this.bt.options) : this.bt.value;
  }
  setValue(e) {
    this.ov = this.v, this.v = e, this.J = e !== this.ov, this.Qe(e instanceof Array ? e : null), this.it();
  }
  it() {
    this.J && (this.J = !1, this.syncOptions());
  }
  handleCollectionChange() {
    this.syncOptions();
  }
  syncOptions() {
    const e = this.v, t = this.bt, n = En(e), i = t.matcher ?? Wm, s = t.options;
    let o = s.length;
    for (; o-- > 0; ) {
      const a = s[o], c = ts.call(a, "model") ? a.model : a.value;
      if (n) {
        a.selected = e.findIndex((l) => !!i(c, l)) !== -1;
        continue;
      }
      a.selected = !!i(c, e);
    }
  }
  syncValue() {
    const e = this.bt, t = e.options, n = t.length, i = this.v;
    let s = 0;
    if (e.multiple) {
      if (!(i instanceof Array))
        return !0;
      let c;
      const l = e.matcher || Wm, f = [];
      for (; s < n; )
        c = t[s], c.selected && f.push(ts.call(c, "model") ? c.model : c.value), ++s;
      let p;
      for (s = 0; s < i.length; )
        p = i[s], f.findIndex((b) => !!l(p, b)) === -1 ? i.splice(s, 1) : ++s;
      for (s = 0; s < f.length; )
        p = f[s], i.findIndex((b) => !!l(p, b)) === -1 && i.push(p), ++s;
      return !1;
    }
    let o = null, a;
    for (; s < n; ) {
      if (a = t[s], a.selected) {
        o = ts.call(a, "model") ? a.model : a.value;
        break;
      }
      ++s;
    }
    return this.ov = this.v, this.v = o, !0;
  }
  kt() {
    (this.Ke = new this.bt.ownerDocument.defaultView.MutationObserver(this.Ye.bind(this))).observe(this.bt, hS), this.Qe(this.v instanceof Array ? this.v : null), this.iO = !0;
  }
  At() {
    this.Ke.disconnect(), this.Xe?.unsubscribe(this), this.Ke = this.Xe = void 0, this.iO = !1;
  }
  Qe(e) {
    if (this.Xe?.unsubscribe(this), this.Xe = void 0, e != null) {
      if (!this.bt.multiple)
        throw ne("AUR0654");
      (this.Xe = this.oL.getArrayObserver(e)).subscribe(this);
    }
  }
  handleEvent() {
    this.syncValue() && this.st();
  }
  Ye(e) {
    this.syncOptions(), this.syncValue() && this.st();
  }
  st() {
    Hm = this.ov, this.ov = this.v, this.subs.notify(this.v, Hm);
  }
}
S0(I0);
vr(I0);
function fS(r) {
  const e = [];
  if (r.length === 0)
    return e;
  const t = r.length;
  let n = 0, i;
  for (; t > n; )
    i = r[n], i.selected && (e[e.length] = ts.call(i, "model") ? i.model : i.value), ++n;
  return e;
}
let Hm;
const dS = "--";
class fy {
  constructor(e) {
    this.obj = e, this.type = 6, this.v = "", this.ov = "", this.styles = {}, this.version = 0, this.J = !1;
  }
  getValue() {
    return this.obj.style.cssText;
  }
  setValue(e) {
    this.v = e, this.J = e !== this.ov, this.it();
  }
  Ze(e) {
    const t = [], n = /url\([^)]+$/;
    let i = 0, s = "", o, a, c, l;
    for (; i < e.length; ) {
      if (o = e.indexOf(";", i), o === -1 && (o = e.length), s += e.substring(i, o), i = o + 1, n.test(s)) {
        s += ";";
        continue;
      }
      a = s.indexOf(":"), c = s.substring(0, a).trim(), l = s.substring(a + 1).trim(), t.push([c, l]), s = "";
    }
    return t;
  }
  Je(e) {
    let t, n;
    const i = [];
    for (n in e)
      if (t = e[n], t != null) {
        if (xt(t)) {
          if (n.startsWith(dS)) {
            i.push([n, t]);
            continue;
          }
          i.push([_1(n), t]);
          continue;
        }
        i.push(...this.ti(t));
      }
    return i;
  }
  ei(e) {
    const t = e.length;
    if (t > 0) {
      const n = [];
      let i = 0;
      for (; t > i; ++i)
        n.push(...this.ti(e[i]));
      return n;
    }
    return De;
  }
  ti(e) {
    return xt(e) ? this.Ze(e) : e instanceof Array ? this.ei(e) : e instanceof Object ? this.Je(e) : De;
  }
  it() {
    if (this.J) {
      this.J = !1;
      const e = this.v, t = this.styles, n = this.ti(e);
      let i, s = this.version;
      this.ov = e;
      let o, a, c, l = 0;
      const f = n.length;
      for (; l < f; ++l)
        o = n[l], a = o[0], c = o[1], this.setProperty(a, c), t[a] = s;
      if (this.styles = t, this.version += 1, s === 0)
        return;
      s -= 1;
      for (i in t)
        !ts.call(t, i) || t[i] !== s || this.obj.style.removeProperty(i);
    }
  }
  setProperty(e, t) {
    let n = "";
    t != null && kr(t.indexOf) && t.includes("!important") && (n = "important", t = t.replace("!important", "")), this.obj.style.setProperty(e, t, n);
  }
  bind() {
    this.v = this.ov = this.obj.style.cssText;
  }
}
nh(fy);
class M0 {
  constructor(e, t, n) {
    this.type = 7, this.v = "", this.ov = "", this.J = !1, this.yt = !1, this.bt = e, this.k = t, this.cf = n;
  }
  getValue() {
    return this.v;
  }
  setValue(e) {
    Uc(e, this.v) || (this.ov = this.v, this.v = e, this.J = !0, this.cf.readonly || this.it());
  }
  it() {
    this.J && (this.J = !1, this.bt[this.k] = this.v ?? this.cf.default, this.st());
  }
  handleEvent() {
    this.ov = this.v, this.v = this.bt[this.k], this.ov !== this.v && (this.J = !1, this.st());
  }
  kt() {
    this.v = this.ov = this.bt[this.k];
  }
  st() {
    Gm = this.ov, this.ov = this.v, this.subs.notify(this.v, Gm);
  }
}
S0(M0);
vr(M0);
let Gm;
const Ds = "http://www.w3.org/1999/xlink", Km = "http://www.w3.org/XML/1998/namespace", zm = "http://www.w3.org/2000/xmlns/", qm = f0(rr(), {
  "xlink:actuate": ["actuate", Ds],
  "xlink:arcrole": ["arcrole", Ds],
  "xlink:href": ["href", Ds],
  "xlink:role": ["role", Ds],
  "xlink:show": ["show", Ds],
  "xlink:title": ["title", Ds],
  "xlink:type": ["type", Ds],
  "xml:lang": ["lang", Km],
  "xml:space": ["space", Km],
  xmlns: ["xmlns", zm],
  "xmlns:xlink": ["xlink", zm]
}), dy = new mv();
dy.type = 6;
class pc {
  constructor(e, t, n, i) {
    this.locator = e, this.platform = t, this.dirtyChecker = n, this.svgAnalyzer = i, this.allowDirtyCheck = !0, this.ii = rr(), this.si = rr(), this.ni = rr(), this.ri = rr();
    const s = ["change", "input"], o = {
      events: s,
      default: ""
    };
    this.useConfig({
      INPUT: {
        value: o,
        valueAsNumber: {
          events: s,
          default: 0
        },
        checked: {
          type: T0,
          events: s
        },
        files: {
          events: s,
          readonly: !0
        }
      },
      SELECT: {
        value: {
          type: I0,
          events: ["change"],
          default: ""
        }
      },
      TEXTAREA: {
        value: o
      }
    });
    const a = {
      events: ["change", "input", "blur", "keyup", "paste"],
      default: ""
    }, c = {
      events: ["scroll"],
      default: 0
    };
    this.useConfigGlobal({
      scrollTop: c,
      scrollLeft: c,
      textContent: a,
      innerHTML: a
    }), this.overrideAccessorGlobal("css", "style", "class"), this.overrideAccessor({
      INPUT: ["value", "checked", "model"],
      SELECT: ["value"],
      TEXTAREA: ["value"]
    });
  }
  static register(e) {
    Vc(cu, pc).register(e), lo(cu, pc).register(e);
  }
  handles(e, t) {
    return e instanceof this.platform.Node;
  }
  useConfig(e, t, n) {
    const i = this.ii;
    let s;
    if (xt(e))
      s = i[e] ?? (i[e] = rr()), s[t] == null ? s[t] = n : bl(e, t);
    else
      for (const o in e) {
        s = i[o] ?? (i[o] = rr());
        const a = e[o];
        for (t in a)
          s[t] == null ? s[t] = a[t] : bl(o, t);
      }
  }
  useConfigGlobal(e, t) {
    const n = this.si;
    if (typeof e == "object")
      for (const i in e)
        n[i] == null ? n[i] = e[i] : bl("*", i);
    else
      n[e] == null ? n[e] = t : bl("*", e);
  }
  getAccessor(e, t, n) {
    if (t in this.ri || t in (this.ni[e.tagName] ?? Q3))
      return this.getObserver(e, t, n);
    switch (t) {
      case "src":
      case "href":
      case "role":
      case "minLength":
      case "maxLength":
      case "placeholder":
      case "size":
      case "pattern":
      case "title":
        return Ul;
      default: {
        const i = qm[t];
        return i !== void 0 ? dc.forNs(i[1]) : Zf(e, t, this.svgAnalyzer) ? Ul : dy;
      }
    }
  }
  overrideAccessor(e, t) {
    var n, i;
    let s;
    if (xt(e))
      s = (n = this.ni)[e] ?? (n[e] = rr()), s[t] = !0;
    else
      for (const o in e)
        for (const a of e[o])
          s = (i = this.ni)[o] ?? (i[o] = rr()), s[a] = !0;
  }
  overrideAccessorGlobal(...e) {
    for (const t of e)
      this.ri[t] = !0;
  }
  getNodeObserverConfig(e, t) {
    return this.ii[e.tagName]?.[t] ?? this.si[t];
  }
  getNodeObserver(e, t, n) {
    const i = this.ii[e.tagName]?.[t] ?? this.si[t];
    let s;
    return i != null ? (s = new (i.type ?? M0)(e, t, i, n, this.locator), s.doNotCache || (xv(e)[t] = s), s) : null;
  }
  getObserver(e, t, n) {
    switch (t) {
      case "class":
        return new Ov(e);
      case "css":
      case "style":
        return new fy(e);
    }
    const i = this.getNodeObserver(e, t, n);
    if (i != null)
      return i;
    const s = qm[t];
    if (s !== void 0)
      return dc.forNs(s[1]);
    if (Zf(e, t, this.svgAnalyzer))
      return Ul;
    if (t in e.constructor.prototype) {
      if (this.allowDirtyCheck)
        return this.dirtyChecker.createProperty(e, t);
      throw ne(`AUR0652:${String(t)}`);
    } else
      return new a0(e, t);
  }
}
pc.inject = [L3, yr, dv, oy];
function pS(r, e) {
  if (r instanceof Array)
    return e.getArrayObserver(r);
  if (r instanceof Map)
    return e.getMapObserver(r);
  if (r instanceof Set)
    return e.getSetObserver(r);
}
function bl(r, e) {
  throw ne(`AUR0653:${String(e)}@${r}`);
}
class py {
  constructor(e, t) {
    if (!(t instanceof pc))
      throw ne("AURxxxx: updateTrigger binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger");
    this.oL = e, this.oi = t;
  }
  bind(e, t, ...n) {
    if (n.length === 0)
      throw ne("AUR0802");
    if (!(t instanceof Ri) || !(4 & t.mode))
      throw ne("AUR0803");
    const i = this.oi.getNodeObserverConfig(t.target, t.targetProperty);
    if (i == null)
      throw ne("AURxxxx");
    const s = this.oi.getNodeObserver(t.target, t.targetProperty, this.oL);
    s.useConfig({
      readonly: i.readonly,
      default: i.default,
      events: n
    }), t.useTargetObserver(s);
  }
}
py.inject = [ao, cu];
Mr("updateTrigger")(py);
class O0 {
  constructor(e, t) {
    this.li = !1, this.hi = e, this.p = t;
  }
  binding() {
    this.valueChanged();
  }
  valueChanged() {
    this.$controller.isActive ? this.ai() : this.li = !0;
  }
  attached() {
    this.li && (this.li = !1, this.ai()), this.hi.addEventListener("focus", this), this.hi.addEventListener("blur", this);
  }
  afterDetachChildren() {
    const e = this.hi;
    e.removeEventListener("focus", this), e.removeEventListener("blur", this);
  }
  handleEvent(e) {
    e.type === "focus" ? this.value = !0 : this.ui || (this.value = !1);
  }
  ai() {
    const e = this.hi, t = this.ui, n = this.value;
    n && !t ? e.focus() : !n && t && e.blur();
  }
  get ui() {
    return this.hi === this.p.document.activeElement;
  }
}
O0.inject = [Ho, yr];
z([Be({
  mode: 6
})], O0.prototype, "value", void 0);
Tv("focus")(O0);
let gc = class {
  constructor(e, t, n) {
    this.el = e, this.p = t, this.fi = !1, this.lt = null, this.$val = "", this.$prio = "", this.update = () => {
      this.lt = null, Boolean(this.value) !== this.di && (this.di === this.mi ? (this.di = !this.mi, this.$val = this.el.style.getPropertyValue("display"), this.$prio = this.el.style.getPropertyPriority("display"), this.el.style.setProperty("display", "none", "important")) : (this.di = this.mi, this.el.style.setProperty("display", this.$val, this.$prio), this.el.getAttribute("style") === "" && this.el.removeAttribute("style")));
    }, this.di = this.mi = n.alias !== "hide";
  }
  binding() {
    this.fi = !0, this.update();
  }
  detaching() {
    this.fi = !1, this.lt?.cancel(), this.lt = null;
  }
  valueChanged() {
    this.fi && this.lt === null && (this.lt = this.p.domWriteQueue.queueTask(this.update));
  }
};
z([Be], gc.prototype, "value", void 0);
gc = z([lr(0, Ho), lr(1, yr), lr(2, pa)], gc);
E4("hide")(gc);
Tv("show")(gc);
class Rn {
  constructor(e, t, n) {
    this.position = "beforeend", this.strict = !1, this.p = n, this.gi = n.document.createElement("div"), (this.view = e.create()).setLocation(this.pi = I8(n)), B8(this.view.nodes, t);
  }
  attaching(e, t, n) {
    this.callbackContext == null && (this.callbackContext = this.$controller.scope.bindingContext);
    const i = this.gi = this.vi();
    return this.xi(i, this.position), this.wi(e, i, n);
  }
  detaching(e, t, n) {
    return this.bi(e, this.gi, n);
  }
  targetChanged() {
    const { $controller: e } = this;
    if (!e.isActive)
      return;
    const t = this.vi();
    if (this.gi === t)
      return;
    this.gi = t;
    const n = _e(this.bi(null, t, e.flags), () => (this.xi(t, this.position), this.wi(null, t, e.flags)));
    Qt(n) && n.catch(lu);
  }
  positionChanged() {
    const { $controller: e, gi: t } = this;
    if (!e.isActive)
      return;
    const n = _e(this.bi(null, t, e.flags), () => (this.xi(t, this.position), this.wi(null, t, e.flags)));
    Qt(n) && n.catch(lu);
  }
  wi(e, t, n) {
    const { activating: i, callbackContext: s, view: o } = this;
    return _e(i?.call(s, t, o), () => this.yi(e, t, n));
  }
  yi(e, t, n) {
    const { $controller: i, view: s } = this;
    if (e === null)
      s.nodes.insertBefore(this.pi);
    else
      return _e(s.activate(e ?? s, i, n, i.scope), () => this.ki(t));
    return this.ki(t);
  }
  ki(e) {
    const { activated: t, callbackContext: n, view: i } = this;
    return t?.call(n, e, i);
  }
  bi(e, t, n) {
    const { deactivating: i, callbackContext: s, view: o } = this;
    return _e(i?.call(s, t, o), () => this.Ai(e, t, n));
  }
  Ai(e, t, n) {
    const { $controller: i, view: s } = this;
    if (e === null)
      s.nodes.remove();
    else
      return _e(s.deactivate(e, i, n), () => this.Ci(t));
    return this.Ci(t);
  }
  Ci(e) {
    const { deactivated: t, callbackContext: n, view: i } = this;
    return t?.call(n, e, i);
  }
  vi() {
    const e = this.p, t = e.document;
    let n = this.target, i = this.renderContext;
    if (n === "") {
      if (this.strict)
        throw ne("AUR0811");
      return t.body;
    }
    if (xt(n)) {
      let s = t;
      xt(i) && (i = t.querySelector(i)), i instanceof e.Node && (s = i), n = s.querySelector(n);
    }
    if (n instanceof e.Node)
      return n;
    if (n == null) {
      if (this.strict)
        throw ne("AUR0812");
      return t.body;
    }
    return n;
  }
  xi(e, t) {
    const n = this.pi, i = n.$start, s = e.parentNode, o = [i, n];
    switch (t) {
      case "beforeend":
        ml(e, null, o);
        break;
      case "afterbegin":
        ml(e, e.firstChild, o);
        break;
      case "beforebegin":
        ml(s, e, o);
        break;
      case "afterend":
        ml(s, e.nextSibling, o);
        break;
      default:
        throw new Error("Invalid portal insertion position");
    }
  }
  dispose() {
    this.view.dispose(), this.view = void 0, this.callbackContext = null;
  }
  accept(e) {
    if (this.view?.accept(e) === !0)
      return !0;
  }
}
Rn.inject = [Kr, xr, yr];
z([Be({
  primary: !0
})], Rn.prototype, "target", void 0);
z([Be()], Rn.prototype, "position", void 0);
z([Be({
  callback: "targetChanged"
})], Rn.prototype, "renderContext", void 0);
z([Be()], Rn.prototype, "strict", void 0);
z([Be()], Rn.prototype, "deactivating", void 0);
z([Be()], Rn.prototype, "activating", void 0);
z([Be()], Rn.prototype, "deactivated", void 0);
z([Be()], Rn.prototype, "activated", void 0);
z([Be()], Rn.prototype, "callbackContext", void 0);
cn("portal")(Rn);
class Go {
  constructor(e, t) {
    this.elseFactory = void 0, this.elseView = void 0, this.ifView = void 0, this.view = void 0, this.value = !1, this.cache = !0, this.pending = void 0, this.Bi = !1, this.Ri = 0, this.Si = e, this.l = t;
  }
  attaching(e, t, n) {
    let i;
    const s = this.$controller, o = this.Ri++, a = () => !this.Bi && this.Ri === o + 1;
    return _e(this.pending, () => {
      !a() || (this.pending = void 0, this.value ? i = this.view = this.ifView = this.cache && this.ifView != null ? this.ifView : this.Si.create() : i = this.view = this.elseView = this.cache && this.elseView != null ? this.elseView : this.elseFactory?.create(), i != null && (i.setLocation(this.l), this.pending = _e(i.activate(e, s, n, s.scope), () => {
        a() && (this.pending = void 0);
      })));
    });
  }
  detaching(e, t, n) {
    return this.Bi = !0, _e(this.pending, () => {
      this.Bi = !1, this.pending = void 0, this.view?.deactivate(e, this.$controller, n);
    });
  }
  valueChanged(e, t, n) {
    if (!this.$controller.isActive || (e = !!e, t = !!t, e === t))
      return;
    const i = this.view, s = this.$controller, o = this.Ri++, a = () => !this.Bi && this.Ri === o + 1;
    let c;
    return _e(this.pending, () => this.pending = _e(i?.deactivate(i, s, n), () => {
      if (!!a() && (e ? c = this.view = this.ifView = this.cache && this.ifView != null ? this.ifView : this.Si.create() : c = this.view = this.elseView = this.cache && this.elseView != null ? this.elseView : this.elseFactory?.create(), c != null))
        return c.setLocation(this.l), _e(c.activate(c, s, n, s.scope), () => {
          a() && (this.pending = void 0);
        });
    }));
  }
  dispose() {
    this.ifView?.dispose(), this.elseView?.dispose(), this.ifView = this.elseView = this.view = void 0;
  }
  accept(e) {
    if (this.view?.accept(e) === !0)
      return !0;
  }
}
Go.inject = [Kr, xr];
z([Be], Go.prototype, "value", void 0);
z([Be({
  set: (r) => r === "" || !!r && r !== "false"
})], Go.prototype, "cache", void 0);
cn("if")(Go);
class gy {
  constructor(e) {
    this.f = e;
  }
  link(e, t, n, i) {
    const s = e.children, o = s[s.length - 1];
    if (o instanceof Go)
      o.elseFactory = this.f;
    else if (o.viewModel instanceof Go)
      o.viewModel.elseFactory = this.f;
    else
      throw ne("AUR0810");
  }
}
gy.inject = [Kr];
cn({
  name: "else"
})(gy);
function gS(r) {
  r.dispose();
}
const mS = [18, 17];
class N0 {
  constructor(e, t, n, i, s) {
    this.views = [], this.key = null, this.Ii = /* @__PURE__ */ new Map(), this.Ti = /* @__PURE__ */ new Map(), this.Pi = void 0, this.Ei = !1, this.Li = !1, this.Di = null, this.Ui = void 0, this.$i = !1;
    const o = e.props[0].props[0];
    if (o !== void 0) {
      const { to: a, value: c, command: l } = o;
      if (a === "key")
        if (l === null)
          this.key = c;
        else if (l === "bind")
          this.key = t.parse(c, 16);
        else
          throw ne(`AUR775:${l}`);
      else
        throw ne(`AUR776:${a}`);
    }
    this.l = n, this._i = i, this.f = s;
  }
  binding(e, t, n) {
    const i = this._i.bindings, s = i.length;
    let o, a, c = 0;
    for (; s > c; ++c)
      if (o = i[c], o.target === this && o.targetProperty === "items") {
        a = this.forOf = o.ast, this.qi = o;
        let f = a.iterable;
        for (; f != null && mS.includes(f.$kind); )
          f = f.expression, this.Ei = !0;
        this.Di = f;
        break;
      }
    this.Mi();
    const l = a.declaration;
    (this.$i = l.$kind === 24 || l.$kind === 25) || (this.local = U(l, this.$controller.scope, o, null));
  }
  attaching(e, t, n) {
    return this.Fi(), this.Oi(e);
  }
  detaching(e, t, n) {
    return this.Mi(), this.Vi(e);
  }
  unbinding(e, t, n) {
    this.Ti.clear(), this.Ii.clear();
  }
  itemsChanged() {
    !this.$controller.isActive || (this.Mi(), this.Fi(), this.Ni(this.items, void 0));
  }
  handleCollectionChange(e, t) {
    const n = this.$controller;
    if (!!n.isActive) {
      if (this.Ei) {
        if (this.Li)
          return;
        this.Li = !0, this.items = U(this.forOf.iterable, n.scope, this.qi, null), this.Li = !1;
        return;
      }
      this.Fi(), this.Ni(e, t);
    }
  }
  Ni(e, t) {
    const n = this.views, i = n.length, s = this.key, o = s !== null;
    if (o || t === void 0) {
      const a = this.local, c = this.Ui, l = c.length, f = this.forOf, p = f.declaration, b = this.qi, w = this.$i;
      t = Hs(l);
      let A = 0;
      if (i === 0)
        for (; A < l; ++A)
          t[A] = -2;
      else if (l === 0)
        if (w)
          for (A = 0; A < i; ++A)
            t.deletedIndices.push(A), t.deletedItems.push(U(p, n[A].scope, b, null));
        else
          for (A = 0; A < i; ++A)
            t.deletedIndices.push(A), t.deletedItems.push(n[A].scope.bindingContext[a]);
      else {
        const C = Array(i);
        if (w)
          for (A = 0; A < i; ++A)
            C[A] = U(p, n[A].scope, b, null);
        else
          for (A = 0; A < i; ++A)
            C[A] = n[A].scope.bindingContext[a];
        let S, k, O, L, B = 0;
        const N = i - 1, j = l - 1, q = /* @__PURE__ */ new Map(), K = /* @__PURE__ */ new Map(), X = this.Ii, ce = this.Ti, ee = this.$controller.scope;
        A = 0;
        e: {
          for (; ; ) {
            if (S = C[A], k = c[A], O = o ? wo(X, s, S, Bs(ce, C[A], f, ee, b, a, w), b) : S, L = o ? wo(X, s, k, Bs(ce, c[A], f, ee, b, a, w), b) : k, O !== L) {
              X.set(S, O), X.set(k, L);
              break;
            }
            if (++A, A > N || A > j)
              break e;
          }
          if (N !== j)
            break e;
          for (B = j; ; ) {
            if (S = C[B], k = c[B], O = o ? wo(X, s, S, Bs(ce, S, f, ee, b, a, w), b) : S, L = o ? wo(X, s, k, Bs(ce, k, f, ee, b, a, w), b) : k, O !== L) {
              X.set(S, O), X.set(k, L);
              break;
            }
            if (--B, A > B)
              break e;
          }
        }
        const be = A, _ = A;
        for (A = _; A <= j; ++A)
          X.has(k = c[A]) ? L = X.get(k) : (L = o ? wo(X, s, k, Bs(ce, k, f, ee, b, a, w), b) : k, X.set(k, L)), K.set(L, A);
        for (A = be; A <= N; ++A)
          X.has(S = C[A]) ? O = X.get(S) : O = o ? wo(X, s, S, n[A].scope, b) : S, q.set(O, A), K.has(O) ? t[K.get(O)] = A : (t.deletedIndices.push(A), t.deletedItems.push(S));
        for (A = _; A <= j; ++A)
          q.has(X.get(c[A])) || (t[A] = -2);
        q.clear(), K.clear();
      }
    }
    if (t === void 0) {
      const a = _e(this.Vi(null), () => this.Oi(null));
      Qt(a) && a.catch(lu);
    } else {
      const a = BA(t);
      if (a.deletedIndices.length > 0) {
        const c = _e(this.ji(a), () => this.Hi(i, a));
        Qt(c) && c.catch(lu);
      } else
        this.Hi(i, a);
    }
  }
  Mi() {
    const e = this.$controller.scope;
    let t = this.Wi, n = this.Ei, i;
    n && (t = this.Wi = U(this.Di, e, this.qi, null) ?? null, n = this.Ei = !Uc(this.items, t));
    const s = this.Pi;
    this.$controller.isActive ? (i = this.Pi = g4(n ? t : this.items), s !== i && (s?.unsubscribe(this), i?.subscribe(this))) : (s?.unsubscribe(this), this.Pi = void 0);
  }
  Fi() {
    const { items: e } = this;
    if (En(e)) {
      this.Ui = e;
      return;
    }
    const t = [];
    Qm(e, (n, i) => {
      t[i] = n;
    }), this.Ui = t;
  }
  Oi(e) {
    let t, n, i, s;
    const { $controller: o, f: a, local: c, l, items: f, Ti: p, qi: b, forOf: w, $i: A } = this, C = o.scope, S = vS(f), k = this.views = Array(S);
    if (Qm(f, (O, L) => {
      i = k[L] = a.create().setLocation(l), i.nodes.unlink(), s = Bs(p, O, w, C, b, c, A), vl(s.overrideContext, L, S), n = i.activate(e ?? i, o, 0, s), Qt(n) && (t ?? (t = [])).push(n);
    }), t !== void 0)
      return t.length === 1 ? t[0] : Promise.all(t);
  }
  Vi(e) {
    let t, n, i, s = 0;
    const { views: o, $controller: a } = this, c = o.length;
    for (; c > s; ++s)
      i = o[s], i.release(), n = i.deactivate(e ?? i, a, 0), Qt(n) && (t ?? (t = [])).push(n);
    if (t !== void 0)
      return t.length === 1 ? t[0] : Promise.all(t);
  }
  ji(e) {
    let t, n, i;
    const { $controller: s, views: o } = this, a = e.deletedIndices, c = a.length;
    let l = 0;
    for (; c > l; ++l)
      i = o[a[l]], i.release(), n = i.deactivate(i, s, 0), Qt(n) && (t ?? (t = [])).push(n);
    l = 0;
    let f = 0;
    for (; c > l; ++l)
      f = a[l] - l, o.splice(f, 1);
    if (t !== void 0)
      return t.length === 1 ? t[0] : Promise.all(t);
  }
  Hi(e, t) {
    let n, i, s, o, a = 0;
    const { $controller: c, f: l, local: f, Ui: p, l: b, views: w, $i: A, qi: C, Ti: S, forOf: k } = this, O = t.length;
    for (; O > a; ++a)
      t[a] === -2 && (s = l.create(), w.splice(a, 0, s));
    if (w.length !== O)
      throw xS(w.length, O);
    const L = c.scope, B = t.length;
    $A(w, t);
    const N = bS(t), j = N.length, q = k.declaration;
    let K, X = j - 1;
    for (a = B - 1; a >= 0; --a)
      s = w[a], K = w[a + 1], s.nodes.link(K?.nodes ?? b), t[a] === -2 ? (o = Bs(S, p[a], k, L, C, f, A), vl(o.overrideContext, a, B), s.setLocation(b), i = s.activate(s, c, 0, o), Qt(i) && (n ?? (n = [])).push(i)) : X < 0 || j === 1 || a !== N[X] ? (A ? tr(q, s.scope, C, p[a]) : s.scope.bindingContext[f] = p[a], vl(s.scope.overrideContext, a, B), s.nodes.insertBefore(s.location)) : (A ? tr(q, s.scope, C, p[a]) : s.scope.bindingContext[f] = p[a], e !== B && vl(s.scope.overrideContext, a, B), --X);
    if (n !== void 0)
      return n.length === 1 ? n[0] : Promise.all(n);
  }
  dispose() {
    this.views.forEach(gS), this.views = void 0;
  }
  accept(e) {
    const { views: t } = this;
    if (t !== void 0) {
      for (let n = 0, i = t.length; n < i; ++n)
        if (t[n].accept(e) === !0)
          return !0;
    }
  }
}
N0.inject = [pa, Xd, xr, sh, Kr];
z([Be], N0.prototype, "items", void 0);
cn("repeat")(N0);
let gu = 16, ei = new Int32Array(gu), xl = new Int32Array(gu);
function bS(r) {
  const e = r.length;
  e > gu && (gu = e, ei = new Int32Array(e), xl = new Int32Array(e));
  let t = 0, n = 0, i = 0, s = 0, o = 0, a = 0, c = 0, l = 0;
  for (; s < e; s++)
    if (n = r[s], n !== -2) {
      if (o = ei[t], i = r[o], i !== -2 && i < n) {
        xl[s] = o, ei[++t] = s;
        continue;
      }
      for (a = 0, c = t; a < c; )
        l = a + c >> 1, i = r[ei[l]], i !== -2 && i < n ? a = l + 1 : c = l;
      i = r[ei[a]], (n < i || i === -2) && (a > 0 && (xl[s] = ei[a - 1]), ei[a] = s);
    }
  s = ++t;
  const f = new Int32Array(s);
  for (n = ei[t - 1]; t-- > 0; )
    f[t] = n, n = xl[n];
  for (; s-- > 0; )
    ei[s] = 0;
  return f;
}
const xS = (r, e) => ne(`AUR0814:${r}!=${e}`), vl = (r, e, t) => {
  const n = e === 0, i = e === t - 1, s = e % 2 === 0;
  r.$index = e, r.$first = n, r.$last = i, r.$middle = !n && !i, r.$even = s, r.$odd = !s, r.$length = t;
}, mu = h0.toString, vS = (r) => {
  switch (mu.call(r)) {
    case "[object Array]":
      return r.length;
    case "[object Map]":
      return r.size;
    case "[object Set]":
      return r.size;
    case "[object Number]":
      return r;
    case "[object Null]":
      return 0;
    case "[object Undefined]":
      return 0;
    default:
      throw ne(`Cannot count ${mu.call(r)}`);
  }
}, Qm = (r, e) => {
  switch (mu.call(r)) {
    case "[object Array]":
      return yS(r, e);
    case "[object Map]":
      return wS(r, e);
    case "[object Set]":
      return AS(r, e);
    case "[object Number]":
      return SS(r, e);
    case "[object Null]":
      return;
    case "[object Undefined]":
      return;
    default:
      throw ne(`Cannot iterate over ${mu.call(r)}`);
  }
}, yS = (r, e) => {
  const t = r.length;
  let n = 0;
  for (; n < t; ++n)
    e(r[n], n, r);
}, wS = (r, e) => {
  let t = -0, n;
  for (n of r.entries())
    e(n, t++, r);
}, AS = (r, e) => {
  let t = 0, n;
  for (n of r.keys())
    e(n, t++, r);
}, SS = (r, e) => {
  let t = 0;
  for (; t < r; ++t)
    e(t, t, r);
}, wo = (r, e, t, n, i) => {
  let s = r.get(t);
  return s === void 0 && (typeof e == "string" ? s = t[e] : s = U(e, n, i, null), r.set(t, s)), s;
}, Bs = (r, e, t, n, i, s, o) => {
  let a = r.get(e);
  return a === void 0 && (o ? tr(t.declaration, a = Yt.fromParent(n, new qp()), i, e) : a = Yt.fromParent(n, new qp(s, e)), r.set(e, a)), a;
};
class D0 {
  constructor(e, t) {
    this.view = e.create().setLocation(t);
  }
  valueChanged(e, t, n) {
    const i = this.$controller, s = this.view.bindings;
    let o, a = 0, c = 0;
    if (i.isActive && s != null)
      for (o = Yt.fromParent(i.scope, e === void 0 ? {} : e), c = s.length; c > a; ++a)
        s[a].bind(o);
  }
  attaching(e, t, n) {
    const { $controller: i, value: s } = this, o = Yt.fromParent(i.scope, s === void 0 ? {} : s);
    return this.view.activate(e, i, n, o);
  }
  detaching(e, t, n) {
    return this.view.deactivate(e, this.$controller, n);
  }
  dispose() {
    this.view.dispose(), this.view = void 0;
  }
  accept(e) {
    if (this.view?.accept(e) === !0)
      return !0;
  }
}
D0.inject = [Kr, xr];
z([Be], D0.prototype, "value", void 0);
cn("with")(D0);
let bu = class {
  constructor(e, t) {
    this.f = e, this.l = t, this.cases = [], this.activeCases = [], this.promise = void 0;
  }
  link(e, t, n, i) {
    this.view = this.f.create(this.$controller).setLocation(this.l);
  }
  attaching(e, t, n) {
    const i = this.view, s = this.$controller;
    return this.queue(() => i.activate(e, s, n, s.scope)), this.queue(() => this.swap(e, this.value)), this.promise;
  }
  detaching(e, t, n) {
    return this.queue(() => this.view.deactivate(e, this.$controller, n)), this.promise;
  }
  dispose() {
    this.view?.dispose(), this.view = void 0;
  }
  valueChanged(e, t) {
    !this.$controller.isActive || this.queue(() => this.swap(null, this.value));
  }
  caseChanged(e) {
    this.queue(() => this.zi(e));
  }
  zi(e) {
    const t = e.isMatch(this.value), n = this.activeCases, i = n.length;
    if (!t)
      return i > 0 && n[0].id === e.id ? this.Gi(null) : void 0;
    if (i > 0 && n[0].id < e.id)
      return;
    const s = [];
    let o = e.fallThrough;
    if (!o)
      s.push(e);
    else {
      const a = this.cases, c = a.indexOf(e);
      for (let l = c, f = a.length; l < f && o; l++) {
        const p = a[l];
        s.push(p), o = p.fallThrough;
      }
    }
    return _e(this.Gi(null, s), () => (this.activeCases = s, this.Xi(null)));
  }
  swap(e, t) {
    const n = [];
    let i = !1;
    for (const o of this.cases)
      if ((i || o.isMatch(t)) && (n.push(o), i = o.fallThrough), n.length > 0 && !i)
        break;
    const s = this.defaultCase;
    return n.length === 0 && s !== void 0 && n.push(s), _e(this.activeCases.length > 0 ? this.Gi(e, n) : void 0, () => {
      if (this.activeCases = n, n.length !== 0)
        return this.Xi(e);
    });
  }
  Xi(e) {
    const t = this.$controller;
    if (!t.isActive)
      return;
    const n = this.activeCases, i = n.length;
    if (i === 0)
      return;
    const s = t.scope;
    return i === 1 ? n[0].activate(e, 0, s) : Ut(...n.map((o) => o.activate(e, 0, s)));
  }
  Gi(e, t = []) {
    const n = this.activeCases, i = n.length;
    if (i !== 0) {
      if (i === 1) {
        const s = n[0];
        return t.includes(s) ? void 0 : (n.length = 0, s.deactivate(e, 0));
      }
      return _e(Ut(...n.reduce((s, o) => (t.includes(o) || s.push(o.deactivate(e, 0)), s), [])), () => {
        n.length = 0;
      });
    }
  }
  queue(e) {
    const t = this.promise;
    let n;
    n = this.promise = _e(_e(t, e), () => {
      this.promise === n && (this.promise = void 0);
    });
  }
  accept(e) {
    if (this.$controller.accept(e) === !0 || this.activeCases.some((t) => t.accept(e)))
      return !0;
  }
};
z([Be], bu.prototype, "value", void 0);
bu = z([cn("switch"), lr(0, Kr), lr(1, xr)], bu);
let CS = 0, Ko = class {
  constructor(e, t, n, i) {
    this.f = e, this.Ki = t, this.l = n, this.id = ++CS, this.fallThrough = !1, this.view = void 0, this.Qi = i.config.level <= 1, this.Oe = i.scopeTo(`${this.constructor.name}-#${this.id}`);
  }
  link(e, t, n, i) {
    const o = e.parent?.viewModel;
    if (o instanceof bu)
      this.$switch = o, this.linkToSwitch(o);
    else
      throw ne("AUR0815");
  }
  detaching(e, t, n) {
    return this.deactivate(e, n);
  }
  isMatch(e) {
    this.Oe.debug("isMatch()");
    const t = this.value;
    return En(t) ? (this.Pi === void 0 && (this.Pi = this.Yi(t)), t.includes(e)) : t === e;
  }
  valueChanged(e, t) {
    En(e) ? (this.Pi?.unsubscribe(this), this.Pi = this.Yi(e)) : this.Pi !== void 0 && this.Pi.unsubscribe(this), this.$switch.caseChanged(this);
  }
  handleCollectionChange() {
    this.$switch.caseChanged(this);
  }
  activate(e, t, n) {
    let i = this.view;
    if (i === void 0 && (i = this.view = this.f.create().setLocation(this.l)), !i.isActive)
      return i.activate(e ?? i, this.$controller, t, n);
  }
  deactivate(e, t) {
    const n = this.view;
    if (!(n === void 0 || !n.isActive))
      return n.deactivate(e ?? n, this.$controller, t);
  }
  dispose() {
    this.Pi?.unsubscribe(this), this.view?.dispose(), this.view = void 0;
  }
  linkToSwitch(e) {
    e.cases.push(this);
  }
  Yi(e) {
    const t = this.Ki.getArrayObserver(e);
    return t.subscribe(this), t;
  }
  accept(e) {
    return this.$controller.accept(e) === !0 ? !0 : this.view?.accept(e);
  }
};
Ko.inject = [Kr, ao, xr, oo];
z([Be], Ko.prototype, "value", void 0);
z([Be({
  set: (r) => {
    switch (r) {
      case "true":
        return !0;
      case "false":
        return !1;
      default:
        return !!r;
    }
  },
  mode: 1
})], Ko.prototype, "fallThrough", void 0);
Ko = z([cn("case")], Ko);
let Jm = class extends Ko {
  linkToSwitch(e) {
    if (e.defaultCase !== void 0)
      throw ne("AUR0816");
    e.defaultCase = this;
  }
};
Jm = z([cn("default-case")], Jm);
let xu = class {
  constructor(e, t, n, i) {
    this.f = e, this.l = t, this.p = n, this.preSettledTask = null, this.postSettledTask = null, this.logger = i.scopeTo("promise.resolve");
  }
  link(e, t, n, i) {
    this.view = this.f.create(this.$controller).setLocation(this.l);
  }
  attaching(e, t, n) {
    const i = this.view, s = this.$controller;
    return _e(i.activate(e, s, n, this.viewScope = Yt.fromParent(s.scope, {})), () => this.swap(e, n));
  }
  valueChanged(e, t, n) {
    !this.$controller.isActive || this.swap(null, n);
  }
  swap(e, t) {
    const n = this.value;
    if (!Qt(n)) {
      this.logger.warn(`The value '${String(n)}' is not a promise. No change will be done.`);
      return;
    }
    const i = this.p.domWriteQueue, s = this.fulfilled, o = this.rejected, a = this.pending, c = this.viewScope;
    let l;
    const f = {
      reusable: !1
    }, p = () => {
      Ut(l = (this.preSettledTask = i.queueTask(() => Ut(s?.deactivate(e, t), o?.deactivate(e, t), a?.activate(e, t, c)), f)).result.catch((b) => {
        if (!(b instanceof v4))
          throw b;
      }), n.then((b) => {
        if (this.value !== n)
          return;
        const w = () => {
          this.postSettlePromise = (this.postSettledTask = i.queueTask(() => Ut(a?.deactivate(e, t), o?.deactivate(e, t), s?.activate(e, t, c, b)), f)).result;
        };
        this.preSettledTask.status === 1 ? l.then(w) : (this.preSettledTask.cancel(), w());
      }, (b) => {
        if (this.value !== n)
          return;
        const w = () => {
          this.postSettlePromise = (this.postSettledTask = i.queueTask(() => Ut(a?.deactivate(e, t), s?.deactivate(e, t), o?.activate(e, t, c, b)), f)).result;
        };
        this.preSettledTask.status === 1 ? l.then(w) : (this.preSettledTask.cancel(), w());
      }));
    };
    this.postSettledTask?.status === 1 ? this.postSettlePromise.then(p) : (this.postSettledTask?.cancel(), p());
  }
  detaching(e, t, n) {
    return this.preSettledTask?.cancel(), this.postSettledTask?.cancel(), this.preSettledTask = this.postSettledTask = null, this.view.deactivate(e, this.$controller, n);
  }
  dispose() {
    this.view?.dispose(), this.view = void 0;
  }
};
z([Be], xu.prototype, "value", void 0);
xu = z([cn("promise"), lr(0, Kr), lr(1, xr), lr(2, yr), lr(3, oo)], xu);
let ld = class {
  constructor(e, t) {
    this.f = e, this.l = t, this.view = void 0;
  }
  link(e, t, n, i) {
    B0(e).pending = this;
  }
  activate(e, t, n) {
    let i = this.view;
    if (i === void 0 && (i = this.view = this.f.create().setLocation(this.l)), !i.isActive)
      return i.activate(i, this.$controller, t, n);
  }
  deactivate(e, t) {
    const n = this.view;
    if (!(n === void 0 || !n.isActive))
      return n.deactivate(n, this.$controller, t);
  }
  detaching(e, t, n) {
    return this.deactivate(e, n);
  }
  dispose() {
    this.view?.dispose(), this.view = void 0;
  }
};
z([Be({
  mode: 2
})], ld.prototype, "value", void 0);
ld = z([cn("pending"), lr(0, Kr), lr(1, xr)], ld);
let ud = class {
  constructor(e, t) {
    this.f = e, this.l = t, this.view = void 0;
  }
  link(e, t, n, i) {
    B0(e).fulfilled = this;
  }
  activate(e, t, n, i) {
    this.value = i;
    let s = this.view;
    if (s === void 0 && (s = this.view = this.f.create().setLocation(this.l)), !s.isActive)
      return s.activate(s, this.$controller, t, n);
  }
  deactivate(e, t) {
    const n = this.view;
    if (!(n === void 0 || !n.isActive))
      return n.deactivate(n, this.$controller, t);
  }
  detaching(e, t, n) {
    return this.deactivate(e, n);
  }
  dispose() {
    this.view?.dispose(), this.view = void 0;
  }
};
z([Be({
  mode: 4
})], ud.prototype, "value", void 0);
ud = z([cn("then"), lr(0, Kr), lr(1, xr)], ud);
let hd = class {
  constructor(e, t) {
    this.f = e, this.l = t, this.view = void 0;
  }
  link(e, t, n, i) {
    B0(e).rejected = this;
  }
  activate(e, t, n, i) {
    this.value = i;
    let s = this.view;
    if (s === void 0 && (s = this.view = this.f.create().setLocation(this.l)), !s.isActive)
      return s.activate(s, this.$controller, t, n);
  }
  deactivate(e, t) {
    const n = this.view;
    if (!(n === void 0 || !n.isActive))
      return n.deactivate(n, this.$controller, t);
  }
  detaching(e, t, n) {
    return this.deactivate(e, n);
  }
  dispose() {
    this.view?.dispose(), this.view = void 0;
  }
};
z([Be({
  mode: 4
})], hd.prototype, "value", void 0);
hd = z([cn("catch"), lr(0, Kr), lr(1, xr)], hd);
function B0(r) {
  const t = r.parent?.viewModel;
  if (t instanceof xu)
    return t;
  throw ne("AUR0813");
}
let Ym = class {
  "promise.resolve"(e, t, n) {
    return new sn(e, t, "promise", "bind");
  }
};
Ym = z([ki({
  pattern: "promise.resolve",
  symbols: ""
})], Ym);
let Xm = class {
  then(e, t, n) {
    return new sn(e, t, "then", "from-view");
  }
};
Xm = z([ki({
  pattern: "then",
  symbols: ""
})], Xm);
let Zm = class {
  catch(e, t, n) {
    return new sn(e, t, "catch", "from-view");
  }
};
Zm = z([ki({
  pattern: "catch",
  symbols: ""
})], Zm);
class Jc {
  constructor(e, t, n, i, s, o, a) {
    this.c = e, this.parent = t, this.host = n, this.l = i, this.p = s, this.scopeBehavior = "auto", this.Zi = void 0, this.r = e.get(ho), this.Ji = o, this.ts = a;
  }
  static get inject() {
    return [oa, sh, Ho, xr, yr, pa, M1(_S)];
  }
  get pending() {
    return this.es;
  }
  get composition() {
    return this.Zi;
  }
  attaching(e, t, n) {
    return this.es = _e(this.queue(new eb(this.view, this.viewModel, this.model, void 0), e), (i) => {
      this.ts.isCurrent(i) && (this.es = void 0);
    });
  }
  detaching(e) {
    const t = this.Zi, n = this.es;
    return this.ts.invalidate(), this.Zi = this.es = void 0, _e(n, () => t?.deactivate(e));
  }
  propertyChanged(e) {
    if (e === "model" && this.Zi != null) {
      this.Zi.update(this.model);
      return;
    }
    this.es = _e(this.es, () => _e(this.queue(new eb(this.view, this.viewModel, this.model, e), void 0), (t) => {
      this.ts.isCurrent(t) && (this.es = void 0);
    }));
  }
  queue(e, t) {
    const n = this.ts, i = this.Zi;
    return _e(n.create(e), (s) => n.isCurrent(s) ? _e(this.compose(s), (o) => n.isCurrent(s) ? _e(o.activate(t), () => n.isCurrent(s) ? (this.Zi = o, _e(i?.deactivate(t), () => s)) : _e(o.controller.deactivate(o.controller, this.$controller, 2), () => (o.controller.dispose(), s))) : (o.controller.dispose(), s)) : s);
  }
  compose(e) {
    let t, n, i;
    const { view: s, viewModel: o, model: a } = e.change, { c, host: l, $controller: f, l: p } = this, b = this.getDef(o), w = c.createChild(), A = p == null ? l.parentNode : p.parentNode;
    if (b !== null) {
      if (b.containerless)
        throw ne("AUR0806");
      p == null ? (n = l, i = () => {
      }) : (n = A.insertBefore(this.p.document.createElement(b.name), p), i = () => {
        n.remove();
      }), t = this.getVm(w, o, n);
    } else
      n = p ?? l, t = this.getVm(w, o, n);
    const C = () => {
      if (b !== null) {
        const S = en.$el(w, t, n, {
          projections: this.Ji.projections
        }, b);
        return new rb(S, (k) => S.activate(k ?? S, f, 1, f.scope.parent), (k) => _e(S.deactivate(k ?? S, f, 2), i), (k) => t.activate?.(k), e);
      } else {
        const S = $n.create({
          name: Do.generateName(),
          template: s
        }), k = this.r.getViewFactory(S, w), O = en.$view(k, f), L = this.scopeBehavior === "auto" ? Yt.fromParent(this.parent.scope, t) : Yt.create(t);
        return pu(n) ? O.setLocation(n) : O.setHost(n), new rb(O, (B) => O.activate(B ?? O, f, 1, L), (B) => O.deactivate(B ?? O, f, 2), (B) => t.activate?.(B), e);
      }
    };
    return "activate" in t ? _e(t.activate(a), () => C()) : C();
  }
  getVm(e, t, n) {
    if (t == null)
      return new ES();
    if (typeof t == "object")
      return t;
    const i = this.p, s = pu(n);
    At(e, i.Element, At(e, Ho, new ar("ElementResolver", s ? null : n))), At(e, xr, new ar("IRenderLocation", s ? n : null));
    const o = e.invoke(t);
    return At(e, t, new ar("au-compose.viewModel", o)), o;
  }
  getDef(e) {
    const t = kr(e) ? e : e?.constructor;
    return Do.isType(t) ? Do.getDefinition(t) : null;
  }
}
z([Be], Jc.prototype, "view", void 0);
z([Be], Jc.prototype, "viewModel", void 0);
z([Be], Jc.prototype, "model", void 0);
z([Be({
  set: (r) => {
    if (r === "scoped" || r === "auto")
      return r;
    throw ne("AUR0805");
  }
})], Jc.prototype, "scopeBehavior", void 0);
jv("au-compose")(Jc);
class ES {
}
class _S {
  constructor() {
    this.id = 0;
  }
  isCurrent(e) {
    return e.id === this.id;
  }
  create(e) {
    return _e(e.load(), (t) => new PS(++this.id, t));
  }
  invalidate() {
    this.id++;
  }
}
class eb {
  constructor(e, t, n, i) {
    this.view = e, this.viewModel = t, this.model = n, this.src = i;
  }
  load() {
    return Qt(this.view) || Qt(this.viewModel) ? Promise.all([this.view, this.viewModel]).then(([e, t]) => new tb(e, t, this.model, this.src)) : new tb(this.view, this.viewModel, this.model, this.src);
  }
}
class tb {
  constructor(e, t, n, i) {
    this.view = e, this.viewModel = t, this.model = n, this.src = i;
  }
}
class PS {
  constructor(e, t) {
    this.id = e, this.change = t;
  }
}
class rb {
  constructor(e, t, n, i, s) {
    this.controller = e, this.start = t, this.stop = n, this.update = i, this.context = s, this.state = 0;
  }
  activate(e) {
    if (this.state !== 0)
      throw ne(`AUR0807:${this.controller.name}`);
    return this.state = 1, this.start(e);
  }
  deactivate(e) {
    switch (this.state) {
      case 1:
        return this.state = -1, this.stop(e);
      case -1:
        throw ne("AUR0808");
      default:
        this.state = -1;
    }
  }
}
let fd = class {
  constructor(e, t, n, i) {
    this.ss = null, this.rs = null;
    let s;
    const o = t.auSlot, a = n.instruction?.projections?.[o.name];
    a == null ? (s = i.getViewFactory(o.fallback, n.controller.container), this.os = !1) : (s = i.getViewFactory(a, n.parent.controller.container), this.os = !0), this.ls = n, this.view = s.create().setLocation(e);
  }
  static get inject() {
    return [xr, pa, fu, ho];
  }
  binding(e, t, n) {
    this.ss = this.$controller.scope.parent;
    let i;
    this.os && (i = this.ls.controller.scope.parent, (this.rs = Yt.fromParent(i, i.bindingContext)).overrideContext.$host = this.expose ?? this.ss.bindingContext);
  }
  attaching(e, t, n) {
    return this.view.activate(e, this.$controller, n, this.os ? this.rs : this.ss);
  }
  detaching(e, t, n) {
    return this.view.deactivate(e, this.$controller, n);
  }
  exposeChanged(e) {
    this.os && this.rs != null && (this.rs.overrideContext.$host = e);
  }
  dispose() {
    this.view.dispose(), this.view = void 0;
  }
  accept(e) {
    if (this.view?.accept(e) === !0)
      return !0;
  }
};
z([Be], fd.prototype, "expose", void 0);
fd = z([jv({
  name: "au-slot",
  template: null,
  containerless: !0
})], fd);
const kS = Ie("ISanitizer", (r) => r.singleton(class {
  sanitize() {
    throw ne('"sanitize" method not implemented');
  }
}));
let dd = class {
  constructor(e) {
    this.cs = e;
  }
  toView(e) {
    return e == null ? null : this.cs.sanitize(e);
  }
};
dd = z([lr(0, kS)], dd);
Wc("sanitize")(dd);
Ie("IAurelia");
var nb;
(function(r) {
  r[r.oneTime = 1] = "oneTime", r[r.toView = 2] = "toView", r[r.fromView = 4] = "fromView", r[r.twoWay = 6] = "twoWay", r[r.default = 8] = "default";
})(nb || (nb = {}));
var ib;
(function(r) {
  r[r.Element = 1] = "Element", r[r.Attribute = 2] = "Attribute";
})(ib || (ib = {}));
const ga = pe.createInterface("CacheService");
class ch {
  cache = /* @__PURE__ */ new Map();
  setItem(e, t) {
    this.cache.set(e, t);
  }
  getItem(e) {
    return this.cache.get(e);
  }
  static register(e) {
    fe.singleton(ga, ch).register(e);
  }
}
const sb = (r, e) => {
  const t = r[e];
  return t ? typeof t == "function" ? t() : Promise.resolve(t) : new Promise((n, i) => {
    (typeof queueMicrotask == "function" ? queueMicrotask : setTimeout)(i.bind(null, new Error("Unknown variable dynamic import: " + e)));
  });
};
var my = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function RS(r) {
  var e = r.default;
  if (typeof e == "function") {
    var t = function() {
      return e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else
    t = {};
  return Object.defineProperty(t, "__esModule", { value: !0 }), Object.keys(r).forEach(function(n) {
    var i = Object.getOwnPropertyDescriptor(r, n);
    Object.defineProperty(t, n, i.get ? i : {
      enumerable: !0,
      get: function() {
        return r[n];
      }
    });
  }), t;
}
var by = { exports: {} };
const TS = new Proxy({}, {
  get(r, e) {
    throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.`);
  }
}), IS = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TS
}, Symbol.toStringTag, { value: "Module" })), MS = /* @__PURE__ */ RS(IS);
(function(r) {
  (function(e, t) {
    function n(_, u) {
      if (!_)
        throw new Error(u || "Assertion failed");
    }
    function i(_, u) {
      _.super_ = u;
      var g = function() {
      };
      g.prototype = u.prototype, _.prototype = new g(), _.prototype.constructor = _;
    }
    function s(_, u, g) {
      if (s.isBN(_))
        return _;
      this.negative = 0, this.words = null, this.length = 0, this.red = null, _ !== null && ((u === "le" || u === "be") && (g = u, u = 10), this._init(_ || 0, u || 10, g || "be"));
    }
    typeof e == "object" ? e.exports = s : t.BN = s, s.BN = s, s.wordSize = 26;
    var o;
    try {
      typeof window < "u" && typeof window.Buffer < "u" ? o = window.Buffer : o = MS.Buffer;
    } catch {
    }
    s.isBN = function(u) {
      return u instanceof s ? !0 : u !== null && typeof u == "object" && u.constructor.wordSize === s.wordSize && Array.isArray(u.words);
    }, s.max = function(u, g) {
      return u.cmp(g) > 0 ? u : g;
    }, s.min = function(u, g) {
      return u.cmp(g) < 0 ? u : g;
    }, s.prototype._init = function(u, g, x) {
      if (typeof u == "number")
        return this._initNumber(u, g, x);
      if (typeof u == "object")
        return this._initArray(u, g, x);
      g === "hex" && (g = 16), n(g === (g | 0) && g >= 2 && g <= 36), u = u.toString().replace(/\s+/g, "");
      var y = 0;
      u[0] === "-" && (y++, this.negative = 1), y < u.length && (g === 16 ? this._parseHex(u, y, x) : (this._parseBase(u, g, y), x === "le" && this._initArray(this.toArray(), g, x)));
    }, s.prototype._initNumber = function(u, g, x) {
      u < 0 && (this.negative = 1, u = -u), u < 67108864 ? (this.words = [u & 67108863], this.length = 1) : u < 4503599627370496 ? (this.words = [
        u & 67108863,
        u / 67108864 & 67108863
      ], this.length = 2) : (n(u < 9007199254740992), this.words = [
        u & 67108863,
        u / 67108864 & 67108863,
        1
      ], this.length = 3), x === "le" && this._initArray(this.toArray(), g, x);
    }, s.prototype._initArray = function(u, g, x) {
      if (n(typeof u.length == "number"), u.length <= 0)
        return this.words = [0], this.length = 1, this;
      this.length = Math.ceil(u.length / 3), this.words = new Array(this.length);
      for (var y = 0; y < this.length; y++)
        this.words[y] = 0;
      var E, P, R = 0;
      if (x === "be")
        for (y = u.length - 1, E = 0; y >= 0; y -= 3)
          P = u[y] | u[y - 1] << 8 | u[y - 2] << 16, this.words[E] |= P << R & 67108863, this.words[E + 1] = P >>> 26 - R & 67108863, R += 24, R >= 26 && (R -= 26, E++);
      else if (x === "le")
        for (y = 0, E = 0; y < u.length; y += 3)
          P = u[y] | u[y + 1] << 8 | u[y + 2] << 16, this.words[E] |= P << R & 67108863, this.words[E + 1] = P >>> 26 - R & 67108863, R += 24, R >= 26 && (R -= 26, E++);
      return this._strip();
    };
    function a(_, u) {
      var g = _.charCodeAt(u);
      if (g >= 48 && g <= 57)
        return g - 48;
      if (g >= 65 && g <= 70)
        return g - 55;
      if (g >= 97 && g <= 102)
        return g - 87;
      n(!1, "Invalid character in " + _);
    }
    function c(_, u, g) {
      var x = a(_, g);
      return g - 1 >= u && (x |= a(_, g - 1) << 4), x;
    }
    s.prototype._parseHex = function(u, g, x) {
      this.length = Math.ceil((u.length - g) / 6), this.words = new Array(this.length);
      for (var y = 0; y < this.length; y++)
        this.words[y] = 0;
      var E = 0, P = 0, R;
      if (x === "be")
        for (y = u.length - 1; y >= g; y -= 2)
          R = c(u, g, y) << E, this.words[P] |= R & 67108863, E >= 18 ? (E -= 18, P += 1, this.words[P] |= R >>> 26) : E += 8;
      else {
        var m = u.length - g;
        for (y = m % 2 === 0 ? g + 1 : g; y < u.length; y += 2)
          R = c(u, g, y) << E, this.words[P] |= R & 67108863, E >= 18 ? (E -= 18, P += 1, this.words[P] |= R >>> 26) : E += 8;
      }
      this._strip();
    };
    function l(_, u, g, x) {
      for (var y = 0, E = 0, P = Math.min(_.length, g), R = u; R < P; R++) {
        var m = _.charCodeAt(R) - 48;
        y *= x, m >= 49 ? E = m - 49 + 10 : m >= 17 ? E = m - 17 + 10 : E = m, n(m >= 0 && E < x, "Invalid character"), y += E;
      }
      return y;
    }
    s.prototype._parseBase = function(u, g, x) {
      this.words = [0], this.length = 1;
      for (var y = 0, E = 1; E <= 67108863; E *= g)
        y++;
      y--, E = E / g | 0;
      for (var P = u.length - x, R = P % y, m = Math.min(P, P - R) + x, h = 0, v = x; v < m; v += y)
        h = l(u, v, v + y, g), this.imuln(E), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h);
      if (R !== 0) {
        var I = 1;
        for (h = l(u, v, u.length, g), v = 0; v < R; v++)
          I *= g;
        this.imuln(I), this.words[0] + h < 67108864 ? this.words[0] += h : this._iaddn(h);
      }
      this._strip();
    }, s.prototype.copy = function(u) {
      u.words = new Array(this.length);
      for (var g = 0; g < this.length; g++)
        u.words[g] = this.words[g];
      u.length = this.length, u.negative = this.negative, u.red = this.red;
    };
    function f(_, u) {
      _.words = u.words, _.length = u.length, _.negative = u.negative, _.red = u.red;
    }
    if (s.prototype._move = function(u) {
      f(u, this);
    }, s.prototype.clone = function() {
      var u = new s(null);
      return this.copy(u), u;
    }, s.prototype._expand = function(u) {
      for (; this.length < u; )
        this.words[this.length++] = 0;
      return this;
    }, s.prototype._strip = function() {
      for (; this.length > 1 && this.words[this.length - 1] === 0; )
        this.length--;
      return this._normSign();
    }, s.prototype._normSign = function() {
      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;
    }, typeof Symbol < "u" && typeof Symbol.for == "function")
      try {
        s.prototype[Symbol.for("nodejs.util.inspect.custom")] = p;
      } catch {
        s.prototype.inspect = p;
      }
    else
      s.prototype.inspect = p;
    function p() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var b = [
      "",
      "0",
      "00",
      "000",
      "0000",
      "00000",
      "000000",
      "0000000",
      "00000000",
      "000000000",
      "0000000000",
      "00000000000",
      "000000000000",
      "0000000000000",
      "00000000000000",
      "000000000000000",
      "0000000000000000",
      "00000000000000000",
      "000000000000000000",
      "0000000000000000000",
      "00000000000000000000",
      "000000000000000000000",
      "0000000000000000000000",
      "00000000000000000000000",
      "000000000000000000000000",
      "0000000000000000000000000"
    ], w = [
      0,
      0,
      25,
      16,
      12,
      11,
      10,
      9,
      8,
      8,
      7,
      7,
      7,
      7,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5,
      5
    ], A = [
      0,
      0,
      33554432,
      43046721,
      16777216,
      48828125,
      60466176,
      40353607,
      16777216,
      43046721,
      1e7,
      19487171,
      35831808,
      62748517,
      7529536,
      11390625,
      16777216,
      24137569,
      34012224,
      47045881,
      64e6,
      4084101,
      5153632,
      6436343,
      7962624,
      9765625,
      11881376,
      14348907,
      17210368,
      20511149,
      243e5,
      28629151,
      33554432,
      39135393,
      45435424,
      52521875,
      60466176
    ];
    s.prototype.toString = function(u, g) {
      u = u || 10, g = g | 0 || 1;
      var x;
      if (u === 16 || u === "hex") {
        x = "";
        for (var y = 0, E = 0, P = 0; P < this.length; P++) {
          var R = this.words[P], m = ((R << y | E) & 16777215).toString(16);
          E = R >>> 24 - y & 16777215, y += 2, y >= 26 && (y -= 26, P--), E !== 0 || P !== this.length - 1 ? x = b[6 - m.length] + m + x : x = m + x;
        }
        for (E !== 0 && (x = E.toString(16) + x); x.length % g !== 0; )
          x = "0" + x;
        return this.negative !== 0 && (x = "-" + x), x;
      }
      if (u === (u | 0) && u >= 2 && u <= 36) {
        var h = w[u], v = A[u];
        x = "";
        var I = this.clone();
        for (I.negative = 0; !I.isZero(); ) {
          var d = I.modrn(v).toString(u);
          I = I.idivn(v), I.isZero() ? x = d + x : x = b[h - d.length] + d + x;
        }
        for (this.isZero() && (x = "0" + x); x.length % g !== 0; )
          x = "0" + x;
        return this.negative !== 0 && (x = "-" + x), x;
      }
      n(!1, "Base should be between 2 and 36");
    }, s.prototype.toNumber = function() {
      var u = this.words[0];
      return this.length === 2 ? u += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? u += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && n(!1, "Number can only safely store up to 53 bits"), this.negative !== 0 ? -u : u;
    }, s.prototype.toJSON = function() {
      return this.toString(16, 2);
    }, o && (s.prototype.toBuffer = function(u, g) {
      return this.toArrayLike(o, u, g);
    }), s.prototype.toArray = function(u, g) {
      return this.toArrayLike(Array, u, g);
    };
    var C = function(u, g) {
      return u.allocUnsafe ? u.allocUnsafe(g) : new u(g);
    };
    s.prototype.toArrayLike = function(u, g, x) {
      this._strip();
      var y = this.byteLength(), E = x || Math.max(1, y);
      n(y <= E, "byte array longer than desired length"), n(E > 0, "Requested array length <= 0");
      var P = C(u, E), R = g === "le" ? "LE" : "BE";
      return this["_toArrayLike" + R](P, y), P;
    }, s.prototype._toArrayLikeLE = function(u, g) {
      for (var x = 0, y = 0, E = 0, P = 0; E < this.length; E++) {
        var R = this.words[E] << P | y;
        u[x++] = R & 255, x < u.length && (u[x++] = R >> 8 & 255), x < u.length && (u[x++] = R >> 16 & 255), P === 6 ? (x < u.length && (u[x++] = R >> 24 & 255), y = 0, P = 0) : (y = R >>> 24, P += 2);
      }
      if (x < u.length)
        for (u[x++] = y; x < u.length; )
          u[x++] = 0;
    }, s.prototype._toArrayLikeBE = function(u, g) {
      for (var x = u.length - 1, y = 0, E = 0, P = 0; E < this.length; E++) {
        var R = this.words[E] << P | y;
        u[x--] = R & 255, x >= 0 && (u[x--] = R >> 8 & 255), x >= 0 && (u[x--] = R >> 16 & 255), P === 6 ? (x >= 0 && (u[x--] = R >> 24 & 255), y = 0, P = 0) : (y = R >>> 24, P += 2);
      }
      if (x >= 0)
        for (u[x--] = y; x >= 0; )
          u[x--] = 0;
    }, Math.clz32 ? s.prototype._countBits = function(u) {
      return 32 - Math.clz32(u);
    } : s.prototype._countBits = function(u) {
      var g = u, x = 0;
      return g >= 4096 && (x += 13, g >>>= 13), g >= 64 && (x += 7, g >>>= 7), g >= 8 && (x += 4, g >>>= 4), g >= 2 && (x += 2, g >>>= 2), x + g;
    }, s.prototype._zeroBits = function(u) {
      if (u === 0)
        return 26;
      var g = u, x = 0;
      return (g & 8191) === 0 && (x += 13, g >>>= 13), (g & 127) === 0 && (x += 7, g >>>= 7), (g & 15) === 0 && (x += 4, g >>>= 4), (g & 3) === 0 && (x += 2, g >>>= 2), (g & 1) === 0 && x++, x;
    }, s.prototype.bitLength = function() {
      var u = this.words[this.length - 1], g = this._countBits(u);
      return (this.length - 1) * 26 + g;
    };
    function S(_) {
      for (var u = new Array(_.bitLength()), g = 0; g < u.length; g++) {
        var x = g / 26 | 0, y = g % 26;
        u[g] = _.words[x] >>> y & 1;
      }
      return u;
    }
    s.prototype.zeroBits = function() {
      if (this.isZero())
        return 0;
      for (var u = 0, g = 0; g < this.length; g++) {
        var x = this._zeroBits(this.words[g]);
        if (u += x, x !== 26)
          break;
      }
      return u;
    }, s.prototype.byteLength = function() {
      return Math.ceil(this.bitLength() / 8);
    }, s.prototype.toTwos = function(u) {
      return this.negative !== 0 ? this.abs().inotn(u).iaddn(1) : this.clone();
    }, s.prototype.fromTwos = function(u) {
      return this.testn(u - 1) ? this.notn(u).iaddn(1).ineg() : this.clone();
    }, s.prototype.isNeg = function() {
      return this.negative !== 0;
    }, s.prototype.neg = function() {
      return this.clone().ineg();
    }, s.prototype.ineg = function() {
      return this.isZero() || (this.negative ^= 1), this;
    }, s.prototype.iuor = function(u) {
      for (; this.length < u.length; )
        this.words[this.length++] = 0;
      for (var g = 0; g < u.length; g++)
        this.words[g] = this.words[g] | u.words[g];
      return this._strip();
    }, s.prototype.ior = function(u) {
      return n((this.negative | u.negative) === 0), this.iuor(u);
    }, s.prototype.or = function(u) {
      return this.length > u.length ? this.clone().ior(u) : u.clone().ior(this);
    }, s.prototype.uor = function(u) {
      return this.length > u.length ? this.clone().iuor(u) : u.clone().iuor(this);
    }, s.prototype.iuand = function(u) {
      var g;
      this.length > u.length ? g = u : g = this;
      for (var x = 0; x < g.length; x++)
        this.words[x] = this.words[x] & u.words[x];
      return this.length = g.length, this._strip();
    }, s.prototype.iand = function(u) {
      return n((this.negative | u.negative) === 0), this.iuand(u);
    }, s.prototype.and = function(u) {
      return this.length > u.length ? this.clone().iand(u) : u.clone().iand(this);
    }, s.prototype.uand = function(u) {
      return this.length > u.length ? this.clone().iuand(u) : u.clone().iuand(this);
    }, s.prototype.iuxor = function(u) {
      var g, x;
      this.length > u.length ? (g = this, x = u) : (g = u, x = this);
      for (var y = 0; y < x.length; y++)
        this.words[y] = g.words[y] ^ x.words[y];
      if (this !== g)
        for (; y < g.length; y++)
          this.words[y] = g.words[y];
      return this.length = g.length, this._strip();
    }, s.prototype.ixor = function(u) {
      return n((this.negative | u.negative) === 0), this.iuxor(u);
    }, s.prototype.xor = function(u) {
      return this.length > u.length ? this.clone().ixor(u) : u.clone().ixor(this);
    }, s.prototype.uxor = function(u) {
      return this.length > u.length ? this.clone().iuxor(u) : u.clone().iuxor(this);
    }, s.prototype.inotn = function(u) {
      n(typeof u == "number" && u >= 0);
      var g = Math.ceil(u / 26) | 0, x = u % 26;
      this._expand(g), x > 0 && g--;
      for (var y = 0; y < g; y++)
        this.words[y] = ~this.words[y] & 67108863;
      return x > 0 && (this.words[y] = ~this.words[y] & 67108863 >> 26 - x), this._strip();
    }, s.prototype.notn = function(u) {
      return this.clone().inotn(u);
    }, s.prototype.setn = function(u, g) {
      n(typeof u == "number" && u >= 0);
      var x = u / 26 | 0, y = u % 26;
      return this._expand(x + 1), g ? this.words[x] = this.words[x] | 1 << y : this.words[x] = this.words[x] & ~(1 << y), this._strip();
    }, s.prototype.iadd = function(u) {
      var g;
      if (this.negative !== 0 && u.negative === 0)
        return this.negative = 0, g = this.isub(u), this.negative ^= 1, this._normSign();
      if (this.negative === 0 && u.negative !== 0)
        return u.negative = 0, g = this.isub(u), u.negative = 1, g._normSign();
      var x, y;
      this.length > u.length ? (x = this, y = u) : (x = u, y = this);
      for (var E = 0, P = 0; P < y.length; P++)
        g = (x.words[P] | 0) + (y.words[P] | 0) + E, this.words[P] = g & 67108863, E = g >>> 26;
      for (; E !== 0 && P < x.length; P++)
        g = (x.words[P] | 0) + E, this.words[P] = g & 67108863, E = g >>> 26;
      if (this.length = x.length, E !== 0)
        this.words[this.length] = E, this.length++;
      else if (x !== this)
        for (; P < x.length; P++)
          this.words[P] = x.words[P];
      return this;
    }, s.prototype.add = function(u) {
      var g;
      return u.negative !== 0 && this.negative === 0 ? (u.negative = 0, g = this.sub(u), u.negative ^= 1, g) : u.negative === 0 && this.negative !== 0 ? (this.negative = 0, g = u.sub(this), this.negative = 1, g) : this.length > u.length ? this.clone().iadd(u) : u.clone().iadd(this);
    }, s.prototype.isub = function(u) {
      if (u.negative !== 0) {
        u.negative = 0;
        var g = this.iadd(u);
        return u.negative = 1, g._normSign();
      } else if (this.negative !== 0)
        return this.negative = 0, this.iadd(u), this.negative = 1, this._normSign();
      var x = this.cmp(u);
      if (x === 0)
        return this.negative = 0, this.length = 1, this.words[0] = 0, this;
      var y, E;
      x > 0 ? (y = this, E = u) : (y = u, E = this);
      for (var P = 0, R = 0; R < E.length; R++)
        g = (y.words[R] | 0) - (E.words[R] | 0) + P, P = g >> 26, this.words[R] = g & 67108863;
      for (; P !== 0 && R < y.length; R++)
        g = (y.words[R] | 0) + P, P = g >> 26, this.words[R] = g & 67108863;
      if (P === 0 && R < y.length && y !== this)
        for (; R < y.length; R++)
          this.words[R] = y.words[R];
      return this.length = Math.max(this.length, R), y !== this && (this.negative = 1), this._strip();
    }, s.prototype.sub = function(u) {
      return this.clone().isub(u);
    };
    function k(_, u, g) {
      g.negative = u.negative ^ _.negative;
      var x = _.length + u.length | 0;
      g.length = x, x = x - 1 | 0;
      var y = _.words[0] | 0, E = u.words[0] | 0, P = y * E, R = P & 67108863, m = P / 67108864 | 0;
      g.words[0] = R;
      for (var h = 1; h < x; h++) {
        for (var v = m >>> 26, I = m & 67108863, d = Math.min(h, u.length - 1), T = Math.max(0, h - _.length + 1); T <= d; T++) {
          var $ = h - T | 0;
          y = _.words[$] | 0, E = u.words[T] | 0, P = y * E + I, v += P / 67108864 | 0, I = P & 67108863;
        }
        g.words[h] = I | 0, m = v | 0;
      }
      return m !== 0 ? g.words[h] = m | 0 : g.length--, g._strip();
    }
    var O = function(u, g, x) {
      var y = u.words, E = g.words, P = x.words, R = 0, m, h, v, I = y[0] | 0, d = I & 8191, T = I >>> 13, $ = y[1] | 0, D = $ & 8191, F = $ >>> 13, Y = y[2] | 0, H = Y & 8191, G = Y >>> 13, vt = y[3] | 0, Z = vt & 8191, ue = vt >>> 13, gs = y[4] | 0, Fe = gs & 8191, Ue = gs >>> 13, ms = y[5] | 0, Ve = ms & 8191, je = ms >>> 13, bs = y[6] | 0, We = bs & 8191, He = bs >>> 13, xs = y[7] | 0, Ge = xs & 8191, Ke = xs >>> 13, vs = y[8] | 0, ze = vs & 8191, qe = vs >>> 13, ys = y[9] | 0, Qe = ys & 8191, Je = ys >>> 13, ws = E[0] | 0, Ye = ws & 8191, Xe = ws >>> 13, As = E[1] | 0, Ze = As & 8191, et = As >>> 13, Ss = E[2] | 0, tt = Ss & 8191, rt = Ss >>> 13, Cs = E[3] | 0, nt = Cs & 8191, it = Cs >>> 13, Es = E[4] | 0, st = Es & 8191, ot = Es >>> 13, _s = E[5] | 0, at = _s & 8191, ct = _s >>> 13, Ps = E[6] | 0, lt = Ps & 8191, ut = Ps >>> 13, ks = E[7] | 0, ht = ks & 8191, ft = ks >>> 13, Rs = E[8] | 0, dt = Rs & 8191, pt = Rs >>> 13, Ts = E[9] | 0, gt = Ts & 8191, mt = Ts >>> 13;
      x.negative = u.negative ^ g.negative, x.length = 19, m = Math.imul(d, Ye), h = Math.imul(d, Xe), h = h + Math.imul(T, Ye) | 0, v = Math.imul(T, Xe);
      var $i = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + ($i >>> 26) | 0, $i &= 67108863, m = Math.imul(D, Ye), h = Math.imul(D, Xe), h = h + Math.imul(F, Ye) | 0, v = Math.imul(F, Xe), m = m + Math.imul(d, Ze) | 0, h = h + Math.imul(d, et) | 0, h = h + Math.imul(T, Ze) | 0, v = v + Math.imul(T, et) | 0;
      var Li = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Li >>> 26) | 0, Li &= 67108863, m = Math.imul(H, Ye), h = Math.imul(H, Xe), h = h + Math.imul(G, Ye) | 0, v = Math.imul(G, Xe), m = m + Math.imul(D, Ze) | 0, h = h + Math.imul(D, et) | 0, h = h + Math.imul(F, Ze) | 0, v = v + Math.imul(F, et) | 0, m = m + Math.imul(d, tt) | 0, h = h + Math.imul(d, rt) | 0, h = h + Math.imul(T, tt) | 0, v = v + Math.imul(T, rt) | 0;
      var Fi = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Fi >>> 26) | 0, Fi &= 67108863, m = Math.imul(Z, Ye), h = Math.imul(Z, Xe), h = h + Math.imul(ue, Ye) | 0, v = Math.imul(ue, Xe), m = m + Math.imul(H, Ze) | 0, h = h + Math.imul(H, et) | 0, h = h + Math.imul(G, Ze) | 0, v = v + Math.imul(G, et) | 0, m = m + Math.imul(D, tt) | 0, h = h + Math.imul(D, rt) | 0, h = h + Math.imul(F, tt) | 0, v = v + Math.imul(F, rt) | 0, m = m + Math.imul(d, nt) | 0, h = h + Math.imul(d, it) | 0, h = h + Math.imul(T, nt) | 0, v = v + Math.imul(T, it) | 0;
      var Ui = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Ui >>> 26) | 0, Ui &= 67108863, m = Math.imul(Fe, Ye), h = Math.imul(Fe, Xe), h = h + Math.imul(Ue, Ye) | 0, v = Math.imul(Ue, Xe), m = m + Math.imul(Z, Ze) | 0, h = h + Math.imul(Z, et) | 0, h = h + Math.imul(ue, Ze) | 0, v = v + Math.imul(ue, et) | 0, m = m + Math.imul(H, tt) | 0, h = h + Math.imul(H, rt) | 0, h = h + Math.imul(G, tt) | 0, v = v + Math.imul(G, rt) | 0, m = m + Math.imul(D, nt) | 0, h = h + Math.imul(D, it) | 0, h = h + Math.imul(F, nt) | 0, v = v + Math.imul(F, it) | 0, m = m + Math.imul(d, st) | 0, h = h + Math.imul(d, ot) | 0, h = h + Math.imul(T, st) | 0, v = v + Math.imul(T, ot) | 0;
      var Vi = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Vi >>> 26) | 0, Vi &= 67108863, m = Math.imul(Ve, Ye), h = Math.imul(Ve, Xe), h = h + Math.imul(je, Ye) | 0, v = Math.imul(je, Xe), m = m + Math.imul(Fe, Ze) | 0, h = h + Math.imul(Fe, et) | 0, h = h + Math.imul(Ue, Ze) | 0, v = v + Math.imul(Ue, et) | 0, m = m + Math.imul(Z, tt) | 0, h = h + Math.imul(Z, rt) | 0, h = h + Math.imul(ue, tt) | 0, v = v + Math.imul(ue, rt) | 0, m = m + Math.imul(H, nt) | 0, h = h + Math.imul(H, it) | 0, h = h + Math.imul(G, nt) | 0, v = v + Math.imul(G, it) | 0, m = m + Math.imul(D, st) | 0, h = h + Math.imul(D, ot) | 0, h = h + Math.imul(F, st) | 0, v = v + Math.imul(F, ot) | 0, m = m + Math.imul(d, at) | 0, h = h + Math.imul(d, ct) | 0, h = h + Math.imul(T, at) | 0, v = v + Math.imul(T, ct) | 0;
      var Ih = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Ih >>> 26) | 0, Ih &= 67108863, m = Math.imul(We, Ye), h = Math.imul(We, Xe), h = h + Math.imul(He, Ye) | 0, v = Math.imul(He, Xe), m = m + Math.imul(Ve, Ze) | 0, h = h + Math.imul(Ve, et) | 0, h = h + Math.imul(je, Ze) | 0, v = v + Math.imul(je, et) | 0, m = m + Math.imul(Fe, tt) | 0, h = h + Math.imul(Fe, rt) | 0, h = h + Math.imul(Ue, tt) | 0, v = v + Math.imul(Ue, rt) | 0, m = m + Math.imul(Z, nt) | 0, h = h + Math.imul(Z, it) | 0, h = h + Math.imul(ue, nt) | 0, v = v + Math.imul(ue, it) | 0, m = m + Math.imul(H, st) | 0, h = h + Math.imul(H, ot) | 0, h = h + Math.imul(G, st) | 0, v = v + Math.imul(G, ot) | 0, m = m + Math.imul(D, at) | 0, h = h + Math.imul(D, ct) | 0, h = h + Math.imul(F, at) | 0, v = v + Math.imul(F, ct) | 0, m = m + Math.imul(d, lt) | 0, h = h + Math.imul(d, ut) | 0, h = h + Math.imul(T, lt) | 0, v = v + Math.imul(T, ut) | 0;
      var Mh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Mh >>> 26) | 0, Mh &= 67108863, m = Math.imul(Ge, Ye), h = Math.imul(Ge, Xe), h = h + Math.imul(Ke, Ye) | 0, v = Math.imul(Ke, Xe), m = m + Math.imul(We, Ze) | 0, h = h + Math.imul(We, et) | 0, h = h + Math.imul(He, Ze) | 0, v = v + Math.imul(He, et) | 0, m = m + Math.imul(Ve, tt) | 0, h = h + Math.imul(Ve, rt) | 0, h = h + Math.imul(je, tt) | 0, v = v + Math.imul(je, rt) | 0, m = m + Math.imul(Fe, nt) | 0, h = h + Math.imul(Fe, it) | 0, h = h + Math.imul(Ue, nt) | 0, v = v + Math.imul(Ue, it) | 0, m = m + Math.imul(Z, st) | 0, h = h + Math.imul(Z, ot) | 0, h = h + Math.imul(ue, st) | 0, v = v + Math.imul(ue, ot) | 0, m = m + Math.imul(H, at) | 0, h = h + Math.imul(H, ct) | 0, h = h + Math.imul(G, at) | 0, v = v + Math.imul(G, ct) | 0, m = m + Math.imul(D, lt) | 0, h = h + Math.imul(D, ut) | 0, h = h + Math.imul(F, lt) | 0, v = v + Math.imul(F, ut) | 0, m = m + Math.imul(d, ht) | 0, h = h + Math.imul(d, ft) | 0, h = h + Math.imul(T, ht) | 0, v = v + Math.imul(T, ft) | 0;
      var Oh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Oh >>> 26) | 0, Oh &= 67108863, m = Math.imul(ze, Ye), h = Math.imul(ze, Xe), h = h + Math.imul(qe, Ye) | 0, v = Math.imul(qe, Xe), m = m + Math.imul(Ge, Ze) | 0, h = h + Math.imul(Ge, et) | 0, h = h + Math.imul(Ke, Ze) | 0, v = v + Math.imul(Ke, et) | 0, m = m + Math.imul(We, tt) | 0, h = h + Math.imul(We, rt) | 0, h = h + Math.imul(He, tt) | 0, v = v + Math.imul(He, rt) | 0, m = m + Math.imul(Ve, nt) | 0, h = h + Math.imul(Ve, it) | 0, h = h + Math.imul(je, nt) | 0, v = v + Math.imul(je, it) | 0, m = m + Math.imul(Fe, st) | 0, h = h + Math.imul(Fe, ot) | 0, h = h + Math.imul(Ue, st) | 0, v = v + Math.imul(Ue, ot) | 0, m = m + Math.imul(Z, at) | 0, h = h + Math.imul(Z, ct) | 0, h = h + Math.imul(ue, at) | 0, v = v + Math.imul(ue, ct) | 0, m = m + Math.imul(H, lt) | 0, h = h + Math.imul(H, ut) | 0, h = h + Math.imul(G, lt) | 0, v = v + Math.imul(G, ut) | 0, m = m + Math.imul(D, ht) | 0, h = h + Math.imul(D, ft) | 0, h = h + Math.imul(F, ht) | 0, v = v + Math.imul(F, ft) | 0, m = m + Math.imul(d, dt) | 0, h = h + Math.imul(d, pt) | 0, h = h + Math.imul(T, dt) | 0, v = v + Math.imul(T, pt) | 0;
      var Nh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Nh >>> 26) | 0, Nh &= 67108863, m = Math.imul(Qe, Ye), h = Math.imul(Qe, Xe), h = h + Math.imul(Je, Ye) | 0, v = Math.imul(Je, Xe), m = m + Math.imul(ze, Ze) | 0, h = h + Math.imul(ze, et) | 0, h = h + Math.imul(qe, Ze) | 0, v = v + Math.imul(qe, et) | 0, m = m + Math.imul(Ge, tt) | 0, h = h + Math.imul(Ge, rt) | 0, h = h + Math.imul(Ke, tt) | 0, v = v + Math.imul(Ke, rt) | 0, m = m + Math.imul(We, nt) | 0, h = h + Math.imul(We, it) | 0, h = h + Math.imul(He, nt) | 0, v = v + Math.imul(He, it) | 0, m = m + Math.imul(Ve, st) | 0, h = h + Math.imul(Ve, ot) | 0, h = h + Math.imul(je, st) | 0, v = v + Math.imul(je, ot) | 0, m = m + Math.imul(Fe, at) | 0, h = h + Math.imul(Fe, ct) | 0, h = h + Math.imul(Ue, at) | 0, v = v + Math.imul(Ue, ct) | 0, m = m + Math.imul(Z, lt) | 0, h = h + Math.imul(Z, ut) | 0, h = h + Math.imul(ue, lt) | 0, v = v + Math.imul(ue, ut) | 0, m = m + Math.imul(H, ht) | 0, h = h + Math.imul(H, ft) | 0, h = h + Math.imul(G, ht) | 0, v = v + Math.imul(G, ft) | 0, m = m + Math.imul(D, dt) | 0, h = h + Math.imul(D, pt) | 0, h = h + Math.imul(F, dt) | 0, v = v + Math.imul(F, pt) | 0, m = m + Math.imul(d, gt) | 0, h = h + Math.imul(d, mt) | 0, h = h + Math.imul(T, gt) | 0, v = v + Math.imul(T, mt) | 0;
      var Dh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Dh >>> 26) | 0, Dh &= 67108863, m = Math.imul(Qe, Ze), h = Math.imul(Qe, et), h = h + Math.imul(Je, Ze) | 0, v = Math.imul(Je, et), m = m + Math.imul(ze, tt) | 0, h = h + Math.imul(ze, rt) | 0, h = h + Math.imul(qe, tt) | 0, v = v + Math.imul(qe, rt) | 0, m = m + Math.imul(Ge, nt) | 0, h = h + Math.imul(Ge, it) | 0, h = h + Math.imul(Ke, nt) | 0, v = v + Math.imul(Ke, it) | 0, m = m + Math.imul(We, st) | 0, h = h + Math.imul(We, ot) | 0, h = h + Math.imul(He, st) | 0, v = v + Math.imul(He, ot) | 0, m = m + Math.imul(Ve, at) | 0, h = h + Math.imul(Ve, ct) | 0, h = h + Math.imul(je, at) | 0, v = v + Math.imul(je, ct) | 0, m = m + Math.imul(Fe, lt) | 0, h = h + Math.imul(Fe, ut) | 0, h = h + Math.imul(Ue, lt) | 0, v = v + Math.imul(Ue, ut) | 0, m = m + Math.imul(Z, ht) | 0, h = h + Math.imul(Z, ft) | 0, h = h + Math.imul(ue, ht) | 0, v = v + Math.imul(ue, ft) | 0, m = m + Math.imul(H, dt) | 0, h = h + Math.imul(H, pt) | 0, h = h + Math.imul(G, dt) | 0, v = v + Math.imul(G, pt) | 0, m = m + Math.imul(D, gt) | 0, h = h + Math.imul(D, mt) | 0, h = h + Math.imul(F, gt) | 0, v = v + Math.imul(F, mt) | 0;
      var Bh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Bh >>> 26) | 0, Bh &= 67108863, m = Math.imul(Qe, tt), h = Math.imul(Qe, rt), h = h + Math.imul(Je, tt) | 0, v = Math.imul(Je, rt), m = m + Math.imul(ze, nt) | 0, h = h + Math.imul(ze, it) | 0, h = h + Math.imul(qe, nt) | 0, v = v + Math.imul(qe, it) | 0, m = m + Math.imul(Ge, st) | 0, h = h + Math.imul(Ge, ot) | 0, h = h + Math.imul(Ke, st) | 0, v = v + Math.imul(Ke, ot) | 0, m = m + Math.imul(We, at) | 0, h = h + Math.imul(We, ct) | 0, h = h + Math.imul(He, at) | 0, v = v + Math.imul(He, ct) | 0, m = m + Math.imul(Ve, lt) | 0, h = h + Math.imul(Ve, ut) | 0, h = h + Math.imul(je, lt) | 0, v = v + Math.imul(je, ut) | 0, m = m + Math.imul(Fe, ht) | 0, h = h + Math.imul(Fe, ft) | 0, h = h + Math.imul(Ue, ht) | 0, v = v + Math.imul(Ue, ft) | 0, m = m + Math.imul(Z, dt) | 0, h = h + Math.imul(Z, pt) | 0, h = h + Math.imul(ue, dt) | 0, v = v + Math.imul(ue, pt) | 0, m = m + Math.imul(H, gt) | 0, h = h + Math.imul(H, mt) | 0, h = h + Math.imul(G, gt) | 0, v = v + Math.imul(G, mt) | 0;
      var $h = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + ($h >>> 26) | 0, $h &= 67108863, m = Math.imul(Qe, nt), h = Math.imul(Qe, it), h = h + Math.imul(Je, nt) | 0, v = Math.imul(Je, it), m = m + Math.imul(ze, st) | 0, h = h + Math.imul(ze, ot) | 0, h = h + Math.imul(qe, st) | 0, v = v + Math.imul(qe, ot) | 0, m = m + Math.imul(Ge, at) | 0, h = h + Math.imul(Ge, ct) | 0, h = h + Math.imul(Ke, at) | 0, v = v + Math.imul(Ke, ct) | 0, m = m + Math.imul(We, lt) | 0, h = h + Math.imul(We, ut) | 0, h = h + Math.imul(He, lt) | 0, v = v + Math.imul(He, ut) | 0, m = m + Math.imul(Ve, ht) | 0, h = h + Math.imul(Ve, ft) | 0, h = h + Math.imul(je, ht) | 0, v = v + Math.imul(je, ft) | 0, m = m + Math.imul(Fe, dt) | 0, h = h + Math.imul(Fe, pt) | 0, h = h + Math.imul(Ue, dt) | 0, v = v + Math.imul(Ue, pt) | 0, m = m + Math.imul(Z, gt) | 0, h = h + Math.imul(Z, mt) | 0, h = h + Math.imul(ue, gt) | 0, v = v + Math.imul(ue, mt) | 0;
      var Lh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Lh >>> 26) | 0, Lh &= 67108863, m = Math.imul(Qe, st), h = Math.imul(Qe, ot), h = h + Math.imul(Je, st) | 0, v = Math.imul(Je, ot), m = m + Math.imul(ze, at) | 0, h = h + Math.imul(ze, ct) | 0, h = h + Math.imul(qe, at) | 0, v = v + Math.imul(qe, ct) | 0, m = m + Math.imul(Ge, lt) | 0, h = h + Math.imul(Ge, ut) | 0, h = h + Math.imul(Ke, lt) | 0, v = v + Math.imul(Ke, ut) | 0, m = m + Math.imul(We, ht) | 0, h = h + Math.imul(We, ft) | 0, h = h + Math.imul(He, ht) | 0, v = v + Math.imul(He, ft) | 0, m = m + Math.imul(Ve, dt) | 0, h = h + Math.imul(Ve, pt) | 0, h = h + Math.imul(je, dt) | 0, v = v + Math.imul(je, pt) | 0, m = m + Math.imul(Fe, gt) | 0, h = h + Math.imul(Fe, mt) | 0, h = h + Math.imul(Ue, gt) | 0, v = v + Math.imul(Ue, mt) | 0;
      var Fh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Fh >>> 26) | 0, Fh &= 67108863, m = Math.imul(Qe, at), h = Math.imul(Qe, ct), h = h + Math.imul(Je, at) | 0, v = Math.imul(Je, ct), m = m + Math.imul(ze, lt) | 0, h = h + Math.imul(ze, ut) | 0, h = h + Math.imul(qe, lt) | 0, v = v + Math.imul(qe, ut) | 0, m = m + Math.imul(Ge, ht) | 0, h = h + Math.imul(Ge, ft) | 0, h = h + Math.imul(Ke, ht) | 0, v = v + Math.imul(Ke, ft) | 0, m = m + Math.imul(We, dt) | 0, h = h + Math.imul(We, pt) | 0, h = h + Math.imul(He, dt) | 0, v = v + Math.imul(He, pt) | 0, m = m + Math.imul(Ve, gt) | 0, h = h + Math.imul(Ve, mt) | 0, h = h + Math.imul(je, gt) | 0, v = v + Math.imul(je, mt) | 0;
      var Uh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Uh >>> 26) | 0, Uh &= 67108863, m = Math.imul(Qe, lt), h = Math.imul(Qe, ut), h = h + Math.imul(Je, lt) | 0, v = Math.imul(Je, ut), m = m + Math.imul(ze, ht) | 0, h = h + Math.imul(ze, ft) | 0, h = h + Math.imul(qe, ht) | 0, v = v + Math.imul(qe, ft) | 0, m = m + Math.imul(Ge, dt) | 0, h = h + Math.imul(Ge, pt) | 0, h = h + Math.imul(Ke, dt) | 0, v = v + Math.imul(Ke, pt) | 0, m = m + Math.imul(We, gt) | 0, h = h + Math.imul(We, mt) | 0, h = h + Math.imul(He, gt) | 0, v = v + Math.imul(He, mt) | 0;
      var Vh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Vh >>> 26) | 0, Vh &= 67108863, m = Math.imul(Qe, ht), h = Math.imul(Qe, ft), h = h + Math.imul(Je, ht) | 0, v = Math.imul(Je, ft), m = m + Math.imul(ze, dt) | 0, h = h + Math.imul(ze, pt) | 0, h = h + Math.imul(qe, dt) | 0, v = v + Math.imul(qe, pt) | 0, m = m + Math.imul(Ge, gt) | 0, h = h + Math.imul(Ge, mt) | 0, h = h + Math.imul(Ke, gt) | 0, v = v + Math.imul(Ke, mt) | 0;
      var jh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (jh >>> 26) | 0, jh &= 67108863, m = Math.imul(Qe, dt), h = Math.imul(Qe, pt), h = h + Math.imul(Je, dt) | 0, v = Math.imul(Je, pt), m = m + Math.imul(ze, gt) | 0, h = h + Math.imul(ze, mt) | 0, h = h + Math.imul(qe, gt) | 0, v = v + Math.imul(qe, mt) | 0;
      var Wh = (R + m | 0) + ((h & 8191) << 13) | 0;
      R = (v + (h >>> 13) | 0) + (Wh >>> 26) | 0, Wh &= 67108863, m = Math.imul(Qe, gt), h = Math.imul(Qe, mt), h = h + Math.imul(Je, gt) | 0, v = Math.imul(Je, mt);
      var Hh = (R + m | 0) + ((h & 8191) << 13) | 0;
      return R = (v + (h >>> 13) | 0) + (Hh >>> 26) | 0, Hh &= 67108863, P[0] = $i, P[1] = Li, P[2] = Fi, P[3] = Ui, P[4] = Vi, P[5] = Ih, P[6] = Mh, P[7] = Oh, P[8] = Nh, P[9] = Dh, P[10] = Bh, P[11] = $h, P[12] = Lh, P[13] = Fh, P[14] = Uh, P[15] = Vh, P[16] = jh, P[17] = Wh, P[18] = Hh, R !== 0 && (P[19] = R, x.length++), x;
    };
    Math.imul || (O = k);
    function L(_, u, g) {
      g.negative = u.negative ^ _.negative, g.length = _.length + u.length;
      for (var x = 0, y = 0, E = 0; E < g.length - 1; E++) {
        var P = y;
        y = 0;
        for (var R = x & 67108863, m = Math.min(E, u.length - 1), h = Math.max(0, E - _.length + 1); h <= m; h++) {
          var v = E - h, I = _.words[v] | 0, d = u.words[h] | 0, T = I * d, $ = T & 67108863;
          P = P + (T / 67108864 | 0) | 0, $ = $ + R | 0, R = $ & 67108863, P = P + ($ >>> 26) | 0, y += P >>> 26, P &= 67108863;
        }
        g.words[E] = R, x = P, P = y;
      }
      return x !== 0 ? g.words[E] = x : g.length--, g._strip();
    }
    function B(_, u, g) {
      return L(_, u, g);
    }
    s.prototype.mulTo = function(u, g) {
      var x, y = this.length + u.length;
      return this.length === 10 && u.length === 10 ? x = O(this, u, g) : y < 63 ? x = k(this, u, g) : y < 1024 ? x = L(this, u, g) : x = B(this, u, g), x;
    }, s.prototype.mul = function(u) {
      var g = new s(null);
      return g.words = new Array(this.length + u.length), this.mulTo(u, g);
    }, s.prototype.mulf = function(u) {
      var g = new s(null);
      return g.words = new Array(this.length + u.length), B(this, u, g);
    }, s.prototype.imul = function(u) {
      return this.clone().mulTo(u, this);
    }, s.prototype.imuln = function(u) {
      var g = u < 0;
      g && (u = -u), n(typeof u == "number"), n(u < 67108864);
      for (var x = 0, y = 0; y < this.length; y++) {
        var E = (this.words[y] | 0) * u, P = (E & 67108863) + (x & 67108863);
        x >>= 26, x += E / 67108864 | 0, x += P >>> 26, this.words[y] = P & 67108863;
      }
      return x !== 0 && (this.words[y] = x, this.length++), g ? this.ineg() : this;
    }, s.prototype.muln = function(u) {
      return this.clone().imuln(u);
    }, s.prototype.sqr = function() {
      return this.mul(this);
    }, s.prototype.isqr = function() {
      return this.imul(this.clone());
    }, s.prototype.pow = function(u) {
      var g = S(u);
      if (g.length === 0)
        return new s(1);
      for (var x = this, y = 0; y < g.length && g[y] === 0; y++, x = x.sqr())
        ;
      if (++y < g.length)
        for (var E = x.sqr(); y < g.length; y++, E = E.sqr())
          g[y] !== 0 && (x = x.mul(E));
      return x;
    }, s.prototype.iushln = function(u) {
      n(typeof u == "number" && u >= 0);
      var g = u % 26, x = (u - g) / 26, y = 67108863 >>> 26 - g << 26 - g, E;
      if (g !== 0) {
        var P = 0;
        for (E = 0; E < this.length; E++) {
          var R = this.words[E] & y, m = (this.words[E] | 0) - R << g;
          this.words[E] = m | P, P = R >>> 26 - g;
        }
        P && (this.words[E] = P, this.length++);
      }
      if (x !== 0) {
        for (E = this.length - 1; E >= 0; E--)
          this.words[E + x] = this.words[E];
        for (E = 0; E < x; E++)
          this.words[E] = 0;
        this.length += x;
      }
      return this._strip();
    }, s.prototype.ishln = function(u) {
      return n(this.negative === 0), this.iushln(u);
    }, s.prototype.iushrn = function(u, g, x) {
      n(typeof u == "number" && u >= 0);
      var y;
      g ? y = (g - g % 26) / 26 : y = 0;
      var E = u % 26, P = Math.min((u - E) / 26, this.length), R = 67108863 ^ 67108863 >>> E << E, m = x;
      if (y -= P, y = Math.max(0, y), m) {
        for (var h = 0; h < P; h++)
          m.words[h] = this.words[h];
        m.length = P;
      }
      if (P !== 0)
        if (this.length > P)
          for (this.length -= P, h = 0; h < this.length; h++)
            this.words[h] = this.words[h + P];
        else
          this.words[0] = 0, this.length = 1;
      var v = 0;
      for (h = this.length - 1; h >= 0 && (v !== 0 || h >= y); h--) {
        var I = this.words[h] | 0;
        this.words[h] = v << 26 - E | I >>> E, v = I & R;
      }
      return m && v !== 0 && (m.words[m.length++] = v), this.length === 0 && (this.words[0] = 0, this.length = 1), this._strip();
    }, s.prototype.ishrn = function(u, g, x) {
      return n(this.negative === 0), this.iushrn(u, g, x);
    }, s.prototype.shln = function(u) {
      return this.clone().ishln(u);
    }, s.prototype.ushln = function(u) {
      return this.clone().iushln(u);
    }, s.prototype.shrn = function(u) {
      return this.clone().ishrn(u);
    }, s.prototype.ushrn = function(u) {
      return this.clone().iushrn(u);
    }, s.prototype.testn = function(u) {
      n(typeof u == "number" && u >= 0);
      var g = u % 26, x = (u - g) / 26, y = 1 << g;
      if (this.length <= x)
        return !1;
      var E = this.words[x];
      return !!(E & y);
    }, s.prototype.imaskn = function(u) {
      n(typeof u == "number" && u >= 0);
      var g = u % 26, x = (u - g) / 26;
      if (n(this.negative === 0, "imaskn works only with positive numbers"), this.length <= x)
        return this;
      if (g !== 0 && x++, this.length = Math.min(x, this.length), g !== 0) {
        var y = 67108863 ^ 67108863 >>> g << g;
        this.words[this.length - 1] &= y;
      }
      return this._strip();
    }, s.prototype.maskn = function(u) {
      return this.clone().imaskn(u);
    }, s.prototype.iaddn = function(u) {
      return n(typeof u == "number"), n(u < 67108864), u < 0 ? this.isubn(-u) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) <= u ? (this.words[0] = u - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(u), this.negative = 1, this) : this._iaddn(u);
    }, s.prototype._iaddn = function(u) {
      this.words[0] += u;
      for (var g = 0; g < this.length && this.words[g] >= 67108864; g++)
        this.words[g] -= 67108864, g === this.length - 1 ? this.words[g + 1] = 1 : this.words[g + 1]++;
      return this.length = Math.max(this.length, g + 1), this;
    }, s.prototype.isubn = function(u) {
      if (n(typeof u == "number"), n(u < 67108864), u < 0)
        return this.iaddn(-u);
      if (this.negative !== 0)
        return this.negative = 0, this.iaddn(u), this.negative = 1, this;
      if (this.words[0] -= u, this.length === 1 && this.words[0] < 0)
        this.words[0] = -this.words[0], this.negative = 1;
      else
        for (var g = 0; g < this.length && this.words[g] < 0; g++)
          this.words[g] += 67108864, this.words[g + 1] -= 1;
      return this._strip();
    }, s.prototype.addn = function(u) {
      return this.clone().iaddn(u);
    }, s.prototype.subn = function(u) {
      return this.clone().isubn(u);
    }, s.prototype.iabs = function() {
      return this.negative = 0, this;
    }, s.prototype.abs = function() {
      return this.clone().iabs();
    }, s.prototype._ishlnsubmul = function(u, g, x) {
      var y = u.length + x, E;
      this._expand(y);
      var P, R = 0;
      for (E = 0; E < u.length; E++) {
        P = (this.words[E + x] | 0) + R;
        var m = (u.words[E] | 0) * g;
        P -= m & 67108863, R = (P >> 26) - (m / 67108864 | 0), this.words[E + x] = P & 67108863;
      }
      for (; E < this.length - x; E++)
        P = (this.words[E + x] | 0) + R, R = P >> 26, this.words[E + x] = P & 67108863;
      if (R === 0)
        return this._strip();
      for (n(R === -1), R = 0, E = 0; E < this.length; E++)
        P = -(this.words[E] | 0) + R, R = P >> 26, this.words[E] = P & 67108863;
      return this.negative = 1, this._strip();
    }, s.prototype._wordDiv = function(u, g) {
      var x = this.length - u.length, y = this.clone(), E = u, P = E.words[E.length - 1] | 0, R = this._countBits(P);
      x = 26 - R, x !== 0 && (E = E.ushln(x), y.iushln(x), P = E.words[E.length - 1] | 0);
      var m = y.length - E.length, h;
      if (g !== "mod") {
        h = new s(null), h.length = m + 1, h.words = new Array(h.length);
        for (var v = 0; v < h.length; v++)
          h.words[v] = 0;
      }
      var I = y.clone()._ishlnsubmul(E, 1, m);
      I.negative === 0 && (y = I, h && (h.words[m] = 1));
      for (var d = m - 1; d >= 0; d--) {
        var T = (y.words[E.length + d] | 0) * 67108864 + (y.words[E.length + d - 1] | 0);
        for (T = Math.min(T / P | 0, 67108863), y._ishlnsubmul(E, T, d); y.negative !== 0; )
          T--, y.negative = 0, y._ishlnsubmul(E, 1, d), y.isZero() || (y.negative ^= 1);
        h && (h.words[d] = T);
      }
      return h && h._strip(), y._strip(), g !== "div" && x !== 0 && y.iushrn(x), {
        div: h || null,
        mod: y
      };
    }, s.prototype.divmod = function(u, g, x) {
      if (n(!u.isZero()), this.isZero())
        return {
          div: new s(0),
          mod: new s(0)
        };
      var y, E, P;
      return this.negative !== 0 && u.negative === 0 ? (P = this.neg().divmod(u, g), g !== "mod" && (y = P.div.neg()), g !== "div" && (E = P.mod.neg(), x && E.negative !== 0 && E.iadd(u)), {
        div: y,
        mod: E
      }) : this.negative === 0 && u.negative !== 0 ? (P = this.divmod(u.neg(), g), g !== "mod" && (y = P.div.neg()), {
        div: y,
        mod: P.mod
      }) : (this.negative & u.negative) !== 0 ? (P = this.neg().divmod(u.neg(), g), g !== "div" && (E = P.mod.neg(), x && E.negative !== 0 && E.isub(u)), {
        div: P.div,
        mod: E
      }) : u.length > this.length || this.cmp(u) < 0 ? {
        div: new s(0),
        mod: this
      } : u.length === 1 ? g === "div" ? {
        div: this.divn(u.words[0]),
        mod: null
      } : g === "mod" ? {
        div: null,
        mod: new s(this.modrn(u.words[0]))
      } : {
        div: this.divn(u.words[0]),
        mod: new s(this.modrn(u.words[0]))
      } : this._wordDiv(u, g);
    }, s.prototype.div = function(u) {
      return this.divmod(u, "div", !1).div;
    }, s.prototype.mod = function(u) {
      return this.divmod(u, "mod", !1).mod;
    }, s.prototype.umod = function(u) {
      return this.divmod(u, "mod", !0).mod;
    }, s.prototype.divRound = function(u) {
      var g = this.divmod(u);
      if (g.mod.isZero())
        return g.div;
      var x = g.div.negative !== 0 ? g.mod.isub(u) : g.mod, y = u.ushrn(1), E = u.andln(1), P = x.cmp(y);
      return P < 0 || E === 1 && P === 0 ? g.div : g.div.negative !== 0 ? g.div.isubn(1) : g.div.iaddn(1);
    }, s.prototype.modrn = function(u) {
      var g = u < 0;
      g && (u = -u), n(u <= 67108863);
      for (var x = (1 << 26) % u, y = 0, E = this.length - 1; E >= 0; E--)
        y = (x * y + (this.words[E] | 0)) % u;
      return g ? -y : y;
    }, s.prototype.modn = function(u) {
      return this.modrn(u);
    }, s.prototype.idivn = function(u) {
      var g = u < 0;
      g && (u = -u), n(u <= 67108863);
      for (var x = 0, y = this.length - 1; y >= 0; y--) {
        var E = (this.words[y] | 0) + x * 67108864;
        this.words[y] = E / u | 0, x = E % u;
      }
      return this._strip(), g ? this.ineg() : this;
    }, s.prototype.divn = function(u) {
      return this.clone().idivn(u);
    }, s.prototype.egcd = function(u) {
      n(u.negative === 0), n(!u.isZero());
      var g = this, x = u.clone();
      g.negative !== 0 ? g = g.umod(u) : g = g.clone();
      for (var y = new s(1), E = new s(0), P = new s(0), R = new s(1), m = 0; g.isEven() && x.isEven(); )
        g.iushrn(1), x.iushrn(1), ++m;
      for (var h = x.clone(), v = g.clone(); !g.isZero(); ) {
        for (var I = 0, d = 1; (g.words[0] & d) === 0 && I < 26; ++I, d <<= 1)
          ;
        if (I > 0)
          for (g.iushrn(I); I-- > 0; )
            (y.isOdd() || E.isOdd()) && (y.iadd(h), E.isub(v)), y.iushrn(1), E.iushrn(1);
        for (var T = 0, $ = 1; (x.words[0] & $) === 0 && T < 26; ++T, $ <<= 1)
          ;
        if (T > 0)
          for (x.iushrn(T); T-- > 0; )
            (P.isOdd() || R.isOdd()) && (P.iadd(h), R.isub(v)), P.iushrn(1), R.iushrn(1);
        g.cmp(x) >= 0 ? (g.isub(x), y.isub(P), E.isub(R)) : (x.isub(g), P.isub(y), R.isub(E));
      }
      return {
        a: P,
        b: R,
        gcd: x.iushln(m)
      };
    }, s.prototype._invmp = function(u) {
      n(u.negative === 0), n(!u.isZero());
      var g = this, x = u.clone();
      g.negative !== 0 ? g = g.umod(u) : g = g.clone();
      for (var y = new s(1), E = new s(0), P = x.clone(); g.cmpn(1) > 0 && x.cmpn(1) > 0; ) {
        for (var R = 0, m = 1; (g.words[0] & m) === 0 && R < 26; ++R, m <<= 1)
          ;
        if (R > 0)
          for (g.iushrn(R); R-- > 0; )
            y.isOdd() && y.iadd(P), y.iushrn(1);
        for (var h = 0, v = 1; (x.words[0] & v) === 0 && h < 26; ++h, v <<= 1)
          ;
        if (h > 0)
          for (x.iushrn(h); h-- > 0; )
            E.isOdd() && E.iadd(P), E.iushrn(1);
        g.cmp(x) >= 0 ? (g.isub(x), y.isub(E)) : (x.isub(g), E.isub(y));
      }
      var I;
      return g.cmpn(1) === 0 ? I = y : I = E, I.cmpn(0) < 0 && I.iadd(u), I;
    }, s.prototype.gcd = function(u) {
      if (this.isZero())
        return u.abs();
      if (u.isZero())
        return this.abs();
      var g = this.clone(), x = u.clone();
      g.negative = 0, x.negative = 0;
      for (var y = 0; g.isEven() && x.isEven(); y++)
        g.iushrn(1), x.iushrn(1);
      do {
        for (; g.isEven(); )
          g.iushrn(1);
        for (; x.isEven(); )
          x.iushrn(1);
        var E = g.cmp(x);
        if (E < 0) {
          var P = g;
          g = x, x = P;
        } else if (E === 0 || x.cmpn(1) === 0)
          break;
        g.isub(x);
      } while (!0);
      return x.iushln(y);
    }, s.prototype.invm = function(u) {
      return this.egcd(u).a.umod(u);
    }, s.prototype.isEven = function() {
      return (this.words[0] & 1) === 0;
    }, s.prototype.isOdd = function() {
      return (this.words[0] & 1) === 1;
    }, s.prototype.andln = function(u) {
      return this.words[0] & u;
    }, s.prototype.bincn = function(u) {
      n(typeof u == "number");
      var g = u % 26, x = (u - g) / 26, y = 1 << g;
      if (this.length <= x)
        return this._expand(x + 1), this.words[x] |= y, this;
      for (var E = y, P = x; E !== 0 && P < this.length; P++) {
        var R = this.words[P] | 0;
        R += E, E = R >>> 26, R &= 67108863, this.words[P] = R;
      }
      return E !== 0 && (this.words[P] = E, this.length++), this;
    }, s.prototype.isZero = function() {
      return this.length === 1 && this.words[0] === 0;
    }, s.prototype.cmpn = function(u) {
      var g = u < 0;
      if (this.negative !== 0 && !g)
        return -1;
      if (this.negative === 0 && g)
        return 1;
      this._strip();
      var x;
      if (this.length > 1)
        x = 1;
      else {
        g && (u = -u), n(u <= 67108863, "Number is too big");
        var y = this.words[0] | 0;
        x = y === u ? 0 : y < u ? -1 : 1;
      }
      return this.negative !== 0 ? -x | 0 : x;
    }, s.prototype.cmp = function(u) {
      if (this.negative !== 0 && u.negative === 0)
        return -1;
      if (this.negative === 0 && u.negative !== 0)
        return 1;
      var g = this.ucmp(u);
      return this.negative !== 0 ? -g | 0 : g;
    }, s.prototype.ucmp = function(u) {
      if (this.length > u.length)
        return 1;
      if (this.length < u.length)
        return -1;
      for (var g = 0, x = this.length - 1; x >= 0; x--) {
        var y = this.words[x] | 0, E = u.words[x] | 0;
        if (y !== E) {
          y < E ? g = -1 : y > E && (g = 1);
          break;
        }
      }
      return g;
    }, s.prototype.gtn = function(u) {
      return this.cmpn(u) === 1;
    }, s.prototype.gt = function(u) {
      return this.cmp(u) === 1;
    }, s.prototype.gten = function(u) {
      return this.cmpn(u) >= 0;
    }, s.prototype.gte = function(u) {
      return this.cmp(u) >= 0;
    }, s.prototype.ltn = function(u) {
      return this.cmpn(u) === -1;
    }, s.prototype.lt = function(u) {
      return this.cmp(u) === -1;
    }, s.prototype.lten = function(u) {
      return this.cmpn(u) <= 0;
    }, s.prototype.lte = function(u) {
      return this.cmp(u) <= 0;
    }, s.prototype.eqn = function(u) {
      return this.cmpn(u) === 0;
    }, s.prototype.eq = function(u) {
      return this.cmp(u) === 0;
    }, s.red = function(u) {
      return new ee(u);
    }, s.prototype.toRed = function(u) {
      return n(!this.red, "Already a number in reduction context"), n(this.negative === 0, "red works only with positives"), u.convertTo(this)._forceRed(u);
    }, s.prototype.fromRed = function() {
      return n(this.red, "fromRed works only with numbers in reduction context"), this.red.convertFrom(this);
    }, s.prototype._forceRed = function(u) {
      return this.red = u, this;
    }, s.prototype.forceRed = function(u) {
      return n(!this.red, "Already a number in reduction context"), this._forceRed(u);
    }, s.prototype.redAdd = function(u) {
      return n(this.red, "redAdd works only with red numbers"), this.red.add(this, u);
    }, s.prototype.redIAdd = function(u) {
      return n(this.red, "redIAdd works only with red numbers"), this.red.iadd(this, u);
    }, s.prototype.redSub = function(u) {
      return n(this.red, "redSub works only with red numbers"), this.red.sub(this, u);
    }, s.prototype.redISub = function(u) {
      return n(this.red, "redISub works only with red numbers"), this.red.isub(this, u);
    }, s.prototype.redShl = function(u) {
      return n(this.red, "redShl works only with red numbers"), this.red.shl(this, u);
    }, s.prototype.redMul = function(u) {
      return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, u), this.red.mul(this, u);
    }, s.prototype.redIMul = function(u) {
      return n(this.red, "redMul works only with red numbers"), this.red._verify2(this, u), this.red.imul(this, u);
    }, s.prototype.redSqr = function() {
      return n(this.red, "redSqr works only with red numbers"), this.red._verify1(this), this.red.sqr(this);
    }, s.prototype.redISqr = function() {
      return n(this.red, "redISqr works only with red numbers"), this.red._verify1(this), this.red.isqr(this);
    }, s.prototype.redSqrt = function() {
      return n(this.red, "redSqrt works only with red numbers"), this.red._verify1(this), this.red.sqrt(this);
    }, s.prototype.redInvm = function() {
      return n(this.red, "redInvm works only with red numbers"), this.red._verify1(this), this.red.invm(this);
    }, s.prototype.redNeg = function() {
      return n(this.red, "redNeg works only with red numbers"), this.red._verify1(this), this.red.neg(this);
    }, s.prototype.redPow = function(u) {
      return n(this.red && !u.red, "redPow(normalNum)"), this.red._verify1(this), this.red.pow(this, u);
    };
    var N = {
      k256: null,
      p224: null,
      p192: null,
      p25519: null
    };
    function j(_, u) {
      this.name = _, this.p = new s(u, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();
    }
    j.prototype._tmp = function() {
      var u = new s(null);
      return u.words = new Array(Math.ceil(this.n / 13)), u;
    }, j.prototype.ireduce = function(u) {
      var g = u, x;
      do
        this.split(g, this.tmp), g = this.imulK(g), g = g.iadd(this.tmp), x = g.bitLength();
      while (x > this.n);
      var y = x < this.n ? -1 : g.ucmp(this.p);
      return y === 0 ? (g.words[0] = 0, g.length = 1) : y > 0 ? g.isub(this.p) : g.strip !== void 0 ? g.strip() : g._strip(), g;
    }, j.prototype.split = function(u, g) {
      u.iushrn(this.n, 0, g);
    }, j.prototype.imulK = function(u) {
      return u.imul(this.k);
    };
    function q() {
      j.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    i(q, j), q.prototype.split = function(u, g) {
      for (var x = 4194303, y = Math.min(u.length, 9), E = 0; E < y; E++)
        g.words[E] = u.words[E];
      if (g.length = y, u.length <= 9) {
        u.words[0] = 0, u.length = 1;
        return;
      }
      var P = u.words[9];
      for (g.words[g.length++] = P & x, E = 10; E < u.length; E++) {
        var R = u.words[E] | 0;
        u.words[E - 10] = (R & x) << 4 | P >>> 22, P = R;
      }
      P >>>= 22, u.words[E - 10] = P, P === 0 && u.length > 10 ? u.length -= 10 : u.length -= 9;
    }, q.prototype.imulK = function(u) {
      u.words[u.length] = 0, u.words[u.length + 1] = 0, u.length += 2;
      for (var g = 0, x = 0; x < u.length; x++) {
        var y = u.words[x] | 0;
        g += y * 977, u.words[x] = g & 67108863, g = y * 64 + (g / 67108864 | 0);
      }
      return u.words[u.length - 1] === 0 && (u.length--, u.words[u.length - 1] === 0 && u.length--), u;
    };
    function K() {
      j.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    i(K, j);
    function X() {
      j.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    i(X, j);
    function ce() {
      j.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    i(ce, j), ce.prototype.imulK = function(u) {
      for (var g = 0, x = 0; x < u.length; x++) {
        var y = (u.words[x] | 0) * 19 + g, E = y & 67108863;
        y >>>= 26, u.words[x] = E, g = y;
      }
      return g !== 0 && (u.words[u.length++] = g), u;
    }, s._prime = function(u) {
      if (N[u])
        return N[u];
      var g;
      if (u === "k256")
        g = new q();
      else if (u === "p224")
        g = new K();
      else if (u === "p192")
        g = new X();
      else if (u === "p25519")
        g = new ce();
      else
        throw new Error("Unknown prime " + u);
      return N[u] = g, g;
    };
    function ee(_) {
      if (typeof _ == "string") {
        var u = s._prime(_);
        this.m = u.p, this.prime = u;
      } else
        n(_.gtn(1), "modulus must be greater than 1"), this.m = _, this.prime = null;
    }
    ee.prototype._verify1 = function(u) {
      n(u.negative === 0, "red works only with positives"), n(u.red, "red works only with red numbers");
    }, ee.prototype._verify2 = function(u, g) {
      n((u.negative | g.negative) === 0, "red works only with positives"), n(
        u.red && u.red === g.red,
        "red works only with red numbers"
      );
    }, ee.prototype.imod = function(u) {
      return this.prime ? this.prime.ireduce(u)._forceRed(this) : (f(u, u.umod(this.m)._forceRed(this)), u);
    }, ee.prototype.neg = function(u) {
      return u.isZero() ? u.clone() : this.m.sub(u)._forceRed(this);
    }, ee.prototype.add = function(u, g) {
      this._verify2(u, g);
      var x = u.add(g);
      return x.cmp(this.m) >= 0 && x.isub(this.m), x._forceRed(this);
    }, ee.prototype.iadd = function(u, g) {
      this._verify2(u, g);
      var x = u.iadd(g);
      return x.cmp(this.m) >= 0 && x.isub(this.m), x;
    }, ee.prototype.sub = function(u, g) {
      this._verify2(u, g);
      var x = u.sub(g);
      return x.cmpn(0) < 0 && x.iadd(this.m), x._forceRed(this);
    }, ee.prototype.isub = function(u, g) {
      this._verify2(u, g);
      var x = u.isub(g);
      return x.cmpn(0) < 0 && x.iadd(this.m), x;
    }, ee.prototype.shl = function(u, g) {
      return this._verify1(u), this.imod(u.ushln(g));
    }, ee.prototype.imul = function(u, g) {
      return this._verify2(u, g), this.imod(u.imul(g));
    }, ee.prototype.mul = function(u, g) {
      return this._verify2(u, g), this.imod(u.mul(g));
    }, ee.prototype.isqr = function(u) {
      return this.imul(u, u.clone());
    }, ee.prototype.sqr = function(u) {
      return this.mul(u, u);
    }, ee.prototype.sqrt = function(u) {
      if (u.isZero())
        return u.clone();
      var g = this.m.andln(3);
      if (n(g % 2 === 1), g === 3) {
        var x = this.m.add(new s(1)).iushrn(2);
        return this.pow(u, x);
      }
      for (var y = this.m.subn(1), E = 0; !y.isZero() && y.andln(1) === 0; )
        E++, y.iushrn(1);
      n(!y.isZero());
      var P = new s(1).toRed(this), R = P.redNeg(), m = this.m.subn(1).iushrn(1), h = this.m.bitLength();
      for (h = new s(2 * h * h).toRed(this); this.pow(h, m).cmp(R) !== 0; )
        h.redIAdd(R);
      for (var v = this.pow(h, y), I = this.pow(u, y.addn(1).iushrn(1)), d = this.pow(u, y), T = E; d.cmp(P) !== 0; ) {
        for (var $ = d, D = 0; $.cmp(P) !== 0; D++)
          $ = $.redSqr();
        n(D < T);
        var F = this.pow(v, new s(1).iushln(T - D - 1));
        I = I.redMul(F), v = F.redSqr(), d = d.redMul(v), T = D;
      }
      return I;
    }, ee.prototype.invm = function(u) {
      var g = u._invmp(this.m);
      return g.negative !== 0 ? (g.negative = 0, this.imod(g).redNeg()) : this.imod(g);
    }, ee.prototype.pow = function(u, g) {
      if (g.isZero())
        return new s(1).toRed(this);
      if (g.cmpn(1) === 0)
        return u.clone();
      var x = 4, y = new Array(1 << x);
      y[0] = new s(1).toRed(this), y[1] = u;
      for (var E = 2; E < y.length; E++)
        y[E] = this.mul(y[E - 1], u);
      var P = y[0], R = 0, m = 0, h = g.bitLength() % 26;
      for (h === 0 && (h = 26), E = g.length - 1; E >= 0; E--) {
        for (var v = g.words[E], I = h - 1; I >= 0; I--) {
          var d = v >> I & 1;
          if (P !== y[0] && (P = this.sqr(P)), d === 0 && R === 0) {
            m = 0;
            continue;
          }
          R <<= 1, R |= d, m++, !(m !== x && (E !== 0 || I !== 0)) && (P = this.mul(P, y[R]), m = 0, R = 0);
        }
        h = 26;
      }
      return P;
    }, ee.prototype.convertTo = function(u) {
      var g = u.umod(this.m);
      return g === u ? g.clone() : g;
    }, ee.prototype.convertFrom = function(u) {
      var g = u.clone();
      return g.red = null, g;
    }, s.mont = function(u) {
      return new be(u);
    };
    function be(_) {
      ee.call(this, _), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);
    }
    i(be, ee), be.prototype.convertTo = function(u) {
      return this.imod(u.ushln(this.shift));
    }, be.prototype.convertFrom = function(u) {
      var g = this.imod(u.mul(this.rinv));
      return g.red = null, g;
    }, be.prototype.imul = function(u, g) {
      if (u.isZero() || g.isZero())
        return u.words[0] = 0, u.length = 1, u;
      var x = u.imul(g), y = x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), E = x.isub(y).iushrn(this.shift), P = E;
      return E.cmp(this.m) >= 0 ? P = E.isub(this.m) : E.cmpn(0) < 0 && (P = E.iadd(this.m)), P._forceRed(this);
    }, be.prototype.mul = function(u, g) {
      if (u.isZero() || g.isZero())
        return new s(0)._forceRed(this);
      var x = u.mul(g), y = x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), E = x.isub(y).iushrn(this.shift), P = E;
      return E.cmp(this.m) >= 0 ? P = E.isub(this.m) : E.cmpn(0) < 0 && (P = E.iadd(this.m)), P._forceRed(this);
    }, be.prototype.invm = function(u) {
      var g = this.imod(u._invmp(this.m).mul(this.r2));
      return g._forceRed(this);
    };
  })(r, my);
})(by);
const he = by.exports, OS = "logger/5.7.0";
let ob = !1, ab = !1;
const Vl = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let cb = Vl.default, df = null;
function NS() {
  try {
    const r = [];
    if (["NFD", "NFC", "NFKD", "NFKC"].forEach((e) => {
      try {
        if ("test".normalize(e) !== "test")
          throw new Error("bad normalize");
      } catch {
        r.push(e);
      }
    }), r.length)
      throw new Error("missing " + r.join(", "));
    if (String.fromCharCode(233).normalize("NFD") !== String.fromCharCode(101, 769))
      throw new Error("broken implementation");
  } catch (r) {
    return r.message;
  }
  return null;
}
const lb = NS();
var pd;
(function(r) {
  r.DEBUG = "DEBUG", r.INFO = "INFO", r.WARNING = "WARNING", r.ERROR = "ERROR", r.OFF = "OFF";
})(pd || (pd = {}));
var mn;
(function(r) {
  r.UNKNOWN_ERROR = "UNKNOWN_ERROR", r.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", r.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", r.NETWORK_ERROR = "NETWORK_ERROR", r.SERVER_ERROR = "SERVER_ERROR", r.TIMEOUT = "TIMEOUT", r.BUFFER_OVERRUN = "BUFFER_OVERRUN", r.NUMERIC_FAULT = "NUMERIC_FAULT", r.MISSING_NEW = "MISSING_NEW", r.INVALID_ARGUMENT = "INVALID_ARGUMENT", r.MISSING_ARGUMENT = "MISSING_ARGUMENT", r.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", r.CALL_EXCEPTION = "CALL_EXCEPTION", r.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", r.NONCE_EXPIRED = "NONCE_EXPIRED", r.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", r.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", r.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", r.ACTION_REJECTED = "ACTION_REJECTED";
})(mn || (mn = {}));
const ub = "0123456789abcdef";
class M {
  constructor(e) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: e,
      writable: !1
    });
  }
  _log(e, t) {
    const n = e.toLowerCase();
    Vl[n] == null && this.throwArgumentError("invalid log level name", "logLevel", e), !(cb > Vl[n]) && console.log.apply(console, t);
  }
  debug(...e) {
    this._log(M.levels.DEBUG, e);
  }
  info(...e) {
    this._log(M.levels.INFO, e);
  }
  warn(...e) {
    this._log(M.levels.WARNING, e);
  }
  makeError(e, t, n) {
    if (ab)
      return this.makeError("censored error", t, {});
    t || (t = M.errors.UNKNOWN_ERROR), n || (n = {});
    const i = [];
    Object.keys(n).forEach((c) => {
      const l = n[c];
      try {
        if (l instanceof Uint8Array) {
          let f = "";
          for (let p = 0; p < l.length; p++)
            f += ub[l[p] >> 4], f += ub[l[p] & 15];
          i.push(c + "=Uint8Array(0x" + f + ")");
        } else
          i.push(c + "=" + JSON.stringify(l));
      } catch {
        i.push(c + "=" + JSON.stringify(n[c].toString()));
      }
    }), i.push(`code=${t}`), i.push(`version=${this.version}`);
    const s = e;
    let o = "";
    switch (t) {
      case mn.NUMERIC_FAULT: {
        o = "NUMERIC_FAULT";
        const c = e;
        switch (c) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            o += "-" + c;
            break;
          case "negative-power":
          case "negative-width":
            o += "-unsupported";
            break;
          case "unbound-bitwise-result":
            o += "-unbound-result";
            break;
        }
        break;
      }
      case mn.CALL_EXCEPTION:
      case mn.INSUFFICIENT_FUNDS:
      case mn.MISSING_NEW:
      case mn.NONCE_EXPIRED:
      case mn.REPLACEMENT_UNDERPRICED:
      case mn.TRANSACTION_REPLACED:
      case mn.UNPREDICTABLE_GAS_LIMIT:
        o = t;
        break;
    }
    o && (e += " [ See: https://links.ethers.org/v5-errors-" + o + " ]"), i.length && (e += " (" + i.join(", ") + ")");
    const a = new Error(e);
    return a.reason = s, a.code = t, Object.keys(n).forEach(function(c) {
      a[c] = n[c];
    }), a;
  }
  throwError(e, t, n) {
    throw this.makeError(e, t, n);
  }
  throwArgumentError(e, t, n) {
    return this.throwError(e, M.errors.INVALID_ARGUMENT, {
      argument: t,
      value: n
    });
  }
  assert(e, t, n, i) {
    e || this.throwError(t, n, i);
  }
  assertArgument(e, t, n, i) {
    e || this.throwArgumentError(t, n, i);
  }
  checkNormalize(e) {
    lb && this.throwError("platform missing String.prototype.normalize", M.errors.UNSUPPORTED_OPERATION, {
      operation: "String.prototype.normalize",
      form: lb
    });
  }
  checkSafeUint53(e, t) {
    typeof e == "number" && (t == null && (t = "value not safe"), (e < 0 || e >= 9007199254740991) && this.throwError(t, M.errors.NUMERIC_FAULT, {
      operation: "checkSafeInteger",
      fault: "out-of-safe-range",
      value: e
    }), e % 1 && this.throwError(t, M.errors.NUMERIC_FAULT, {
      operation: "checkSafeInteger",
      fault: "non-integer",
      value: e
    }));
  }
  checkArgumentCount(e, t, n) {
    n ? n = ": " + n : n = "", e < t && this.throwError("missing argument" + n, M.errors.MISSING_ARGUMENT, {
      count: e,
      expectedCount: t
    }), e > t && this.throwError("too many arguments" + n, M.errors.UNEXPECTED_ARGUMENT, {
      count: e,
      expectedCount: t
    });
  }
  checkNew(e, t) {
    (e === Object || e == null) && this.throwError("missing new", M.errors.MISSING_NEW, { name: t.name });
  }
  checkAbstract(e, t) {
    e === t ? this.throwError("cannot instantiate abstract class " + JSON.stringify(t.name) + " directly; use a sub-class", M.errors.UNSUPPORTED_OPERATION, { name: e.name, operation: "new" }) : (e === Object || e == null) && this.throwError("missing new", M.errors.MISSING_NEW, { name: t.name });
  }
  static globalLogger() {
    return df || (df = new M(OS)), df;
  }
  static setCensorship(e, t) {
    if (!e && t && this.globalLogger().throwError("cannot permanently disable censorship", M.errors.UNSUPPORTED_OPERATION, {
      operation: "setCensorship"
    }), ob) {
      if (!e)
        return;
      this.globalLogger().throwError("error censorship permanent", M.errors.UNSUPPORTED_OPERATION, {
        operation: "setCensorship"
      });
    }
    ab = !!e, ob = !!t;
  }
  static setLogLevel(e) {
    const t = Vl[e.toLowerCase()];
    if (t == null) {
      M.globalLogger().warn("invalid log level - " + e);
      return;
    }
    cb = t;
  }
  static from(e) {
    return new M(e);
  }
}
M.errors = mn;
M.levels = pd;
const DS = "bytes/5.7.0", Et = new M(DS);
function xy(r) {
  return !!r.toHexString;
}
function Bo(r) {
  return r.slice || (r.slice = function() {
    const e = Array.prototype.slice.call(arguments);
    return Bo(new Uint8Array(Array.prototype.slice.apply(r, e)));
  }), r;
}
function $0(r) {
  return ke(r) && !(r.length % 2) || ma(r);
}
function hb(r) {
  return typeof r == "number" && r == r && r % 1 === 0;
}
function ma(r) {
  if (r == null)
    return !1;
  if (r.constructor === Uint8Array)
    return !0;
  if (typeof r == "string" || !hb(r.length) || r.length < 0)
    return !1;
  for (let e = 0; e < r.length; e++) {
    const t = r[e];
    if (!hb(t) || t < 0 || t >= 256)
      return !1;
  }
  return !0;
}
function oe(r, e) {
  if (e || (e = {}), typeof r == "number") {
    Et.checkSafeUint53(r, "invalid arrayify value");
    const t = [];
    for (; r; )
      t.unshift(r & 255), r = parseInt(String(r / 256));
    return t.length === 0 && t.push(0), Bo(new Uint8Array(t));
  }
  if (e.allowMissingPrefix && typeof r == "string" && r.substring(0, 2) !== "0x" && (r = "0x" + r), xy(r) && (r = r.toHexString()), ke(r)) {
    let t = r.substring(2);
    t.length % 2 && (e.hexPad === "left" ? t = "0" + t : e.hexPad === "right" ? t += "0" : Et.throwArgumentError("hex data is odd-length", "value", r));
    const n = [];
    for (let i = 0; i < t.length; i += 2)
      n.push(parseInt(t.substring(i, i + 2), 16));
    return Bo(new Uint8Array(n));
  }
  return ma(r) ? Bo(new Uint8Array(r)) : Et.throwArgumentError("invalid arrayify value", "value", r);
}
function jr(r) {
  const e = r.map((i) => oe(i)), t = e.reduce((i, s) => i + s.length, 0), n = new Uint8Array(t);
  return e.reduce((i, s) => (n.set(s, i), i + s.length), 0), Bo(n);
}
function zo(r) {
  let e = oe(r);
  if (e.length === 0)
    return e;
  let t = 0;
  for (; t < e.length && e[t] === 0; )
    t++;
  return t && (e = e.slice(t)), e;
}
function BS(r, e) {
  r = oe(r), r.length > e && Et.throwArgumentError("value out of range", "value", arguments[0]);
  const t = new Uint8Array(e);
  return t.set(r, e - r.length), Bo(t);
}
function ke(r, e) {
  return !(typeof r != "string" || !r.match(/^0x[0-9A-Fa-f]*$/) || e && r.length !== 2 + 2 * e);
}
const pf = "0123456789abcdef";
function re(r, e) {
  if (e || (e = {}), typeof r == "number") {
    Et.checkSafeUint53(r, "invalid hexlify value");
    let t = "";
    for (; r; )
      t = pf[r & 15] + t, r = Math.floor(r / 16);
    return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00";
  }
  if (typeof r == "bigint")
    return r = r.toString(16), r.length % 2 ? "0x0" + r : "0x" + r;
  if (e.allowMissingPrefix && typeof r == "string" && r.substring(0, 2) !== "0x" && (r = "0x" + r), xy(r))
    return r.toHexString();
  if (ke(r))
    return r.length % 2 && (e.hexPad === "left" ? r = "0x0" + r.substring(2) : e.hexPad === "right" ? r += "0" : Et.throwArgumentError("hex data is odd-length", "value", r)), r.toLowerCase();
  if (ma(r)) {
    let t = "0x";
    for (let n = 0; n < r.length; n++) {
      let i = r[n];
      t += pf[(i & 240) >> 4] + pf[i & 15];
    }
    return t;
  }
  return Et.throwArgumentError("invalid hexlify value", "value", r);
}
function zs(r) {
  if (typeof r != "string")
    r = re(r);
  else if (!ke(r) || r.length % 2)
    return null;
  return (r.length - 2) / 2;
}
function nr(r, e, t) {
  return typeof r != "string" ? r = re(r) : (!ke(r) || r.length % 2) && Et.throwArgumentError("invalid hexData", "value", r), e = 2 + 2 * e, t != null ? "0x" + r.substring(e, 2 + 2 * t) : "0x" + r.substring(e);
}
function Er(r) {
  let e = "0x";
  return r.forEach((t) => {
    e += re(t).substring(2);
  }), e;
}
function L0(r) {
  const e = $S(re(r, { hexPad: "left" }));
  return e === "0x" ? "0x0" : e;
}
function $S(r) {
  typeof r != "string" && (r = re(r)), ke(r) || Et.throwArgumentError("invalid hex string", "value", r), r = r.substring(2);
  let e = 0;
  for (; e < r.length && r[e] === "0"; )
    e++;
  return "0x" + r.substring(e);
}
function Le(r, e) {
  for (typeof r != "string" ? r = re(r) : ke(r) || Et.throwArgumentError("invalid hex string", "value", r), r.length > 2 * e + 2 && Et.throwArgumentError("value out of range", "value", arguments[1]); r.length < 2 * e + 2; )
    r = "0x0" + r.substring(2);
  return r;
}
function lh(r) {
  const e = {
    r: "0x",
    s: "0x",
    _vs: "0x",
    recoveryParam: 0,
    v: 0,
    yParityAndS: "0x",
    compact: "0x"
  };
  if ($0(r)) {
    let t = oe(r);
    t.length === 64 ? (e.v = 27 + (t[32] >> 7), t[32] &= 127, e.r = re(t.slice(0, 32)), e.s = re(t.slice(32, 64))) : t.length === 65 ? (e.r = re(t.slice(0, 32)), e.s = re(t.slice(32, 64)), e.v = t[64]) : Et.throwArgumentError("invalid signature string", "signature", r), e.v < 27 && (e.v === 0 || e.v === 1 ? e.v += 27 : Et.throwArgumentError("signature invalid v byte", "signature", r)), e.recoveryParam = 1 - e.v % 2, e.recoveryParam && (t[32] |= 128), e._vs = re(t.slice(32, 64));
  } else {
    if (e.r = r.r, e.s = r.s, e.v = r.v, e.recoveryParam = r.recoveryParam, e._vs = r._vs, e._vs != null) {
      const i = BS(oe(e._vs), 32);
      e._vs = re(i);
      const s = i[0] >= 128 ? 1 : 0;
      e.recoveryParam == null ? e.recoveryParam = s : e.recoveryParam !== s && Et.throwArgumentError("signature recoveryParam mismatch _vs", "signature", r), i[0] &= 127;
      const o = re(i);
      e.s == null ? e.s = o : e.s !== o && Et.throwArgumentError("signature v mismatch _vs", "signature", r);
    }
    if (e.recoveryParam == null)
      e.v == null ? Et.throwArgumentError("signature missing v and recoveryParam", "signature", r) : e.v === 0 || e.v === 1 ? e.recoveryParam = e.v : e.recoveryParam = 1 - e.v % 2;
    else if (e.v == null)
      e.v = 27 + e.recoveryParam;
    else {
      const i = e.v === 0 || e.v === 1 ? e.v : 1 - e.v % 2;
      e.recoveryParam !== i && Et.throwArgumentError("signature recoveryParam mismatch v", "signature", r);
    }
    e.r == null || !ke(e.r) ? Et.throwArgumentError("signature missing or invalid r", "signature", r) : e.r = Le(e.r, 32), e.s == null || !ke(e.s) ? Et.throwArgumentError("signature missing or invalid s", "signature", r) : e.s = Le(e.s, 32);
    const t = oe(e.s);
    t[0] >= 128 && Et.throwArgumentError("signature s out of range", "signature", r), e.recoveryParam && (t[0] |= 128);
    const n = re(t);
    e._vs && (ke(e._vs) || Et.throwArgumentError("signature invalid _vs", "signature", r), e._vs = Le(e._vs, 32)), e._vs == null ? e._vs = n : e._vs !== n && Et.throwArgumentError("signature _vs mismatch v and s", "signature", r);
  }
  return e.yParityAndS = e._vs, e.compact = e.r + e.yParityAndS.substring(2), e;
}
const vy = "bignumber/5.7.0";
var vu = he.BN;
const ii = new M(vy), gf = {}, fb = 9007199254740991;
function LS(r) {
  return r != null && (V.isBigNumber(r) || typeof r == "number" && r % 1 === 0 || typeof r == "string" && !!r.match(/^-?[0-9]+$/) || ke(r) || typeof r == "bigint" || ma(r));
}
let db = !1;
class V {
  constructor(e, t) {
    e !== gf && ii.throwError("cannot call constructor directly; use BigNumber.from", M.errors.UNSUPPORTED_OPERATION, {
      operation: "new (BigNumber)"
    }), this._hex = t, this._isBigNumber = !0, Object.freeze(this);
  }
  fromTwos(e) {
    return Ar(xe(this).fromTwos(e));
  }
  toTwos(e) {
    return Ar(xe(this).toTwos(e));
  }
  abs() {
    return this._hex[0] === "-" ? V.from(this._hex.substring(1)) : this;
  }
  add(e) {
    return Ar(xe(this).add(xe(e)));
  }
  sub(e) {
    return Ar(xe(this).sub(xe(e)));
  }
  div(e) {
    return V.from(e).isZero() && Jr("division-by-zero", "div"), Ar(xe(this).div(xe(e)));
  }
  mul(e) {
    return Ar(xe(this).mul(xe(e)));
  }
  mod(e) {
    const t = xe(e);
    return t.isNeg() && Jr("division-by-zero", "mod"), Ar(xe(this).umod(t));
  }
  pow(e) {
    const t = xe(e);
    return t.isNeg() && Jr("negative-power", "pow"), Ar(xe(this).pow(t));
  }
  and(e) {
    const t = xe(e);
    return (this.isNegative() || t.isNeg()) && Jr("unbound-bitwise-result", "and"), Ar(xe(this).and(t));
  }
  or(e) {
    const t = xe(e);
    return (this.isNegative() || t.isNeg()) && Jr("unbound-bitwise-result", "or"), Ar(xe(this).or(t));
  }
  xor(e) {
    const t = xe(e);
    return (this.isNegative() || t.isNeg()) && Jr("unbound-bitwise-result", "xor"), Ar(xe(this).xor(t));
  }
  mask(e) {
    return (this.isNegative() || e < 0) && Jr("negative-width", "mask"), Ar(xe(this).maskn(e));
  }
  shl(e) {
    return (this.isNegative() || e < 0) && Jr("negative-width", "shl"), Ar(xe(this).shln(e));
  }
  shr(e) {
    return (this.isNegative() || e < 0) && Jr("negative-width", "shr"), Ar(xe(this).shrn(e));
  }
  eq(e) {
    return xe(this).eq(xe(e));
  }
  lt(e) {
    return xe(this).lt(xe(e));
  }
  lte(e) {
    return xe(this).lte(xe(e));
  }
  gt(e) {
    return xe(this).gt(xe(e));
  }
  gte(e) {
    return xe(this).gte(xe(e));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return xe(this).isZero();
  }
  toNumber() {
    try {
      return xe(this).toNumber();
    } catch {
      Jr("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {
    }
    return ii.throwError("this platform does not support BigInt", M.errors.UNSUPPORTED_OPERATION, {
      value: this.toString()
    });
  }
  toString() {
    return arguments.length > 0 && (arguments[0] === 10 ? db || (db = !0, ii.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")) : arguments[0] === 16 ? ii.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()", M.errors.UNEXPECTED_ARGUMENT, {}) : ii.throwError("BigNumber.toString does not accept parameters", M.errors.UNEXPECTED_ARGUMENT, {})), xe(this).toString(10);
  }
  toHexString() {
    return this._hex;
  }
  toJSON(e) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(e) {
    if (e instanceof V)
      return e;
    if (typeof e == "string")
      return e.match(/^-?0x[0-9a-f]+$/i) ? new V(gf, mc(e)) : e.match(/^-?[0-9]+$/) ? new V(gf, mc(new vu(e))) : ii.throwArgumentError("invalid BigNumber string", "value", e);
    if (typeof e == "number")
      return e % 1 && Jr("underflow", "BigNumber.from", e), (e >= fb || e <= -fb) && Jr("overflow", "BigNumber.from", e), V.from(String(e));
    const t = e;
    if (typeof t == "bigint")
      return V.from(t.toString());
    if (ma(t))
      return V.from(re(t));
    if (t)
      if (t.toHexString) {
        const n = t.toHexString();
        if (typeof n == "string")
          return V.from(n);
      } else {
        let n = t._hex;
        if (n == null && t.type === "BigNumber" && (n = t.hex), typeof n == "string" && (ke(n) || n[0] === "-" && ke(n.substring(1))))
          return V.from(n);
      }
    return ii.throwArgumentError("invalid BigNumber value", "value", e);
  }
  static isBigNumber(e) {
    return !!(e && e._isBigNumber);
  }
}
function mc(r) {
  if (typeof r != "string")
    return mc(r.toString(16));
  if (r[0] === "-")
    return r = r.substring(1), r[0] === "-" && ii.throwArgumentError("invalid hex", "value", r), r = mc(r), r === "0x00" ? r : "-" + r;
  if (r.substring(0, 2) !== "0x" && (r = "0x" + r), r === "0x")
    return "0x00";
  for (r.length % 2 && (r = "0x0" + r.substring(2)); r.length > 4 && r.substring(0, 4) === "0x00"; )
    r = "0x" + r.substring(4);
  return r;
}
function Ar(r) {
  return V.from(mc(r));
}
function xe(r) {
  const e = V.from(r).toHexString();
  return e[0] === "-" ? new vu("-" + e.substring(3), 16) : new vu(e.substring(2), 16);
}
function Jr(r, e, t) {
  const n = { fault: r, operation: e };
  return t != null && (n.value = t), ii.throwError(r, M.errors.NUMERIC_FAULT, n);
}
function FS(r) {
  return new vu(r, 36).toString(16);
}
const mr = new M(vy), Za = {}, yy = V.from(0), wy = V.from(-1);
function Ay(r, e, t, n) {
  const i = { fault: e, operation: t };
  return n !== void 0 && (i.value = n), mr.throwError(r, M.errors.NUMERIC_FAULT, i);
}
let ec = "0";
for (; ec.length < 256; )
  ec += ec;
function F0(r) {
  if (typeof r != "number")
    try {
      r = V.from(r).toNumber();
    } catch {
    }
  return typeof r == "number" && r >= 0 && r <= 256 && !(r % 1) ? "1" + ec.substring(0, r) : mr.throwArgumentError("invalid decimal size", "decimals", r);
}
function jl(r, e) {
  e == null && (e = 0);
  const t = F0(e);
  r = V.from(r);
  const n = r.lt(yy);
  n && (r = r.mul(wy));
  let i = r.mod(t).toString();
  for (; i.length < t.length - 1; )
    i = "0" + i;
  i = i.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const s = r.div(t).toString();
  return t.length === 1 ? r = s : r = s + "." + i, n && (r = "-" + r), r;
}
function In(r, e) {
  e == null && (e = 0);
  const t = F0(e);
  (typeof r != "string" || !r.match(/^-?[0-9.]+$/)) && mr.throwArgumentError("invalid decimal value", "value", r);
  const n = r.substring(0, 1) === "-";
  n && (r = r.substring(1)), r === "." && mr.throwArgumentError("missing value", "value", r);
  const i = r.split(".");
  i.length > 2 && mr.throwArgumentError("too many decimal points", "value", r);
  let s = i[0], o = i[1];
  for (s || (s = "0"), o || (o = "0"); o[o.length - 1] === "0"; )
    o = o.substring(0, o.length - 1);
  for (o.length > t.length - 1 && Ay("fractional component exceeds decimals", "underflow", "parseFixed"), o === "" && (o = "0"); o.length < t.length - 1; )
    o += "0";
  const a = V.from(s), c = V.from(o);
  let l = a.mul(t).add(c);
  return n && (l = l.mul(wy)), l;
}
class $o {
  constructor(e, t, n, i) {
    e !== Za && mr.throwError("cannot use FixedFormat constructor; use FixedFormat.from", M.errors.UNSUPPORTED_OPERATION, {
      operation: "new FixedFormat"
    }), this.signed = t, this.width = n, this.decimals = i, this.name = (t ? "" : "u") + "fixed" + String(n) + "x" + String(i), this._multiplier = F0(i), Object.freeze(this);
  }
  static from(e) {
    if (e instanceof $o)
      return e;
    typeof e == "number" && (e = `fixed128x${e}`);
    let t = !0, n = 128, i = 18;
    if (typeof e == "string") {
      if (e !== "fixed")
        if (e === "ufixed")
          t = !1;
        else {
          const s = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
          s || mr.throwArgumentError("invalid fixed format", "format", e), t = s[1] !== "u", n = parseInt(s[2]), i = parseInt(s[3]);
        }
    } else if (e) {
      const s = (o, a, c) => e[o] == null ? c : (typeof e[o] !== a && mr.throwArgumentError("invalid fixed format (" + o + " not " + a + ")", "format." + o, e[o]), e[o]);
      t = s("signed", "boolean", t), n = s("width", "number", n), i = s("decimals", "number", i);
    }
    return n % 8 && mr.throwArgumentError("invalid fixed format width (not byte aligned)", "format.width", n), i > 80 && mr.throwArgumentError("invalid fixed format (decimals too large)", "format.decimals", i), new $o(Za, t, n, i);
  }
}
class Kt {
  constructor(e, t, n, i) {
    e !== Za && mr.throwError("cannot use FixedNumber constructor; use FixedNumber.from", M.errors.UNSUPPORTED_OPERATION, {
      operation: "new FixedFormat"
    }), this.format = i, this._hex = t, this._value = n, this._isFixedNumber = !0, Object.freeze(this);
  }
  _checkFormat(e) {
    this.format.name !== e.format.name && mr.throwArgumentError("incompatible format; use fixedNumber.toFormat", "other", e);
  }
  addUnsafe(e) {
    this._checkFormat(e);
    const t = In(this._value, this.format.decimals), n = In(e._value, e.format.decimals);
    return Kt.fromValue(t.add(n), this.format.decimals, this.format);
  }
  subUnsafe(e) {
    this._checkFormat(e);
    const t = In(this._value, this.format.decimals), n = In(e._value, e.format.decimals);
    return Kt.fromValue(t.sub(n), this.format.decimals, this.format);
  }
  mulUnsafe(e) {
    this._checkFormat(e);
    const t = In(this._value, this.format.decimals), n = In(e._value, e.format.decimals);
    return Kt.fromValue(t.mul(n).div(this.format._multiplier), this.format.decimals, this.format);
  }
  divUnsafe(e) {
    this._checkFormat(e);
    const t = In(this._value, this.format.decimals), n = In(e._value, e.format.decimals);
    return Kt.fromValue(t.mul(this.format._multiplier).div(n), this.format.decimals, this.format);
  }
  floor() {
    const e = this.toString().split(".");
    e.length === 1 && e.push("0");
    let t = Kt.from(e[0], this.format);
    const n = !e[1].match(/^(0*)$/);
    return this.isNegative() && n && (t = t.subUnsafe(pb.toFormat(t.format))), t;
  }
  ceiling() {
    const e = this.toString().split(".");
    e.length === 1 && e.push("0");
    let t = Kt.from(e[0], this.format);
    const n = !e[1].match(/^(0*)$/);
    return !this.isNegative() && n && (t = t.addUnsafe(pb.toFormat(t.format))), t;
  }
  round(e) {
    e == null && (e = 0);
    const t = this.toString().split(".");
    if (t.length === 1 && t.push("0"), (e < 0 || e > 80 || e % 1) && mr.throwArgumentError("invalid decimal count", "decimals", e), t[1].length <= e)
      return this;
    const n = Kt.from("1" + ec.substring(0, e), this.format), i = US.toFormat(this.format);
    return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n);
  }
  isZero() {
    return this._value === "0.0" || this._value === "0";
  }
  isNegative() {
    return this._value[0] === "-";
  }
  toString() {
    return this._value;
  }
  toHexString(e) {
    if (e == null)
      return this._hex;
    e % 8 && mr.throwArgumentError("invalid byte width", "width", e);
    const t = V.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();
    return Le(t, e / 8);
  }
  toUnsafeFloat() {
    return parseFloat(this.toString());
  }
  toFormat(e) {
    return Kt.fromString(this._value, e);
  }
  static fromValue(e, t, n) {
    return n == null && t != null && !LS(t) && (n = t, t = null), t == null && (t = 0), n == null && (n = "fixed"), Kt.fromString(jl(e, t), $o.from(n));
  }
  static fromString(e, t) {
    t == null && (t = "fixed");
    const n = $o.from(t), i = In(e, n.decimals);
    !n.signed && i.lt(yy) && Ay("unsigned value cannot be negative", "overflow", "value", e);
    let s = null;
    n.signed ? s = i.toTwos(n.width).toHexString() : (s = i.toHexString(), s = Le(s, n.width / 8));
    const o = jl(i, n.decimals);
    return new Kt(Za, s, o, n);
  }
  static fromBytes(e, t) {
    t == null && (t = "fixed");
    const n = $o.from(t);
    if (oe(e).length > n.width / 8)
      throw new Error("overflow");
    let i = V.from(e);
    n.signed && (i = i.fromTwos(n.width));
    const s = i.toTwos((n.signed ? 0 : 1) + n.width).toHexString(), o = jl(i, n.decimals);
    return new Kt(Za, s, o, n);
  }
  static from(e, t) {
    if (typeof e == "string")
      return Kt.fromString(e, t);
    if (ma(e))
      return Kt.fromBytes(e, t);
    try {
      return Kt.fromValue(e, 0, t);
    } catch (n) {
      if (n.code !== M.errors.INVALID_ARGUMENT)
        throw n;
    }
    return mr.throwArgumentError("invalid FixedNumber value", "value", e);
  }
  static isFixedNumber(e) {
    return !!(e && e._isFixedNumber);
  }
}
const pb = Kt.from(1), US = Kt.from("0.5"), VS = "properties/5.7.0";
var jS = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const yu = new M(VS);
function W(r, e, t) {
  Object.defineProperty(r, e, {
    enumerable: !0,
    value: t,
    writable: !1
  });
}
function Un(r, e) {
  for (let t = 0; t < 32; t++) {
    if (r[e])
      return r[e];
    if (!r.prototype || typeof r.prototype != "object")
      break;
    r = Object.getPrototypeOf(r.prototype).constructor;
  }
  return null;
}
function Mt(r) {
  return jS(this, void 0, void 0, function* () {
    const e = Object.keys(r).map((n) => {
      const i = r[n];
      return Promise.resolve(i).then((s) => ({ key: n, value: s }));
    });
    return (yield Promise.all(e)).reduce((n, i) => (n[i.key] = i.value, n), {});
  });
}
function WS(r, e) {
  (!r || typeof r != "object") && yu.throwArgumentError("invalid object", "object", r), Object.keys(r).forEach((t) => {
    e[t] || yu.throwArgumentError("invalid object key - " + t, "transaction:" + t, r);
  });
}
function $t(r) {
  const e = {};
  for (const t in r)
    e[t] = r[t];
  return e;
}
const HS = { bigint: !0, boolean: !0, function: !0, number: !0, string: !0 };
function Sy(r) {
  if (r == null || HS[typeof r])
    return !0;
  if (Array.isArray(r) || typeof r == "object") {
    if (!Object.isFrozen(r))
      return !1;
    const e = Object.keys(r);
    for (let t = 0; t < e.length; t++) {
      let n = null;
      try {
        n = r[e[t]];
      } catch {
        continue;
      }
      if (!Sy(n))
        return !1;
    }
    return !0;
  }
  return yu.throwArgumentError(`Cannot deepCopy ${typeof r}`, "object", r);
}
function GS(r) {
  if (Sy(r))
    return r;
  if (Array.isArray(r))
    return Object.freeze(r.map((e) => wi(e)));
  if (typeof r == "object") {
    const e = {};
    for (const t in r) {
      const n = r[t];
      n !== void 0 && W(e, t, wi(n));
    }
    return e;
  }
  return yu.throwArgumentError(`Cannot deepCopy ${typeof r}`, "object", r);
}
function wi(r) {
  return GS(r);
}
class Yc {
  constructor(e) {
    for (const t in e)
      this[t] = wi(e[t]);
  }
}
const Xc = "abi/5.7.0", we = new M(Xc), qs = {};
let gb = { calldata: !0, memory: !0, storage: !0 }, KS = { calldata: !0, memory: !0 };
function yl(r, e) {
  if (r === "bytes" || r === "string") {
    if (gb[e])
      return !0;
  } else if (r === "address") {
    if (e === "payable")
      return !0;
  } else if ((r.indexOf("[") >= 0 || r === "tuple") && KS[e])
    return !0;
  return (gb[e] || e === "payable") && we.throwArgumentError("invalid modifier", "name", e), !1;
}
function zS(r, e) {
  let t = r;
  function n(a) {
    we.throwArgumentError(`unexpected character at position ${a}`, "param", r);
  }
  r = r.replace(/\s/g, " ");
  function i(a) {
    let c = { type: "", name: "", parent: a, state: { allowType: !0 } };
    return e && (c.indexed = !1), c;
  }
  let s = { type: "", name: "", state: { allowType: !0 } }, o = s;
  for (let a = 0; a < r.length; a++) {
    let c = r[a];
    switch (c) {
      case "(":
        o.state.allowType && o.type === "" ? o.type = "tuple" : o.state.allowParams || n(a), o.state.allowType = !1, o.type = ko(o.type), o.components = [i(o)], o = o.components[0];
        break;
      case ")":
        delete o.state, o.name === "indexed" && (e || n(a), o.indexed = !0, o.name = ""), yl(o.type, o.name) && (o.name = ""), o.type = ko(o.type);
        let l = o;
        o = o.parent, o || n(a), delete l.parent, o.state.allowParams = !1, o.state.allowName = !0, o.state.allowArray = !0;
        break;
      case ",":
        delete o.state, o.name === "indexed" && (e || n(a), o.indexed = !0, o.name = ""), yl(o.type, o.name) && (o.name = ""), o.type = ko(o.type);
        let f = i(o.parent);
        o.parent.components.push(f), delete o.parent, o = f;
        break;
      case " ":
        o.state.allowType && o.type !== "" && (o.type = ko(o.type), delete o.state.allowType, o.state.allowName = !0, o.state.allowParams = !0), o.state.allowName && o.name !== "" && (o.name === "indexed" ? (e || n(a), o.indexed && n(a), o.indexed = !0, o.name = "") : yl(o.type, o.name) ? o.name = "" : o.state.allowName = !1);
        break;
      case "[":
        o.state.allowArray || n(a), o.type += c, o.state.allowArray = !1, o.state.allowName = !1, o.state.readArray = !0;
        break;
      case "]":
        o.state.readArray || n(a), o.type += c, o.state.readArray = !1, o.state.allowArray = !0, o.state.allowName = !0;
        break;
      default:
        o.state.allowType ? (o.type += c, o.state.allowParams = !0, o.state.allowArray = !0) : o.state.allowName ? (o.name += c, delete o.state.allowArray) : o.state.readArray ? o.type += c : n(a);
    }
  }
  return o.parent && we.throwArgumentError("unexpected eof", "param", r), delete s.state, o.name === "indexed" ? (e || n(t.length - 7), o.indexed && n(t.length - 7), o.indexed = !0, o.name = "") : yl(o.type, o.name) && (o.name = ""), s.type = ko(s.type), s;
}
function Wl(r, e) {
  for (let t in e)
    W(r, t, e[t]);
}
const Pe = Object.freeze({
  sighash: "sighash",
  minimal: "minimal",
  full: "full",
  json: "json"
}), qS = new RegExp(/^(.*)\[([0-9]*)\]$/);
class jt {
  constructor(e, t) {
    e !== qs && we.throwError("use fromString", M.errors.UNSUPPORTED_OPERATION, {
      operation: "new ParamType()"
    }), Wl(this, t);
    let n = this.type.match(qS);
    n ? Wl(this, {
      arrayLength: parseInt(n[2] || "-1"),
      arrayChildren: jt.fromObject({
        type: n[1],
        components: this.components
      }),
      baseType: "array"
    }) : Wl(this, {
      arrayLength: null,
      arrayChildren: null,
      baseType: this.components != null ? "tuple" : this.type
    }), this._isParamType = !0, Object.freeze(this);
  }
  format(e) {
    if (e || (e = Pe.sighash), Pe[e] || we.throwArgumentError("invalid format type", "format", e), e === Pe.json) {
      let n = {
        type: this.baseType === "tuple" ? "tuple" : this.type,
        name: this.name || void 0
      };
      return typeof this.indexed == "boolean" && (n.indexed = this.indexed), this.components && (n.components = this.components.map((i) => JSON.parse(i.format(e)))), JSON.stringify(n);
    }
    let t = "";
    return this.baseType === "array" ? (t += this.arrayChildren.format(e), t += "[" + (this.arrayLength < 0 ? "" : String(this.arrayLength)) + "]") : this.baseType === "tuple" ? (e !== Pe.sighash && (t += this.type), t += "(" + this.components.map((n) => n.format(e)).join(e === Pe.full ? ", " : ",") + ")") : t += this.type, e !== Pe.sighash && (this.indexed === !0 && (t += " indexed"), e === Pe.full && this.name && (t += " " + this.name)), t;
  }
  static from(e, t) {
    return typeof e == "string" ? jt.fromString(e, t) : jt.fromObject(e);
  }
  static fromObject(e) {
    return jt.isParamType(e) ? e : new jt(qs, {
      name: e.name || null,
      type: ko(e.type),
      indexed: e.indexed == null ? null : !!e.indexed,
      components: e.components ? e.components.map(jt.fromObject) : null
    });
  }
  static fromString(e, t) {
    function n(i) {
      return jt.fromObject({
        name: i.name,
        type: i.type,
        indexed: i.indexed,
        components: i.components
      });
    }
    return n(zS(e, !!t));
  }
  static isParamType(e) {
    return !!(e != null && e._isParamType);
  }
}
function bc(r, e) {
  return JS(r).map((t) => jt.fromString(t, e));
}
class ui {
  constructor(e, t) {
    e !== qs && we.throwError("use a static from method", M.errors.UNSUPPORTED_OPERATION, {
      operation: "new Fragment()"
    }), Wl(this, t), this._isFragment = !0, Object.freeze(this);
  }
  static from(e) {
    return ui.isFragment(e) ? e : typeof e == "string" ? ui.fromString(e) : ui.fromObject(e);
  }
  static fromObject(e) {
    if (ui.isFragment(e))
      return e;
    switch (e.type) {
      case "function":
        return Fn.fromObject(e);
      case "event":
        return li.fromObject(e);
      case "constructor":
        return Ln.fromObject(e);
      case "error":
        return Xi.fromObject(e);
      case "fallback":
      case "receive":
        return null;
    }
    return we.throwArgumentError("invalid fragment object", "value", e);
  }
  static fromString(e) {
    return e = e.replace(/\s/g, " "), e = e.replace(/\(/g, " (").replace(/\)/g, ") ").replace(/\s+/g, " "), e = e.trim(), e.split(" ")[0] === "event" ? li.fromString(e.substring(5).trim()) : e.split(" ")[0] === "function" ? Fn.fromString(e.substring(8).trim()) : e.split("(")[0].trim() === "constructor" ? Ln.fromString(e.trim()) : e.split(" ")[0] === "error" ? Xi.fromString(e.substring(5).trim()) : we.throwArgumentError("unsupported fragment", "value", e);
  }
  static isFragment(e) {
    return !!(e && e._isFragment);
  }
}
class li extends ui {
  format(e) {
    if (e || (e = Pe.sighash), Pe[e] || we.throwArgumentError("invalid format type", "format", e), e === Pe.json)
      return JSON.stringify({
        type: "event",
        anonymous: this.anonymous,
        name: this.name,
        inputs: this.inputs.map((n) => JSON.parse(n.format(e)))
      });
    let t = "";
    return e !== Pe.sighash && (t += "event "), t += this.name + "(" + this.inputs.map((n) => n.format(e)).join(e === Pe.full ? ", " : ",") + ") ", e !== Pe.sighash && this.anonymous && (t += "anonymous "), t.trim();
  }
  static from(e) {
    return typeof e == "string" ? li.fromString(e) : li.fromObject(e);
  }
  static fromObject(e) {
    if (li.isEventFragment(e))
      return e;
    e.type !== "event" && we.throwArgumentError("invalid event object", "value", e);
    const t = {
      name: xc(e.name),
      anonymous: e.anonymous,
      inputs: e.inputs ? e.inputs.map(jt.fromObject) : [],
      type: "event"
    };
    return new li(qs, t);
  }
  static fromString(e) {
    let t = e.match(vc);
    t || we.throwArgumentError("invalid event string", "value", e);
    let n = !1;
    return t[3].split(" ").forEach((i) => {
      switch (i.trim()) {
        case "anonymous":
          n = !0;
          break;
        case "":
          break;
        default:
          we.warn("unknown modifier: " + i);
      }
    }), li.fromObject({
      name: t[1].trim(),
      anonymous: n,
      inputs: bc(t[2], !0),
      type: "event"
    });
  }
  static isEventFragment(e) {
    return e && e._isFragment && e.type === "event";
  }
}
function Cy(r, e) {
  e.gas = null;
  let t = r.split("@");
  return t.length !== 1 ? (t.length > 2 && we.throwArgumentError("invalid human-readable ABI signature", "value", r), t[1].match(/^[0-9]+$/) || we.throwArgumentError("invalid human-readable ABI signature gas", "value", r), e.gas = V.from(t[1]), t[0]) : r;
}
function Ey(r, e) {
  e.constant = !1, e.payable = !1, e.stateMutability = "nonpayable", r.split(" ").forEach((t) => {
    switch (t.trim()) {
      case "constant":
        e.constant = !0;
        break;
      case "payable":
        e.payable = !0, e.stateMutability = "payable";
        break;
      case "nonpayable":
        e.payable = !1, e.stateMutability = "nonpayable";
        break;
      case "pure":
        e.constant = !0, e.stateMutability = "pure";
        break;
      case "view":
        e.constant = !0, e.stateMutability = "view";
        break;
      case "external":
      case "public":
      case "":
        break;
      default:
        console.log("unknown modifier: " + t);
    }
  });
}
function _y(r) {
  let e = {
    constant: !1,
    payable: !0,
    stateMutability: "payable"
  };
  return r.stateMutability != null ? (e.stateMutability = r.stateMutability, e.constant = e.stateMutability === "view" || e.stateMutability === "pure", r.constant != null && !!r.constant !== e.constant && we.throwArgumentError("cannot have constant function with mutability " + e.stateMutability, "value", r), e.payable = e.stateMutability === "payable", r.payable != null && !!r.payable !== e.payable && we.throwArgumentError("cannot have payable function with mutability " + e.stateMutability, "value", r)) : r.payable != null ? (e.payable = !!r.payable, r.constant == null && !e.payable && r.type !== "constructor" && we.throwArgumentError("unable to determine stateMutability", "value", r), e.constant = !!r.constant, e.constant ? e.stateMutability = "view" : e.stateMutability = e.payable ? "payable" : "nonpayable", e.payable && e.constant && we.throwArgumentError("cannot have constant payable function", "value", r)) : r.constant != null ? (e.constant = !!r.constant, e.payable = !e.constant, e.stateMutability = e.constant ? "view" : "payable") : r.type !== "constructor" && we.throwArgumentError("unable to determine stateMutability", "value", r), e;
}
class Ln extends ui {
  format(e) {
    if (e || (e = Pe.sighash), Pe[e] || we.throwArgumentError("invalid format type", "format", e), e === Pe.json)
      return JSON.stringify({
        type: "constructor",
        stateMutability: this.stateMutability !== "nonpayable" ? this.stateMutability : void 0,
        payable: this.payable,
        gas: this.gas ? this.gas.toNumber() : void 0,
        inputs: this.inputs.map((n) => JSON.parse(n.format(e)))
      });
    e === Pe.sighash && we.throwError("cannot format a constructor for sighash", M.errors.UNSUPPORTED_OPERATION, {
      operation: "format(sighash)"
    });
    let t = "constructor(" + this.inputs.map((n) => n.format(e)).join(e === Pe.full ? ", " : ",") + ") ";
    return this.stateMutability && this.stateMutability !== "nonpayable" && (t += this.stateMutability + " "), t.trim();
  }
  static from(e) {
    return typeof e == "string" ? Ln.fromString(e) : Ln.fromObject(e);
  }
  static fromObject(e) {
    if (Ln.isConstructorFragment(e))
      return e;
    e.type !== "constructor" && we.throwArgumentError("invalid constructor object", "value", e);
    let t = _y(e);
    t.constant && we.throwArgumentError("constructor cannot be constant", "value", e);
    const n = {
      name: null,
      type: e.type,
      inputs: e.inputs ? e.inputs.map(jt.fromObject) : [],
      payable: t.payable,
      stateMutability: t.stateMutability,
      gas: e.gas ? V.from(e.gas) : null
    };
    return new Ln(qs, n);
  }
  static fromString(e) {
    let t = { type: "constructor" };
    e = Cy(e, t);
    let n = e.match(vc);
    return (!n || n[1].trim() !== "constructor") && we.throwArgumentError("invalid constructor string", "value", e), t.inputs = bc(n[2].trim(), !1), Ey(n[3].trim(), t), Ln.fromObject(t);
  }
  static isConstructorFragment(e) {
    return e && e._isFragment && e.type === "constructor";
  }
}
class Fn extends Ln {
  format(e) {
    if (e || (e = Pe.sighash), Pe[e] || we.throwArgumentError("invalid format type", "format", e), e === Pe.json)
      return JSON.stringify({
        type: "function",
        name: this.name,
        constant: this.constant,
        stateMutability: this.stateMutability !== "nonpayable" ? this.stateMutability : void 0,
        payable: this.payable,
        gas: this.gas ? this.gas.toNumber() : void 0,
        inputs: this.inputs.map((n) => JSON.parse(n.format(e))),
        outputs: this.outputs.map((n) => JSON.parse(n.format(e)))
      });
    let t = "";
    return e !== Pe.sighash && (t += "function "), t += this.name + "(" + this.inputs.map((n) => n.format(e)).join(e === Pe.full ? ", " : ",") + ") ", e !== Pe.sighash && (this.stateMutability ? this.stateMutability !== "nonpayable" && (t += this.stateMutability + " ") : this.constant && (t += "view "), this.outputs && this.outputs.length && (t += "returns (" + this.outputs.map((n) => n.format(e)).join(", ") + ") "), this.gas != null && (t += "@" + this.gas.toString() + " ")), t.trim();
  }
  static from(e) {
    return typeof e == "string" ? Fn.fromString(e) : Fn.fromObject(e);
  }
  static fromObject(e) {
    if (Fn.isFunctionFragment(e))
      return e;
    e.type !== "function" && we.throwArgumentError("invalid function object", "value", e);
    let t = _y(e);
    const n = {
      type: e.type,
      name: xc(e.name),
      constant: t.constant,
      inputs: e.inputs ? e.inputs.map(jt.fromObject) : [],
      outputs: e.outputs ? e.outputs.map(jt.fromObject) : [],
      payable: t.payable,
      stateMutability: t.stateMutability,
      gas: e.gas ? V.from(e.gas) : null
    };
    return new Fn(qs, n);
  }
  static fromString(e) {
    let t = { type: "function" };
    e = Cy(e, t);
    let n = e.split(" returns ");
    n.length > 2 && we.throwArgumentError("invalid function string", "value", e);
    let i = n[0].match(vc);
    if (i || we.throwArgumentError("invalid function signature", "value", e), t.name = i[1].trim(), t.name && xc(t.name), t.inputs = bc(i[2], !1), Ey(i[3].trim(), t), n.length > 1) {
      let s = n[1].match(vc);
      (s[1].trim() != "" || s[3].trim() != "") && we.throwArgumentError("unexpected tokens", "value", e), t.outputs = bc(s[2], !1);
    } else
      t.outputs = [];
    return Fn.fromObject(t);
  }
  static isFunctionFragment(e) {
    return e && e._isFragment && e.type === "function";
  }
}
function mb(r) {
  const e = r.format();
  return (e === "Error(string)" || e === "Panic(uint256)") && we.throwArgumentError(`cannot specify user defined ${e} error`, "fragment", r), r;
}
class Xi extends ui {
  format(e) {
    if (e || (e = Pe.sighash), Pe[e] || we.throwArgumentError("invalid format type", "format", e), e === Pe.json)
      return JSON.stringify({
        type: "error",
        name: this.name,
        inputs: this.inputs.map((n) => JSON.parse(n.format(e)))
      });
    let t = "";
    return e !== Pe.sighash && (t += "error "), t += this.name + "(" + this.inputs.map((n) => n.format(e)).join(e === Pe.full ? ", " : ",") + ") ", t.trim();
  }
  static from(e) {
    return typeof e == "string" ? Xi.fromString(e) : Xi.fromObject(e);
  }
  static fromObject(e) {
    if (Xi.isErrorFragment(e))
      return e;
    e.type !== "error" && we.throwArgumentError("invalid error object", "value", e);
    const t = {
      type: e.type,
      name: xc(e.name),
      inputs: e.inputs ? e.inputs.map(jt.fromObject) : []
    };
    return mb(new Xi(qs, t));
  }
  static fromString(e) {
    let t = { type: "error" }, n = e.match(vc);
    return n || we.throwArgumentError("invalid error signature", "value", e), t.name = n[1].trim(), t.name && xc(t.name), t.inputs = bc(n[2], !1), mb(Xi.fromObject(t));
  }
  static isErrorFragment(e) {
    return e && e._isFragment && e.type === "error";
  }
}
function ko(r) {
  return r.match(/^uint($|[^1-9])/) ? r = "uint256" + r.substring(4) : r.match(/^int($|[^1-9])/) && (r = "int256" + r.substring(3)), r;
}
const QS = new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");
function xc(r) {
  return (!r || !r.match(QS)) && we.throwArgumentError(`invalid identifier "${r}"`, "value", r), r;
}
const vc = new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");
function JS(r) {
  r = r.trim();
  let e = [], t = "", n = 0;
  for (let i = 0; i < r.length; i++) {
    let s = r[i];
    s === "," && n === 0 ? (e.push(t), t = "") : (t += s, s === "(" ? n++ : s === ")" && (n--, n === -1 && we.throwArgumentError("unbalanced parenthesis", "value", r)));
  }
  return t && e.push(t), e;
}
const U0 = new M(Xc);
function YS(r) {
  const e = [], t = function(n, i) {
    if (!!Array.isArray(i))
      for (let s in i) {
        const o = n.slice();
        o.push(s);
        try {
          t(o, i[s]);
        } catch (a) {
          e.push({ path: o, error: a });
        }
      }
  };
  return t([], r), e;
}
class Ii {
  constructor(e, t, n, i) {
    this.name = e, this.type = t, this.localName = n, this.dynamic = i;
  }
  _throwError(e, t) {
    U0.throwArgumentError(e, this.localName, t);
  }
}
class gd {
  constructor(e) {
    W(this, "wordSize", e || 32), this._data = [], this._dataLength = 0, this._padding = new Uint8Array(e);
  }
  get data() {
    return Er(this._data);
  }
  get length() {
    return this._dataLength;
  }
  _writeData(e) {
    return this._data.push(e), this._dataLength += e.length, e.length;
  }
  appendWriter(e) {
    return this._writeData(jr(e._data));
  }
  writeBytes(e) {
    let t = oe(e);
    const n = t.length % this.wordSize;
    return n && (t = jr([t, this._padding.slice(n)])), this._writeData(t);
  }
  _getValue(e) {
    let t = oe(V.from(e));
    return t.length > this.wordSize && U0.throwError("value out-of-bounds", M.errors.BUFFER_OVERRUN, {
      length: this.wordSize,
      offset: t.length
    }), t.length % this.wordSize && (t = jr([this._padding.slice(t.length % this.wordSize), t])), t;
  }
  writeValue(e) {
    return this._writeData(this._getValue(e));
  }
  writeUpdatableValue() {
    const e = this._data.length;
    return this._data.push(this._padding), this._dataLength += this.wordSize, (t) => {
      this._data[e] = this._getValue(t);
    };
  }
}
class wu {
  constructor(e, t, n, i) {
    W(this, "_data", oe(e)), W(this, "wordSize", t || 32), W(this, "_coerceFunc", n), W(this, "allowLoose", i), this._offset = 0;
  }
  get data() {
    return re(this._data);
  }
  get consumed() {
    return this._offset;
  }
  static coerce(e, t) {
    let n = e.match("^u?int([0-9]+)$");
    return n && parseInt(n[1]) <= 48 && (t = t.toNumber()), t;
  }
  coerce(e, t) {
    return this._coerceFunc ? this._coerceFunc(e, t) : wu.coerce(e, t);
  }
  _peekBytes(e, t, n) {
    let i = Math.ceil(t / this.wordSize) * this.wordSize;
    return this._offset + i > this._data.length && (this.allowLoose && n && this._offset + t <= this._data.length ? i = t : U0.throwError("data out-of-bounds", M.errors.BUFFER_OVERRUN, {
      length: this._data.length,
      offset: this._offset + i
    })), this._data.slice(this._offset, this._offset + i);
  }
  subReader(e) {
    return new wu(this._data.slice(this._offset + e), this.wordSize, this._coerceFunc, this.allowLoose);
  }
  readBytes(e, t) {
    let n = this._peekBytes(0, e, !!t);
    return this._offset += n.length, n.slice(0, e);
  }
  readValue() {
    return V.from(this.readBytes(this.wordSize));
  }
}
const Qs = typeof global < "u" ? global : typeof self < "u" ? self : typeof window < "u" ? window : {};
function Py() {
  throw new Error("setTimeout has not been defined");
}
function ky() {
  throw new Error("clearTimeout has not been defined");
}
var zi = Py, qi = ky;
typeof Qs.setTimeout == "function" && (zi = setTimeout);
typeof Qs.clearTimeout == "function" && (qi = clearTimeout);
function Ry(r) {
  if (zi === setTimeout)
    return setTimeout(r, 0);
  if ((zi === Py || !zi) && setTimeout)
    return zi = setTimeout, setTimeout(r, 0);
  try {
    return zi(r, 0);
  } catch {
    try {
      return zi.call(null, r, 0);
    } catch {
      return zi.call(this, r, 0);
    }
  }
}
function XS(r) {
  if (qi === clearTimeout)
    return clearTimeout(r);
  if ((qi === ky || !qi) && clearTimeout)
    return qi = clearTimeout, clearTimeout(r);
  try {
    return qi(r);
  } catch {
    try {
      return qi.call(null, r);
    } catch {
      return qi.call(this, r);
    }
  }
}
var hi = [], Lo = !1, Fs, Hl = -1;
function ZS() {
  !Lo || !Fs || (Lo = !1, Fs.length ? hi = Fs.concat(hi) : Hl = -1, hi.length && Ty());
}
function Ty() {
  if (!Lo) {
    var r = Ry(ZS);
    Lo = !0;
    for (var e = hi.length; e; ) {
      for (Fs = hi, hi = []; ++Hl < e; )
        Fs && Fs[Hl].run();
      Hl = -1, e = hi.length;
    }
    Fs = null, Lo = !1, XS(r);
  }
}
function e5(r) {
  var e = new Array(arguments.length - 1);
  if (arguments.length > 1)
    for (var t = 1; t < arguments.length; t++)
      e[t - 1] = arguments[t];
  hi.push(new Iy(r, e)), hi.length === 1 && !Lo && Ry(Ty);
}
function Iy(r, e) {
  this.fun = r, this.array = e;
}
Iy.prototype.run = function() {
  this.fun.apply(null, this.array);
};
var t5 = "browser", r5 = "browser", n5 = !0, i5 = {}, s5 = [], o5 = "", a5 = {}, c5 = {}, l5 = {};
function fo() {
}
var u5 = fo, h5 = fo, f5 = fo, d5 = fo, p5 = fo, g5 = fo, m5 = fo;
function b5(r) {
  throw new Error("process.binding is not supported");
}
function x5() {
  return "/";
}
function v5(r) {
  throw new Error("process.chdir is not supported");
}
function y5() {
  return 0;
}
var Ro = Qs.performance || {}, w5 = Ro.now || Ro.mozNow || Ro.msNow || Ro.oNow || Ro.webkitNow || function() {
  return new Date().getTime();
};
function A5(r) {
  var e = w5.call(Ro) * 1e-3, t = Math.floor(e), n = Math.floor(e % 1 * 1e9);
  return r && (t = t - r[0], n = n - r[1], n < 0 && (t--, n += 1e9)), [t, n];
}
var S5 = new Date();
function C5() {
  var r = new Date(), e = r - S5;
  return e / 1e3;
}
var Gl = {
  nextTick: e5,
  title: t5,
  browser: n5,
  env: i5,
  argv: s5,
  version: o5,
  versions: a5,
  on: u5,
  addListener: h5,
  once: f5,
  off: d5,
  removeListener: p5,
  removeAllListeners: g5,
  emit: m5,
  binding: b5,
  cwd: x5,
  chdir: v5,
  umask: y5,
  hrtime: A5,
  platform: r5,
  release: c5,
  config: l5,
  uptime: C5
}, My = { exports: {} };
(function(r) {
  (function() {
    var e = "input is invalid type", t = "finalize already called", n = typeof window == "object", i = n ? window : {};
    i.JS_SHA3_NO_WINDOW && (n = !1);
    var s = !n && typeof self == "object", o = !i.JS_SHA3_NO_NODE_JS && typeof Gl == "object" && Gl.versions && Gl.versions.node;
    o ? i = my : s && (i = self);
    var a = !i.JS_SHA3_NO_COMMON_JS && !0 && r.exports, c = !i.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u", l = "0123456789abcdef".split(""), f = [31, 7936, 2031616, 520093696], p = [4, 1024, 262144, 67108864], b = [1, 256, 65536, 16777216], w = [6, 1536, 393216, 100663296], A = [0, 8, 16, 24], C = [
      1,
      0,
      32898,
      0,
      32906,
      2147483648,
      2147516416,
      2147483648,
      32907,
      0,
      2147483649,
      0,
      2147516545,
      2147483648,
      32777,
      2147483648,
      138,
      0,
      136,
      0,
      2147516425,
      0,
      2147483658,
      0,
      2147516555,
      0,
      139,
      2147483648,
      32905,
      2147483648,
      32771,
      2147483648,
      32770,
      2147483648,
      128,
      2147483648,
      32778,
      0,
      2147483658,
      2147483648,
      2147516545,
      2147483648,
      32896,
      2147483648,
      2147483649,
      0,
      2147516424,
      2147483648
    ], S = [224, 256, 384, 512], k = [128, 256], O = ["hex", "buffer", "arrayBuffer", "array", "digest"], L = {
      128: 168,
      256: 136
    };
    (i.JS_SHA3_NO_NODE_JS || !Array.isArray) && (Array.isArray = function(d) {
      return Object.prototype.toString.call(d) === "[object Array]";
    }), c && (i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) && (ArrayBuffer.isView = function(d) {
      return typeof d == "object" && d.buffer && d.buffer.constructor === ArrayBuffer;
    });
    for (var B = function(d, T, $) {
      return function(D) {
        return new h(d, T, d).update(D)[$]();
      };
    }, N = function(d, T, $) {
      return function(D, F) {
        return new h(d, T, F).update(D)[$]();
      };
    }, j = function(d, T, $) {
      return function(D, F, Y, H) {
        return u["cshake" + d].update(D, F, Y, H)[$]();
      };
    }, q = function(d, T, $) {
      return function(D, F, Y, H) {
        return u["kmac" + d].update(D, F, Y, H)[$]();
      };
    }, K = function(d, T, $, D) {
      for (var F = 0; F < O.length; ++F) {
        var Y = O[F];
        d[Y] = T($, D, Y);
      }
      return d;
    }, X = function(d, T) {
      var $ = B(d, T, "hex");
      return $.create = function() {
        return new h(d, T, d);
      }, $.update = function(D) {
        return $.create().update(D);
      }, K($, B, d, T);
    }, ce = function(d, T) {
      var $ = N(d, T, "hex");
      return $.create = function(D) {
        return new h(d, T, D);
      }, $.update = function(D, F) {
        return $.create(F).update(D);
      }, K($, N, d, T);
    }, ee = function(d, T) {
      var $ = L[d], D = j(d, T, "hex");
      return D.create = function(F, Y, H) {
        return !Y && !H ? u["shake" + d].create(F) : new h(d, T, F).bytepad([Y, H], $);
      }, D.update = function(F, Y, H, G) {
        return D.create(Y, H, G).update(F);
      }, K(D, j, d, T);
    }, be = function(d, T) {
      var $ = L[d], D = q(d, T, "hex");
      return D.create = function(F, Y, H) {
        return new v(d, T, Y).bytepad(["KMAC", H], $).bytepad([F], $);
      }, D.update = function(F, Y, H, G) {
        return D.create(F, H, G).update(Y);
      }, K(D, q, d, T);
    }, _ = [
      { name: "keccak", padding: b, bits: S, createMethod: X },
      { name: "sha3", padding: w, bits: S, createMethod: X },
      { name: "shake", padding: f, bits: k, createMethod: ce },
      { name: "cshake", padding: p, bits: k, createMethod: ee },
      { name: "kmac", padding: p, bits: k, createMethod: be }
    ], u = {}, g = [], x = 0; x < _.length; ++x)
      for (var y = _[x], E = y.bits, P = 0; P < E.length; ++P) {
        var R = y.name + "_" + E[P];
        if (g.push(R), u[R] = y.createMethod(E[P], y.padding), y.name !== "sha3") {
          var m = y.name + E[P];
          g.push(m), u[m] = u[R];
        }
      }
    function h(d, T, $) {
      this.blocks = [], this.s = [], this.padding = T, this.outputBits = $, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (d << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = $ >> 5, this.extraBytes = ($ & 31) >> 3;
      for (var D = 0; D < 50; ++D)
        this.s[D] = 0;
    }
    h.prototype.update = function(d) {
      if (this.finalized)
        throw new Error(t);
      var T, $ = typeof d;
      if ($ !== "string") {
        if ($ === "object") {
          if (d === null)
            throw new Error(e);
          if (c && d.constructor === ArrayBuffer)
            d = new Uint8Array(d);
          else if (!Array.isArray(d) && (!c || !ArrayBuffer.isView(d)))
            throw new Error(e);
        } else
          throw new Error(e);
        T = !0;
      }
      for (var D = this.blocks, F = this.byteCount, Y = d.length, H = this.blockCount, G = 0, vt = this.s, Z, ue; G < Y; ) {
        if (this.reset)
          for (this.reset = !1, D[0] = this.block, Z = 1; Z < H + 1; ++Z)
            D[Z] = 0;
        if (T)
          for (Z = this.start; G < Y && Z < F; ++G)
            D[Z >> 2] |= d[G] << A[Z++ & 3];
        else
          for (Z = this.start; G < Y && Z < F; ++G)
            ue = d.charCodeAt(G), ue < 128 ? D[Z >> 2] |= ue << A[Z++ & 3] : ue < 2048 ? (D[Z >> 2] |= (192 | ue >> 6) << A[Z++ & 3], D[Z >> 2] |= (128 | ue & 63) << A[Z++ & 3]) : ue < 55296 || ue >= 57344 ? (D[Z >> 2] |= (224 | ue >> 12) << A[Z++ & 3], D[Z >> 2] |= (128 | ue >> 6 & 63) << A[Z++ & 3], D[Z >> 2] |= (128 | ue & 63) << A[Z++ & 3]) : (ue = 65536 + ((ue & 1023) << 10 | d.charCodeAt(++G) & 1023), D[Z >> 2] |= (240 | ue >> 18) << A[Z++ & 3], D[Z >> 2] |= (128 | ue >> 12 & 63) << A[Z++ & 3], D[Z >> 2] |= (128 | ue >> 6 & 63) << A[Z++ & 3], D[Z >> 2] |= (128 | ue & 63) << A[Z++ & 3]);
        if (this.lastByteIndex = Z, Z >= F) {
          for (this.start = Z - F, this.block = D[H], Z = 0; Z < H; ++Z)
            vt[Z] ^= D[Z];
          I(vt), this.reset = !0;
        } else
          this.start = Z;
      }
      return this;
    }, h.prototype.encode = function(d, T) {
      var $ = d & 255, D = 1, F = [$];
      for (d = d >> 8, $ = d & 255; $ > 0; )
        F.unshift($), d = d >> 8, $ = d & 255, ++D;
      return T ? F.push(D) : F.unshift(D), this.update(F), F.length;
    }, h.prototype.encodeString = function(d) {
      var T, $ = typeof d;
      if ($ !== "string") {
        if ($ === "object") {
          if (d === null)
            throw new Error(e);
          if (c && d.constructor === ArrayBuffer)
            d = new Uint8Array(d);
          else if (!Array.isArray(d) && (!c || !ArrayBuffer.isView(d)))
            throw new Error(e);
        } else
          throw new Error(e);
        T = !0;
      }
      var D = 0, F = d.length;
      if (T)
        D = F;
      else
        for (var Y = 0; Y < d.length; ++Y) {
          var H = d.charCodeAt(Y);
          H < 128 ? D += 1 : H < 2048 ? D += 2 : H < 55296 || H >= 57344 ? D += 3 : (H = 65536 + ((H & 1023) << 10 | d.charCodeAt(++Y) & 1023), D += 4);
        }
      return D += this.encode(D * 8), this.update(d), D;
    }, h.prototype.bytepad = function(d, T) {
      for (var $ = this.encode(T), D = 0; D < d.length; ++D)
        $ += this.encodeString(d[D]);
      var F = T - $ % T, Y = [];
      return Y.length = F, this.update(Y), this;
    }, h.prototype.finalize = function() {
      if (!this.finalized) {
        this.finalized = !0;
        var d = this.blocks, T = this.lastByteIndex, $ = this.blockCount, D = this.s;
        if (d[T >> 2] |= this.padding[T & 3], this.lastByteIndex === this.byteCount)
          for (d[0] = d[$], T = 1; T < $ + 1; ++T)
            d[T] = 0;
        for (d[$ - 1] |= 2147483648, T = 0; T < $; ++T)
          D[T] ^= d[T];
        I(D);
      }
    }, h.prototype.toString = h.prototype.hex = function() {
      this.finalize();
      for (var d = this.blockCount, T = this.s, $ = this.outputBlocks, D = this.extraBytes, F = 0, Y = 0, H = "", G; Y < $; ) {
        for (F = 0; F < d && Y < $; ++F, ++Y)
          G = T[F], H += l[G >> 4 & 15] + l[G & 15] + l[G >> 12 & 15] + l[G >> 8 & 15] + l[G >> 20 & 15] + l[G >> 16 & 15] + l[G >> 28 & 15] + l[G >> 24 & 15];
        Y % d === 0 && (I(T), F = 0);
      }
      return D && (G = T[F], H += l[G >> 4 & 15] + l[G & 15], D > 1 && (H += l[G >> 12 & 15] + l[G >> 8 & 15]), D > 2 && (H += l[G >> 20 & 15] + l[G >> 16 & 15])), H;
    }, h.prototype.arrayBuffer = function() {
      this.finalize();
      var d = this.blockCount, T = this.s, $ = this.outputBlocks, D = this.extraBytes, F = 0, Y = 0, H = this.outputBits >> 3, G;
      D ? G = new ArrayBuffer($ + 1 << 2) : G = new ArrayBuffer(H);
      for (var vt = new Uint32Array(G); Y < $; ) {
        for (F = 0; F < d && Y < $; ++F, ++Y)
          vt[Y] = T[F];
        Y % d === 0 && I(T);
      }
      return D && (vt[F] = T[F], G = G.slice(0, H)), G;
    }, h.prototype.buffer = h.prototype.arrayBuffer, h.prototype.digest = h.prototype.array = function() {
      this.finalize();
      for (var d = this.blockCount, T = this.s, $ = this.outputBlocks, D = this.extraBytes, F = 0, Y = 0, H = [], G, vt; Y < $; ) {
        for (F = 0; F < d && Y < $; ++F, ++Y)
          G = Y << 2, vt = T[F], H[G] = vt & 255, H[G + 1] = vt >> 8 & 255, H[G + 2] = vt >> 16 & 255, H[G + 3] = vt >> 24 & 255;
        Y % d === 0 && I(T);
      }
      return D && (G = Y << 2, vt = T[F], H[G] = vt & 255, D > 1 && (H[G + 1] = vt >> 8 & 255), D > 2 && (H[G + 2] = vt >> 16 & 255)), H;
    };
    function v(d, T, $) {
      h.call(this, d, T, $);
    }
    v.prototype = new h(), v.prototype.finalize = function() {
      return this.encode(this.outputBits, !0), h.prototype.finalize.call(this);
    };
    var I = function(d) {
      var T, $, D, F, Y, H, G, vt, Z, ue, gs, Fe, Ue, ms, Ve, je, bs, We, He, xs, Ge, Ke, vs, ze, qe, ys, Qe, Je, ws, Ye, Xe, As, Ze, et, Ss, tt, rt, Cs, nt, it, Es, st, ot, _s, at, ct, Ps, lt, ut, ks, ht, ft, Rs, dt, pt, Ts, gt, mt, $i, Li, Fi, Ui, Vi;
      for (D = 0; D < 48; D += 2)
        F = d[0] ^ d[10] ^ d[20] ^ d[30] ^ d[40], Y = d[1] ^ d[11] ^ d[21] ^ d[31] ^ d[41], H = d[2] ^ d[12] ^ d[22] ^ d[32] ^ d[42], G = d[3] ^ d[13] ^ d[23] ^ d[33] ^ d[43], vt = d[4] ^ d[14] ^ d[24] ^ d[34] ^ d[44], Z = d[5] ^ d[15] ^ d[25] ^ d[35] ^ d[45], ue = d[6] ^ d[16] ^ d[26] ^ d[36] ^ d[46], gs = d[7] ^ d[17] ^ d[27] ^ d[37] ^ d[47], Fe = d[8] ^ d[18] ^ d[28] ^ d[38] ^ d[48], Ue = d[9] ^ d[19] ^ d[29] ^ d[39] ^ d[49], T = Fe ^ (H << 1 | G >>> 31), $ = Ue ^ (G << 1 | H >>> 31), d[0] ^= T, d[1] ^= $, d[10] ^= T, d[11] ^= $, d[20] ^= T, d[21] ^= $, d[30] ^= T, d[31] ^= $, d[40] ^= T, d[41] ^= $, T = F ^ (vt << 1 | Z >>> 31), $ = Y ^ (Z << 1 | vt >>> 31), d[2] ^= T, d[3] ^= $, d[12] ^= T, d[13] ^= $, d[22] ^= T, d[23] ^= $, d[32] ^= T, d[33] ^= $, d[42] ^= T, d[43] ^= $, T = H ^ (ue << 1 | gs >>> 31), $ = G ^ (gs << 1 | ue >>> 31), d[4] ^= T, d[5] ^= $, d[14] ^= T, d[15] ^= $, d[24] ^= T, d[25] ^= $, d[34] ^= T, d[35] ^= $, d[44] ^= T, d[45] ^= $, T = vt ^ (Fe << 1 | Ue >>> 31), $ = Z ^ (Ue << 1 | Fe >>> 31), d[6] ^= T, d[7] ^= $, d[16] ^= T, d[17] ^= $, d[26] ^= T, d[27] ^= $, d[36] ^= T, d[37] ^= $, d[46] ^= T, d[47] ^= $, T = ue ^ (F << 1 | Y >>> 31), $ = gs ^ (Y << 1 | F >>> 31), d[8] ^= T, d[9] ^= $, d[18] ^= T, d[19] ^= $, d[28] ^= T, d[29] ^= $, d[38] ^= T, d[39] ^= $, d[48] ^= T, d[49] ^= $, ms = d[0], Ve = d[1], ct = d[11] << 4 | d[10] >>> 28, Ps = d[10] << 4 | d[11] >>> 28, Je = d[20] << 3 | d[21] >>> 29, ws = d[21] << 3 | d[20] >>> 29, Li = d[31] << 9 | d[30] >>> 23, Fi = d[30] << 9 | d[31] >>> 23, st = d[40] << 18 | d[41] >>> 14, ot = d[41] << 18 | d[40] >>> 14, et = d[2] << 1 | d[3] >>> 31, Ss = d[3] << 1 | d[2] >>> 31, je = d[13] << 12 | d[12] >>> 20, bs = d[12] << 12 | d[13] >>> 20, lt = d[22] << 10 | d[23] >>> 22, ut = d[23] << 10 | d[22] >>> 22, Ye = d[33] << 13 | d[32] >>> 19, Xe = d[32] << 13 | d[33] >>> 19, Ui = d[42] << 2 | d[43] >>> 30, Vi = d[43] << 2 | d[42] >>> 30, dt = d[5] << 30 | d[4] >>> 2, pt = d[4] << 30 | d[5] >>> 2, tt = d[14] << 6 | d[15] >>> 26, rt = d[15] << 6 | d[14] >>> 26, We = d[25] << 11 | d[24] >>> 21, He = d[24] << 11 | d[25] >>> 21, ks = d[34] << 15 | d[35] >>> 17, ht = d[35] << 15 | d[34] >>> 17, As = d[45] << 29 | d[44] >>> 3, Ze = d[44] << 29 | d[45] >>> 3, ze = d[6] << 28 | d[7] >>> 4, qe = d[7] << 28 | d[6] >>> 4, Ts = d[17] << 23 | d[16] >>> 9, gt = d[16] << 23 | d[17] >>> 9, Cs = d[26] << 25 | d[27] >>> 7, nt = d[27] << 25 | d[26] >>> 7, xs = d[36] << 21 | d[37] >>> 11, Ge = d[37] << 21 | d[36] >>> 11, ft = d[47] << 24 | d[46] >>> 8, Rs = d[46] << 24 | d[47] >>> 8, _s = d[8] << 27 | d[9] >>> 5, at = d[9] << 27 | d[8] >>> 5, ys = d[18] << 20 | d[19] >>> 12, Qe = d[19] << 20 | d[18] >>> 12, mt = d[29] << 7 | d[28] >>> 25, $i = d[28] << 7 | d[29] >>> 25, it = d[38] << 8 | d[39] >>> 24, Es = d[39] << 8 | d[38] >>> 24, Ke = d[48] << 14 | d[49] >>> 18, vs = d[49] << 14 | d[48] >>> 18, d[0] = ms ^ ~je & We, d[1] = Ve ^ ~bs & He, d[10] = ze ^ ~ys & Je, d[11] = qe ^ ~Qe & ws, d[20] = et ^ ~tt & Cs, d[21] = Ss ^ ~rt & nt, d[30] = _s ^ ~ct & lt, d[31] = at ^ ~Ps & ut, d[40] = dt ^ ~Ts & mt, d[41] = pt ^ ~gt & $i, d[2] = je ^ ~We & xs, d[3] = bs ^ ~He & Ge, d[12] = ys ^ ~Je & Ye, d[13] = Qe ^ ~ws & Xe, d[22] = tt ^ ~Cs & it, d[23] = rt ^ ~nt & Es, d[32] = ct ^ ~lt & ks, d[33] = Ps ^ ~ut & ht, d[42] = Ts ^ ~mt & Li, d[43] = gt ^ ~$i & Fi, d[4] = We ^ ~xs & Ke, d[5] = He ^ ~Ge & vs, d[14] = Je ^ ~Ye & As, d[15] = ws ^ ~Xe & Ze, d[24] = Cs ^ ~it & st, d[25] = nt ^ ~Es & ot, d[34] = lt ^ ~ks & ft, d[35] = ut ^ ~ht & Rs, d[44] = mt ^ ~Li & Ui, d[45] = $i ^ ~Fi & Vi, d[6] = xs ^ ~Ke & ms, d[7] = Ge ^ ~vs & Ve, d[16] = Ye ^ ~As & ze, d[17] = Xe ^ ~Ze & qe, d[26] = it ^ ~st & et, d[27] = Es ^ ~ot & Ss, d[36] = ks ^ ~ft & _s, d[37] = ht ^ ~Rs & at, d[46] = Li ^ ~Ui & dt, d[47] = Fi ^ ~Vi & pt, d[8] = Ke ^ ~ms & je, d[9] = vs ^ ~Ve & bs, d[18] = As ^ ~ze & ys, d[19] = Ze ^ ~qe & Qe, d[28] = st ^ ~et & tt, d[29] = ot ^ ~Ss & rt, d[38] = ft ^ ~_s & ct, d[39] = Rs ^ ~at & Ps, d[48] = Ui ^ ~dt & Ts, d[49] = Vi ^ ~pt & gt, d[0] ^= C[D], d[1] ^= C[D + 1];
    };
    if (a)
      r.exports = u;
    else
      for (x = 0; x < g.length; ++x)
        i[g[x]] = u[g[x]];
  })();
})(My);
const E5 = My.exports;
function Rt(r) {
  return "0x" + E5.keccak_256(oe(r));
}
const _5 = "rlp/5.7.0", On = new M(_5);
function bb(r) {
  const e = [];
  for (; r; )
    e.unshift(r & 255), r >>= 8;
  return e;
}
function xb(r, e, t) {
  let n = 0;
  for (let i = 0; i < t; i++)
    n = n * 256 + r[e + i];
  return n;
}
function Oy(r) {
  if (Array.isArray(r)) {
    let n = [];
    if (r.forEach(function(s) {
      n = n.concat(Oy(s));
    }), n.length <= 55)
      return n.unshift(192 + n.length), n;
    const i = bb(n.length);
    return i.unshift(247 + i.length), i.concat(n);
  }
  $0(r) || On.throwArgumentError("RLP object must be BytesLike", "object", r);
  const e = Array.prototype.slice.call(oe(r));
  if (e.length === 1 && e[0] <= 127)
    return e;
  if (e.length <= 55)
    return e.unshift(128 + e.length), e;
  const t = bb(e.length);
  return t.unshift(183 + t.length), t.concat(e);
}
function Zc(r) {
  return re(Oy(r));
}
function vb(r, e, t, n) {
  const i = [];
  for (; t < e + 1 + n; ) {
    const s = Ny(r, t);
    i.push(s.result), t += s.consumed, t > e + 1 + n && On.throwError("child data too short", M.errors.BUFFER_OVERRUN, {});
  }
  return { consumed: 1 + n, result: i };
}
function Ny(r, e) {
  if (r.length === 0 && On.throwError("data too short", M.errors.BUFFER_OVERRUN, {}), r[e] >= 248) {
    const t = r[e] - 247;
    e + 1 + t > r.length && On.throwError("data short segment too short", M.errors.BUFFER_OVERRUN, {});
    const n = xb(r, e + 1, t);
    return e + 1 + t + n > r.length && On.throwError("data long segment too short", M.errors.BUFFER_OVERRUN, {}), vb(r, e, e + 1 + t, t + n);
  } else if (r[e] >= 192) {
    const t = r[e] - 192;
    return e + 1 + t > r.length && On.throwError("data array too short", M.errors.BUFFER_OVERRUN, {}), vb(r, e, e + 1, t);
  } else if (r[e] >= 184) {
    const t = r[e] - 183;
    e + 1 + t > r.length && On.throwError("data array too short", M.errors.BUFFER_OVERRUN, {});
    const n = xb(r, e + 1, t);
    e + 1 + t + n > r.length && On.throwError("data array too short", M.errors.BUFFER_OVERRUN, {});
    const i = re(r.slice(e + 1 + t, e + 1 + t + n));
    return { consumed: 1 + t + n, result: i };
  } else if (r[e] >= 128) {
    const t = r[e] - 128;
    e + 1 + t > r.length && On.throwError("data too short", M.errors.BUFFER_OVERRUN, {});
    const n = re(r.slice(e + 1, e + 1 + t));
    return { consumed: 1 + t, result: n };
  }
  return { consumed: 1, result: re(r[e]) };
}
function uh(r) {
  const e = oe(r), t = Ny(e, 0);
  return t.consumed !== e.length && On.throwArgumentError("invalid rlp data", "data", r), t.result;
}
const P5 = "address/5.7.0", Mo = new M(P5);
function yb(r) {
  ke(r, 20) || Mo.throwArgumentError("invalid address", "address", r), r = r.toLowerCase();
  const e = r.substring(2).split(""), t = new Uint8Array(40);
  for (let i = 0; i < 40; i++)
    t[i] = e[i].charCodeAt(0);
  const n = oe(Rt(t));
  for (let i = 0; i < 40; i += 2)
    n[i >> 1] >> 4 >= 8 && (e[i] = e[i].toUpperCase()), (n[i >> 1] & 15) >= 8 && (e[i + 1] = e[i + 1].toUpperCase());
  return "0x" + e.join("");
}
const k5 = 9007199254740991;
function R5(r) {
  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;
}
const V0 = {};
for (let r = 0; r < 10; r++)
  V0[String(r)] = String(r);
for (let r = 0; r < 26; r++)
  V0[String.fromCharCode(65 + r)] = String(10 + r);
const wb = Math.floor(R5(k5));
function T5(r) {
  r = r.toUpperCase(), r = r.substring(4) + r.substring(0, 2) + "00";
  let e = r.split("").map((n) => V0[n]).join("");
  for (; e.length >= wb; ) {
    let n = e.substring(0, wb);
    e = parseInt(n, 10) % 97 + e.substring(n.length);
  }
  let t = String(98 - parseInt(e, 10) % 97);
  for (; t.length < 2; )
    t = "0" + t;
  return t;
}
function Tt(r) {
  let e = null;
  if (typeof r != "string" && Mo.throwArgumentError("invalid address", "address", r), r.match(/^(0x)?[0-9a-fA-F]{40}$/))
    r.substring(0, 2) !== "0x" && (r = "0x" + r), e = yb(r), r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && e !== r && Mo.throwArgumentError("bad address checksum", "address", r);
  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (r.substring(2, 4) !== T5(r) && Mo.throwArgumentError("bad icap checksum", "address", r), e = FS(r.substring(4)); e.length < 40; )
      e = "0" + e;
    e = yb("0x" + e);
  } else
    Mo.throwArgumentError("invalid address", "address", r);
  return e;
}
function Dy(r) {
  let e = null;
  try {
    e = Tt(r.from);
  } catch {
    Mo.throwArgumentError("missing from address", "transaction", r);
  }
  const t = zo(oe(V.from(r.nonce).toHexString()));
  return Tt(nr(Rt(Zc([e, t])), 12));
}
class I5 extends Ii {
  constructor(e) {
    super("address", "address", e, !1);
  }
  defaultValue() {
    return "0x0000000000000000000000000000000000000000";
  }
  encode(e, t) {
    try {
      t = Tt(t);
    } catch (n) {
      this._throwError(n.message, t);
    }
    return e.writeValue(t);
  }
  decode(e) {
    return Tt(Le(e.readValue().toHexString(), 20));
  }
}
class M5 extends Ii {
  constructor(e) {
    super(e.name, e.type, void 0, e.dynamic), this.coder = e;
  }
  defaultValue() {
    return this.coder.defaultValue();
  }
  encode(e, t) {
    return this.coder.encode(e, t);
  }
  decode(e) {
    return this.coder.decode(e);
  }
}
const Oo = new M(Xc);
function By(r, e, t) {
  let n = null;
  if (Array.isArray(t))
    n = t;
  else if (t && typeof t == "object") {
    let c = {};
    n = e.map((l) => {
      const f = l.localName;
      return f || Oo.throwError("cannot encode object for signature with missing names", M.errors.INVALID_ARGUMENT, {
        argument: "values",
        coder: l,
        value: t
      }), c[f] && Oo.throwError("cannot encode object for signature with duplicate names", M.errors.INVALID_ARGUMENT, {
        argument: "values",
        coder: l,
        value: t
      }), c[f] = !0, t[f];
    });
  } else
    Oo.throwArgumentError("invalid tuple value", "tuple", t);
  e.length !== n.length && Oo.throwArgumentError("types/value length mismatch", "tuple", t);
  let i = new gd(r.wordSize), s = new gd(r.wordSize), o = [];
  e.forEach((c, l) => {
    let f = n[l];
    if (c.dynamic) {
      let p = s.length;
      c.encode(s, f);
      let b = i.writeUpdatableValue();
      o.push((w) => {
        b(w + p);
      });
    } else
      c.encode(i, f);
  }), o.forEach((c) => {
    c(i.length);
  });
  let a = r.appendWriter(i);
  return a += r.appendWriter(s), a;
}
function $y(r, e) {
  let t = [], n = r.subReader(0);
  e.forEach((s) => {
    let o = null;
    if (s.dynamic) {
      let a = r.readValue(), c = n.subReader(a.toNumber());
      try {
        o = s.decode(c);
      } catch (l) {
        if (l.code === M.errors.BUFFER_OVERRUN)
          throw l;
        o = l, o.baseType = s.name, o.name = s.localName, o.type = s.type;
      }
    } else
      try {
        o = s.decode(r);
      } catch (a) {
        if (a.code === M.errors.BUFFER_OVERRUN)
          throw a;
        o = a, o.baseType = s.name, o.name = s.localName, o.type = s.type;
      }
    o != null && t.push(o);
  });
  const i = e.reduce((s, o) => {
    const a = o.localName;
    return a && (s[a] || (s[a] = 0), s[a]++), s;
  }, {});
  e.forEach((s, o) => {
    let a = s.localName;
    if (!a || i[a] !== 1 || (a === "length" && (a = "_length"), t[a] != null))
      return;
    const c = t[o];
    c instanceof Error ? Object.defineProperty(t, a, {
      enumerable: !0,
      get: () => {
        throw c;
      }
    }) : t[a] = c;
  });
  for (let s = 0; s < t.length; s++) {
    const o = t[s];
    o instanceof Error && Object.defineProperty(t, s, {
      enumerable: !0,
      get: () => {
        throw o;
      }
    });
  }
  return Object.freeze(t);
}
class O5 extends Ii {
  constructor(e, t, n) {
    const i = e.type + "[" + (t >= 0 ? t : "") + "]", s = t === -1 || e.dynamic;
    super("array", i, n, s), this.coder = e, this.length = t;
  }
  defaultValue() {
    const e = this.coder.defaultValue(), t = [];
    for (let n = 0; n < this.length; n++)
      t.push(e);
    return t;
  }
  encode(e, t) {
    Array.isArray(t) || this._throwError("expected array value", t);
    let n = this.length;
    n === -1 && (n = t.length, e.writeValue(t.length)), Oo.checkArgumentCount(t.length, n, "coder array" + (this.localName ? " " + this.localName : ""));
    let i = [];
    for (let s = 0; s < t.length; s++)
      i.push(this.coder);
    return By(e, i, t);
  }
  decode(e) {
    let t = this.length;
    t === -1 && (t = e.readValue().toNumber(), t * 32 > e._data.length && Oo.throwError("insufficient data length", M.errors.BUFFER_OVERRUN, {
      length: e._data.length,
      count: t
    }));
    let n = [];
    for (let i = 0; i < t; i++)
      n.push(new M5(this.coder));
    return e.coerce(this.name, $y(e, n));
  }
}
class N5 extends Ii {
  constructor(e) {
    super("bool", "bool", e, !1);
  }
  defaultValue() {
    return !1;
  }
  encode(e, t) {
    return e.writeValue(t ? 1 : 0);
  }
  decode(e) {
    return e.coerce(this.type, !e.readValue().isZero());
  }
}
class Ly extends Ii {
  constructor(e, t) {
    super(e, e, t, !0);
  }
  defaultValue() {
    return "0x";
  }
  encode(e, t) {
    t = oe(t);
    let n = e.writeValue(t.length);
    return n += e.writeBytes(t), n;
  }
  decode(e) {
    return e.readBytes(e.readValue().toNumber(), !0);
  }
}
class D5 extends Ly {
  constructor(e) {
    super("bytes", e);
  }
  decode(e) {
    return e.coerce(this.name, re(super.decode(e)));
  }
}
class B5 extends Ii {
  constructor(e, t) {
    let n = "bytes" + String(e);
    super(n, n, t, !1), this.size = e;
  }
  defaultValue() {
    return "0x0000000000000000000000000000000000000000000000000000000000000000".substring(0, 2 + this.size * 2);
  }
  encode(e, t) {
    let n = oe(t);
    return n.length !== this.size && this._throwError("incorrect data length", t), e.writeBytes(n);
  }
  decode(e) {
    return e.coerce(this.name, re(e.readBytes(this.size)));
  }
}
class $5 extends Ii {
  constructor(e) {
    super("null", "", e, !1);
  }
  defaultValue() {
    return null;
  }
  encode(e, t) {
    return t != null && this._throwError("not null", t), e.writeBytes([]);
  }
  decode(e) {
    return e.readBytes(0), e.coerce(this.name, null);
  }
}
const L5 = "0x0000000000000000000000000000000000000000", F5 = /* @__PURE__ */ V.from(-1), j0 = /* @__PURE__ */ V.from(0), U5 = /* @__PURE__ */ V.from(1), V5 = /* @__PURE__ */ V.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"), j5 = "0x0000000000000000000000000000000000000000000000000000000000000000";
class W5 extends Ii {
  constructor(e, t, n) {
    const i = (t ? "int" : "uint") + e * 8;
    super(i, i, n, !1), this.size = e, this.signed = t;
  }
  defaultValue() {
    return 0;
  }
  encode(e, t) {
    let n = V.from(t), i = V5.mask(e.wordSize * 8);
    if (this.signed) {
      let s = i.mask(this.size * 8 - 1);
      (n.gt(s) || n.lt(s.add(U5).mul(F5))) && this._throwError("value out-of-bounds", t);
    } else
      (n.lt(j0) || n.gt(i.mask(this.size * 8))) && this._throwError("value out-of-bounds", t);
    return n = n.toTwos(this.size * 8).mask(this.size * 8), this.signed && (n = n.fromTwos(this.size * 8).toTwos(8 * e.wordSize)), e.writeValue(n);
  }
  decode(e) {
    let t = e.readValue().mask(this.size * 8);
    return this.signed && (t = t.fromTwos(this.size * 8)), e.coerce(this.name, t);
  }
}
const H5 = "strings/5.7.0", Fy = new M(H5);
var yc;
(function(r) {
  r.current = "", r.NFC = "NFC", r.NFD = "NFD", r.NFKC = "NFKC", r.NFKD = "NFKD";
})(yc || (yc = {}));
var $r;
(function(r) {
  r.UNEXPECTED_CONTINUE = "unexpected continuation byte", r.BAD_PREFIX = "bad codepoint prefix", r.OVERRUN = "string overrun", r.MISSING_CONTINUE = "missing continuation byte", r.OUT_OF_RANGE = "out of UTF-8 range", r.UTF16_SURROGATE = "UTF-16 surrogate", r.OVERLONG = "overlong representation";
})($r || ($r = {}));
function G5(r, e, t, n, i) {
  return Fy.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`, "bytes", t);
}
function Uy(r, e, t, n, i) {
  if (r === $r.BAD_PREFIX || r === $r.UNEXPECTED_CONTINUE) {
    let s = 0;
    for (let o = e + 1; o < t.length && t[o] >> 6 === 2; o++)
      s++;
    return s;
  }
  return r === $r.OVERRUN ? t.length - e - 1 : 0;
}
function K5(r, e, t, n, i) {
  return r === $r.OVERLONG ? (n.push(i), 0) : (n.push(65533), Uy(r, e, t));
}
const z5 = Object.freeze({
  error: G5,
  ignore: Uy,
  replace: K5
});
function Vy(r, e) {
  e == null && (e = z5.error), r = oe(r);
  const t = [];
  let n = 0;
  for (; n < r.length; ) {
    const i = r[n++];
    if (i >> 7 === 0) {
      t.push(i);
      continue;
    }
    let s = null, o = null;
    if ((i & 224) === 192)
      s = 1, o = 127;
    else if ((i & 240) === 224)
      s = 2, o = 2047;
    else if ((i & 248) === 240)
      s = 3, o = 65535;
    else {
      (i & 192) === 128 ? n += e($r.UNEXPECTED_CONTINUE, n - 1, r, t) : n += e($r.BAD_PREFIX, n - 1, r, t);
      continue;
    }
    if (n - 1 + s >= r.length) {
      n += e($r.OVERRUN, n - 1, r, t);
      continue;
    }
    let a = i & (1 << 8 - s - 1) - 1;
    for (let c = 0; c < s; c++) {
      let l = r[n];
      if ((l & 192) != 128) {
        n += e($r.MISSING_CONTINUE, n, r, t), a = null;
        break;
      }
      a = a << 6 | l & 63, n++;
    }
    if (a !== null) {
      if (a > 1114111) {
        n += e($r.OUT_OF_RANGE, n - 1 - s, r, t, a);
        continue;
      }
      if (a >= 55296 && a <= 57343) {
        n += e($r.UTF16_SURROGATE, n - 1 - s, r, t, a);
        continue;
      }
      if (a <= o) {
        n += e($r.OVERLONG, n - 1 - s, r, t, a);
        continue;
      }
      t.push(a);
    }
  }
  return t;
}
function _n(r, e = yc.current) {
  e != yc.current && (Fy.checkNormalize(), r = r.normalize(e));
  let t = [];
  for (let n = 0; n < r.length; n++) {
    const i = r.charCodeAt(n);
    if (i < 128)
      t.push(i);
    else if (i < 2048)
      t.push(i >> 6 | 192), t.push(i & 63 | 128);
    else if ((i & 64512) == 55296) {
      n++;
      const s = r.charCodeAt(n);
      if (n >= r.length || (s & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const o = 65536 + ((i & 1023) << 10) + (s & 1023);
      t.push(o >> 18 | 240), t.push(o >> 12 & 63 | 128), t.push(o >> 6 & 63 | 128), t.push(o & 63 | 128);
    } else
      t.push(i >> 12 | 224), t.push(i >> 6 & 63 | 128), t.push(i & 63 | 128);
  }
  return oe(t);
}
function q5(r) {
  return r.map((e) => e <= 65535 ? String.fromCharCode(e) : (e -= 65536, String.fromCharCode((e >> 10 & 1023) + 55296, (e & 1023) + 56320))).join("");
}
function el(r, e) {
  return q5(Vy(r, e));
}
function Q5(r, e = yc.current) {
  return Vy(_n(r, e));
}
class J5 extends Ly {
  constructor(e) {
    super("string", e);
  }
  defaultValue() {
    return "";
  }
  encode(e, t) {
    return super.encode(e, _n(t));
  }
  decode(e) {
    return el(super.decode(e));
  }
}
class wl extends Ii {
  constructor(e, t) {
    let n = !1;
    const i = [];
    e.forEach((o) => {
      o.dynamic && (n = !0), i.push(o.type);
    });
    const s = "tuple(" + i.join(",") + ")";
    super("tuple", s, t, n), this.coders = e;
  }
  defaultValue() {
    const e = [];
    this.coders.forEach((n) => {
      e.push(n.defaultValue());
    });
    const t = this.coders.reduce((n, i) => {
      const s = i.localName;
      return s && (n[s] || (n[s] = 0), n[s]++), n;
    }, {});
    return this.coders.forEach((n, i) => {
      let s = n.localName;
      !s || t[s] !== 1 || (s === "length" && (s = "_length"), e[s] == null && (e[s] = e[i]));
    }), Object.freeze(e);
  }
  encode(e, t) {
    return By(e, this.coders, t);
  }
  decode(e) {
    return e.coerce(this.name, $y(e, this.coders));
  }
}
const Al = new M(Xc), Y5 = new RegExp(/^bytes([0-9]*)$/), X5 = new RegExp(/^(u?int)([0-9]*)$/);
class Z5 {
  constructor(e) {
    W(this, "coerceFunc", e || null);
  }
  _getCoder(e) {
    switch (e.baseType) {
      case "address":
        return new I5(e.name);
      case "bool":
        return new N5(e.name);
      case "string":
        return new J5(e.name);
      case "bytes":
        return new D5(e.name);
      case "array":
        return new O5(this._getCoder(e.arrayChildren), e.arrayLength, e.name);
      case "tuple":
        return new wl((e.components || []).map((n) => this._getCoder(n)), e.name);
      case "":
        return new $5(e.name);
    }
    let t = e.type.match(X5);
    if (t) {
      let n = parseInt(t[2] || "256");
      return (n === 0 || n > 256 || n % 8 !== 0) && Al.throwArgumentError("invalid " + t[1] + " bit length", "param", e), new W5(n / 8, t[1] === "int", e.name);
    }
    if (t = e.type.match(Y5), t) {
      let n = parseInt(t[1]);
      return (n === 0 || n > 32) && Al.throwArgumentError("invalid bytes length", "param", e), new B5(n, e.name);
    }
    return Al.throwArgumentError("invalid type", "type", e.type);
  }
  _getWordSize() {
    return 32;
  }
  _getReader(e, t) {
    return new wu(e, this._getWordSize(), this.coerceFunc, t);
  }
  _getWriter() {
    return new gd(this._getWordSize());
  }
  getDefaultValue(e) {
    const t = e.map((i) => this._getCoder(jt.from(i)));
    return new wl(t, "_").defaultValue();
  }
  encode(e, t) {
    e.length !== t.length && Al.throwError("types/values length mismatch", M.errors.INVALID_ARGUMENT, {
      count: { types: e.length, values: t.length },
      value: { types: e, values: t }
    });
    const n = e.map((o) => this._getCoder(jt.from(o))), i = new wl(n, "_"), s = this._getWriter();
    return i.encode(s, t), s.data;
  }
  decode(e, t, n) {
    const i = e.map((o) => this._getCoder(jt.from(o)));
    return new wl(i, "_").decode(this._getReader(oe(t), n));
  }
}
const eC = new Z5();
function Us(r) {
  return Rt(_n(r));
}
const jy = "hash/5.7.0";
function Wy(r) {
  r = atob(r);
  const e = [];
  for (let t = 0; t < r.length; t++)
    e.push(r.charCodeAt(t));
  return oe(e);
}
function Hy(r) {
  r = oe(r);
  let e = "";
  for (let t = 0; t < r.length; t++)
    e += String.fromCharCode(r[t]);
  return btoa(e);
}
function Gy(r, e) {
  e == null && (e = 1);
  const t = [], n = t.forEach, i = function(s, o) {
    n.call(s, function(a) {
      o > 0 && Array.isArray(a) ? i(a, o - 1) : t.push(a);
    });
  };
  return i(r, e), t;
}
function tC(r) {
  const e = {};
  for (let t = 0; t < r.length; t++) {
    const n = r[t];
    e[n[0]] = n[1];
  }
  return e;
}
function rC(r) {
  let e = 0;
  function t() {
    return r[e++] << 8 | r[e++];
  }
  let n = t(), i = 1, s = [0, 1];
  for (let N = 1; N < n; N++)
    s.push(i += t());
  let o = t(), a = e;
  e += o;
  let c = 0, l = 0;
  function f() {
    return c == 0 && (l = l << 8 | r[e++], c = 8), l >> --c & 1;
  }
  const p = 31, b = Math.pow(2, p), w = b >>> 1, A = w >> 1, C = b - 1;
  let S = 0;
  for (let N = 0; N < p; N++)
    S = S << 1 | f();
  let k = [], O = 0, L = b;
  for (; ; ) {
    let N = Math.floor(((S - O + 1) * i - 1) / L), j = 0, q = n;
    for (; q - j > 1; ) {
      let ce = j + q >>> 1;
      N < s[ce] ? q = ce : j = ce;
    }
    if (j == 0)
      break;
    k.push(j);
    let K = O + Math.floor(L * s[j] / i), X = O + Math.floor(L * s[j + 1] / i) - 1;
    for (; ((K ^ X) & w) == 0; )
      S = S << 1 & C | f(), K = K << 1 & C, X = X << 1 & C | 1;
    for (; K & ~X & A; )
      S = S & w | S << 1 & C >>> 1 | f(), K = K << 1 ^ w, X = (X ^ w) << 1 | w | 1;
    O = K, L = 1 + X - K;
  }
  let B = n - 4;
  return k.map((N) => {
    switch (N - B) {
      case 3:
        return B + 65792 + (r[a++] << 16 | r[a++] << 8 | r[a++]);
      case 2:
        return B + 256 + (r[a++] << 8 | r[a++]);
      case 1:
        return B + r[a++];
      default:
        return N - 1;
    }
  });
}
function nC(r) {
  let e = 0;
  return () => r[e++];
}
function iC(r) {
  return nC(rC(r));
}
function sC(r) {
  return r & 1 ? ~r >> 1 : r >> 1;
}
function oC(r, e) {
  let t = Array(r);
  for (let n = 0; n < r; n++)
    t[n] = 1 + e();
  return t;
}
function Ab(r, e) {
  let t = Array(r);
  for (let n = 0, i = -1; n < r; n++)
    t[n] = i += 1 + e();
  return t;
}
function aC(r, e) {
  let t = Array(r);
  for (let n = 0, i = 0; n < r; n++)
    t[n] = i += sC(e());
  return t;
}
function Au(r, e) {
  let t = Ab(r(), r), n = r(), i = Ab(n, r), s = oC(n, r);
  for (let o = 0; o < n; o++)
    for (let a = 0; a < s[o]; a++)
      t.push(i[o] + a);
  return e ? t.map((o) => e[o]) : t;
}
function cC(r) {
  let e = [];
  for (; ; ) {
    let t = r();
    if (t == 0)
      break;
    e.push(uC(t, r));
  }
  for (; ; ) {
    let t = r() - 1;
    if (t < 0)
      break;
    e.push(hC(t, r));
  }
  return tC(Gy(e));
}
function lC(r) {
  let e = [];
  for (; ; ) {
    let t = r();
    if (t == 0)
      break;
    e.push(t);
  }
  return e;
}
function Ky(r, e, t) {
  let n = Array(r).fill(void 0).map(() => []);
  for (let i = 0; i < e; i++)
    aC(r, t).forEach((s, o) => n[o].push(s));
  return n;
}
function uC(r, e) {
  let t = 1 + e(), n = e(), i = lC(e), s = Ky(i.length, 1 + r, e);
  return Gy(s.map((o, a) => {
    const c = o[0], l = o.slice(1);
    return Array(i[a]).fill(void 0).map((f, p) => {
      let b = p * n;
      return [c + p * t, l.map((w) => w + b)];
    });
  }));
}
function hC(r, e) {
  let t = 1 + e();
  return Ky(t, 1 + r, e).map((i) => [i[0], i.slice(1)]);
}
function fC(r) {
  let e = Au(r).sort((n, i) => n - i);
  return t();
  function t() {
    let n = [];
    for (; ; ) {
      let l = Au(r, e);
      if (l.length == 0)
        break;
      n.push({ set: new Set(l), node: t() });
    }
    n.sort((l, f) => f.set.size - l.set.size);
    let i = r(), s = i % 3;
    i = i / 3 | 0;
    let o = !!(i & 1);
    i >>= 1;
    let a = i == 1, c = i == 2;
    return { branches: n, valid: s, fe0f: o, save: a, check: c };
  }
}
function dC() {
  return iC(Wy("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));
}
const hh = dC(), pC = new Set(Au(hh)), gC = new Set(Au(hh)), mC = cC(hh), bC = fC(hh), Sb = 45, Cb = 95;
function zy(r) {
  return Q5(r);
}
function xC(r) {
  return r.filter((e) => e != 65039);
}
function qy(r) {
  for (let e of r.split(".")) {
    let t = zy(e);
    try {
      for (let n = t.lastIndexOf(Cb) - 1; n >= 0; n--)
        if (t[n] !== Cb)
          throw new Error("underscore only allowed at start");
      if (t.length >= 4 && t.every((n) => n < 128) && t[2] === Sb && t[3] === Sb)
        throw new Error("invalid label extension");
    } catch (n) {
      throw new Error(`Invalid label "${e}": ${n.message}`);
    }
  }
  return r;
}
function vC(r) {
  return qy(yC(r, xC));
}
function yC(r, e) {
  let t = zy(r).reverse(), n = [];
  for (; t.length; ) {
    let i = AC(t);
    if (i) {
      n.push(...e(i));
      continue;
    }
    let s = t.pop();
    if (pC.has(s)) {
      n.push(s);
      continue;
    }
    if (gC.has(s))
      continue;
    let o = mC[s];
    if (o) {
      n.push(...o);
      continue;
    }
    throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`);
  }
  return qy(wC(String.fromCodePoint(...n)));
}
function wC(r) {
  return r.normalize("NFC");
}
function AC(r, e) {
  var t;
  let n = bC, i, s, o = [], a = r.length;
  for (e && (e.length = 0); a; ) {
    let c = r[--a];
    if (n = (t = n.branches.find((l) => l.set.has(c))) === null || t === void 0 ? void 0 : t.node, !n)
      break;
    if (n.save)
      s = c;
    else if (n.check && c === s)
      break;
    o.push(c), n.fe0f && (o.push(65039), a > 0 && r[a - 1] == 65039 && a--), n.valid && (i = o.slice(), n.valid == 2 && i.splice(1, 1), e && e.push(...r.slice(a).reverse()), r.length = a);
  }
  return i;
}
const SC = new M(jy), Qy = new Uint8Array(32);
Qy.fill(0);
function Eb(r) {
  if (r.length === 0)
    throw new Error("invalid ENS name; empty component");
  return r;
}
function Jy(r) {
  const e = _n(vC(r)), t = [];
  if (r.length === 0)
    return t;
  let n = 0;
  for (let i = 0; i < e.length; i++)
    e[i] === 46 && (t.push(Eb(e.slice(n, i))), n = i + 1);
  if (n >= e.length)
    throw new Error("invalid ENS name; empty component");
  return t.push(Eb(e.slice(n))), t;
}
function Kl(r) {
  typeof r != "string" && SC.throwArgumentError("invalid ENS name; not a string", "name", r);
  let e = Qy;
  const t = Jy(r);
  for (; t.length; )
    e = Rt(jr([e, Rt(t.pop())]));
  return re(e);
}
function CC(r) {
  return re(jr(Jy(r).map((e) => {
    if (e.length > 63)
      throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");
    const t = new Uint8Array(e.length + 1);
    return t.set(e, 1), t[0] = t.length - 1, t;
  }))) + "00";
}
var EC = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const wt = new M(jy), Yy = new Uint8Array(32);
Yy.fill(0);
const _C = V.from(-1), Xy = V.from(0), Zy = V.from(1), PC = V.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");
function kC(r) {
  const e = oe(r), t = e.length % 32;
  return t ? Er([e, Yy.slice(t)]) : re(e);
}
const RC = Le(Zy.toHexString(), 32), TC = Le(Xy.toHexString(), 32), _b = {
  name: "string",
  version: "string",
  chainId: "uint256",
  verifyingContract: "address",
  salt: "bytes32"
}, mf = [
  "name",
  "version",
  "chainId",
  "verifyingContract",
  "salt"
];
function Pb(r) {
  return function(e) {
    return typeof e != "string" && wt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`, `domain.${r}`, e), e;
  };
}
const IC = {
  name: Pb("name"),
  version: Pb("version"),
  chainId: function(r) {
    try {
      return V.from(r).toString();
    } catch {
    }
    return wt.throwArgumentError('invalid domain value for "chainId"', "domain.chainId", r);
  },
  verifyingContract: function(r) {
    try {
      return Tt(r).toLowerCase();
    } catch {
    }
    return wt.throwArgumentError('invalid domain value "verifyingContract"', "domain.verifyingContract", r);
  },
  salt: function(r) {
    try {
      const e = oe(r);
      if (e.length !== 32)
        throw new Error("bad length");
      return re(e);
    } catch {
    }
    return wt.throwArgumentError('invalid domain value "salt"', "domain.salt", r);
  }
};
function bf(r) {
  {
    const e = r.match(/^(u?)int(\d*)$/);
    if (e) {
      const t = e[1] === "", n = parseInt(e[2] || "256");
      (n % 8 !== 0 || n > 256 || e[2] && e[2] !== String(n)) && wt.throwArgumentError("invalid numeric width", "type", r);
      const i = PC.mask(t ? n - 1 : n), s = t ? i.add(Zy).mul(_C) : Xy;
      return function(o) {
        const a = V.from(o);
        return (a.lt(s) || a.gt(i)) && wt.throwArgumentError(`value out-of-bounds for ${r}`, "value", o), Le(a.toTwos(256).toHexString(), 32);
      };
    }
  }
  {
    const e = r.match(/^bytes(\d+)$/);
    if (e) {
      const t = parseInt(e[1]);
      return (t === 0 || t > 32 || e[1] !== String(t)) && wt.throwArgumentError("invalid bytes width", "type", r), function(n) {
        return oe(n).length !== t && wt.throwArgumentError(`invalid length for ${r}`, "value", n), kC(n);
      };
    }
  }
  switch (r) {
    case "address":
      return function(e) {
        return Le(Tt(e), 32);
      };
    case "bool":
      return function(e) {
        return e ? RC : TC;
      };
    case "bytes":
      return function(e) {
        return Rt(e);
      };
    case "string":
      return function(e) {
        return Us(e);
      };
  }
  return null;
}
function kb(r, e) {
  return `${r}(${e.map(({ name: t, type: n }) => n + " " + t).join(",")})`;
}
class Br {
  constructor(e) {
    W(this, "types", Object.freeze(wi(e))), W(this, "_encoderCache", {}), W(this, "_types", {});
    const t = {}, n = {}, i = {};
    Object.keys(e).forEach((a) => {
      t[a] = {}, n[a] = [], i[a] = {};
    });
    for (const a in e) {
      const c = {};
      e[a].forEach((l) => {
        c[l.name] && wt.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`, "types", e), c[l.name] = !0;
        const f = l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];
        f === a && wt.throwArgumentError(`circular type reference to ${JSON.stringify(f)}`, "types", e), !bf(f) && (n[f] || wt.throwArgumentError(`unknown type ${JSON.stringify(f)}`, "types", e), n[f].push(a), t[a][f] = !0);
      });
    }
    const s = Object.keys(n).filter((a) => n[a].length === 0);
    s.length === 0 ? wt.throwArgumentError("missing primary type", "types", e) : s.length > 1 && wt.throwArgumentError(`ambiguous primary types or unused types: ${s.map((a) => JSON.stringify(a)).join(", ")}`, "types", e), W(this, "primaryType", s[0]);
    function o(a, c) {
      c[a] && wt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`, "types", e), c[a] = !0, Object.keys(t[a]).forEach((l) => {
        !n[l] || (o(l, c), Object.keys(c).forEach((f) => {
          i[f][l] = !0;
        }));
      }), delete c[a];
    }
    o(this.primaryType, {});
    for (const a in i) {
      const c = Object.keys(i[a]);
      c.sort(), this._types[a] = kb(a, e[a]) + c.map((l) => kb(l, e[l])).join("");
    }
  }
  getEncoder(e) {
    let t = this._encoderCache[e];
    return t || (t = this._encoderCache[e] = this._getEncoder(e)), t;
  }
  _getEncoder(e) {
    {
      const i = bf(e);
      if (i)
        return i;
    }
    const t = e.match(/^(.*)(\x5b(\d*)\x5d)$/);
    if (t) {
      const i = t[1], s = this.getEncoder(i), o = parseInt(t[3]);
      return (a) => {
        o >= 0 && a.length !== o && wt.throwArgumentError("array length mismatch; expected length ${ arrayLength }", "value", a);
        let c = a.map(s);
        return this._types[i] && (c = c.map(Rt)), Rt(Er(c));
      };
    }
    const n = this.types[e];
    if (n) {
      const i = Us(this._types[e]);
      return (s) => {
        const o = n.map(({ name: a, type: c }) => {
          const l = this.getEncoder(c)(s[a]);
          return this._types[c] ? Rt(l) : l;
        });
        return o.unshift(i), Er(o);
      };
    }
    return wt.throwArgumentError(`unknown type: ${e}`, "type", e);
  }
  encodeType(e) {
    const t = this._types[e];
    return t || wt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`, "name", e), t;
  }
  encodeData(e, t) {
    return this.getEncoder(e)(t);
  }
  hashStruct(e, t) {
    return Rt(this.encodeData(e, t));
  }
  encode(e) {
    return this.encodeData(this.primaryType, e);
  }
  hash(e) {
    return this.hashStruct(this.primaryType, e);
  }
  _visit(e, t, n) {
    if (bf(e))
      return n(e, t);
    const i = e.match(/^(.*)(\x5b(\d*)\x5d)$/);
    if (i) {
      const o = i[1], a = parseInt(i[3]);
      return a >= 0 && t.length !== a && wt.throwArgumentError("array length mismatch; expected length ${ arrayLength }", "value", t), t.map((c) => this._visit(o, c, n));
    }
    const s = this.types[e];
    return s ? s.reduce((o, { name: a, type: c }) => (o[a] = this._visit(c, t[a], n), o), {}) : wt.throwArgumentError(`unknown type: ${e}`, "type", e);
  }
  visit(e, t) {
    return this._visit(this.primaryType, e, t);
  }
  static from(e) {
    return new Br(e);
  }
  static getPrimaryType(e) {
    return Br.from(e).primaryType;
  }
  static hashStruct(e, t, n) {
    return Br.from(t).hashStruct(e, n);
  }
  static hashDomain(e) {
    const t = [];
    for (const n in e) {
      const i = _b[n];
      i || wt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`, "domain", e), t.push({ name: n, type: i });
    }
    return t.sort((n, i) => mf.indexOf(n.name) - mf.indexOf(i.name)), Br.hashStruct("EIP712Domain", { EIP712Domain: t }, e);
  }
  static encode(e, t, n) {
    return Er([
      "0x1901",
      Br.hashDomain(e),
      Br.from(t).hash(n)
    ]);
  }
  static hash(e, t, n) {
    return Rt(Br.encode(e, t, n));
  }
  static resolveNames(e, t, n, i) {
    return EC(this, void 0, void 0, function* () {
      e = $t(e);
      const s = {};
      e.verifyingContract && !ke(e.verifyingContract, 20) && (s[e.verifyingContract] = "0x");
      const o = Br.from(t);
      o.visit(n, (a, c) => (a === "address" && !ke(c, 20) && (s[c] = "0x"), c));
      for (const a in s)
        s[a] = yield i(a);
      return e.verifyingContract && s[e.verifyingContract] && (e.verifyingContract = s[e.verifyingContract]), n = o.visit(n, (a, c) => a === "address" && s[c] ? s[c] : c), { domain: e, value: n };
    });
  }
  static getPayload(e, t, n) {
    Br.hashDomain(e);
    const i = {}, s = [];
    mf.forEach((c) => {
      const l = e[c];
      l != null && (i[c] = IC[c](l), s.push({ name: c, type: _b[c] }));
    });
    const o = Br.from(t), a = $t(t);
    return a.EIP712Domain ? wt.throwArgumentError("types must not contain EIP712Domain type", "types.EIP712Domain", t) : a.EIP712Domain = s, o.encode(n), {
      types: a,
      domain: i,
      primaryType: o.primaryType,
      message: o.visit(n, (c, l) => {
        if (c.match(/^bytes(\d*)/))
          return re(oe(l));
        if (c.match(/^u?int/))
          return V.from(l).toString();
        switch (c) {
          case "address":
            return l.toLowerCase();
          case "bool":
            return !!l;
          case "string":
            return typeof l != "string" && wt.throwArgumentError("invalid string", "value", l), l;
        }
        return wt.throwArgumentError("unsupported type", "type", c);
      })
    };
  }
}
const yt = new M(Xc);
class MC extends Yc {
}
class OC extends Yc {
}
class NC extends Yc {
}
class md extends Yc {
  static isIndexed(e) {
    return !!(e && e._isIndexed);
  }
}
const DC = {
  "0x08c379a0": { signature: "Error(string)", name: "Error", inputs: ["string"], reason: !0 },
  "0x4e487b71": { signature: "Panic(uint256)", name: "Panic", inputs: ["uint256"] }
};
function Rb(r, e) {
  const t = new Error(`deferred error during ABI decoding triggered accessing ${r}`);
  return t.error = e, t;
}
class Tb {
  constructor(e) {
    let t = [];
    typeof e == "string" ? t = JSON.parse(e) : t = e, W(this, "fragments", t.map((n) => ui.from(n)).filter((n) => n != null)), W(this, "_abiCoder", Un(new.target, "getAbiCoder")()), W(this, "functions", {}), W(this, "errors", {}), W(this, "events", {}), W(this, "structs", {}), this.fragments.forEach((n) => {
      let i = null;
      switch (n.type) {
        case "constructor":
          if (this.deploy) {
            yt.warn("duplicate definition - constructor");
            return;
          }
          W(this, "deploy", n);
          return;
        case "function":
          i = this.functions;
          break;
        case "event":
          i = this.events;
          break;
        case "error":
          i = this.errors;
          break;
        default:
          return;
      }
      let s = n.format();
      if (i[s]) {
        yt.warn("duplicate definition - " + s);
        return;
      }
      i[s] = n;
    }), this.deploy || W(this, "deploy", Ln.from({
      payable: !1,
      type: "constructor"
    })), W(this, "_isInterface", !0);
  }
  format(e) {
    e || (e = Pe.full), e === Pe.sighash && yt.throwArgumentError("interface does not support formatting sighash", "format", e);
    const t = this.fragments.map((n) => n.format(e));
    return e === Pe.json ? JSON.stringify(t.map((n) => JSON.parse(n))) : t;
  }
  static getAbiCoder() {
    return eC;
  }
  static getAddress(e) {
    return Tt(e);
  }
  static getSighash(e) {
    return nr(Us(e.format()), 0, 4);
  }
  static getEventTopic(e) {
    return Us(e.format());
  }
  getFunction(e) {
    if (ke(e)) {
      for (const n in this.functions)
        if (e === this.getSighash(n))
          return this.functions[n];
      yt.throwArgumentError("no matching function", "sighash", e);
    }
    if (e.indexOf("(") === -1) {
      const n = e.trim(), i = Object.keys(this.functions).filter((s) => s.split("(")[0] === n);
      return i.length === 0 ? yt.throwArgumentError("no matching function", "name", n) : i.length > 1 && yt.throwArgumentError("multiple matching functions", "name", n), this.functions[i[0]];
    }
    const t = this.functions[Fn.fromString(e).format()];
    return t || yt.throwArgumentError("no matching function", "signature", e), t;
  }
  getEvent(e) {
    if (ke(e)) {
      const n = e.toLowerCase();
      for (const i in this.events)
        if (n === this.getEventTopic(i))
          return this.events[i];
      yt.throwArgumentError("no matching event", "topichash", n);
    }
    if (e.indexOf("(") === -1) {
      const n = e.trim(), i = Object.keys(this.events).filter((s) => s.split("(")[0] === n);
      return i.length === 0 ? yt.throwArgumentError("no matching event", "name", n) : i.length > 1 && yt.throwArgumentError("multiple matching events", "name", n), this.events[i[0]];
    }
    const t = this.events[li.fromString(e).format()];
    return t || yt.throwArgumentError("no matching event", "signature", e), t;
  }
  getError(e) {
    if (ke(e)) {
      const n = Un(this.constructor, "getSighash");
      for (const i in this.errors) {
        const s = this.errors[i];
        if (e === n(s))
          return this.errors[i];
      }
      yt.throwArgumentError("no matching error", "sighash", e);
    }
    if (e.indexOf("(") === -1) {
      const n = e.trim(), i = Object.keys(this.errors).filter((s) => s.split("(")[0] === n);
      return i.length === 0 ? yt.throwArgumentError("no matching error", "name", n) : i.length > 1 && yt.throwArgumentError("multiple matching errors", "name", n), this.errors[i[0]];
    }
    const t = this.errors[Fn.fromString(e).format()];
    return t || yt.throwArgumentError("no matching error", "signature", e), t;
  }
  getSighash(e) {
    if (typeof e == "string")
      try {
        e = this.getFunction(e);
      } catch (t) {
        try {
          e = this.getError(e);
        } catch {
          throw t;
        }
      }
    return Un(this.constructor, "getSighash")(e);
  }
  getEventTopic(e) {
    return typeof e == "string" && (e = this.getEvent(e)), Un(this.constructor, "getEventTopic")(e);
  }
  _decodeParams(e, t) {
    return this._abiCoder.decode(e, t);
  }
  _encodeParams(e, t) {
    return this._abiCoder.encode(e, t);
  }
  encodeDeploy(e) {
    return this._encodeParams(this.deploy.inputs, e || []);
  }
  decodeErrorResult(e, t) {
    typeof e == "string" && (e = this.getError(e));
    const n = oe(t);
    return re(n.slice(0, 4)) !== this.getSighash(e) && yt.throwArgumentError(`data signature does not match error ${e.name}.`, "data", re(n)), this._decodeParams(e.inputs, n.slice(4));
  }
  encodeErrorResult(e, t) {
    return typeof e == "string" && (e = this.getError(e)), re(jr([
      this.getSighash(e),
      this._encodeParams(e.inputs, t || [])
    ]));
  }
  decodeFunctionData(e, t) {
    typeof e == "string" && (e = this.getFunction(e));
    const n = oe(t);
    return re(n.slice(0, 4)) !== this.getSighash(e) && yt.throwArgumentError(`data signature does not match function ${e.name}.`, "data", re(n)), this._decodeParams(e.inputs, n.slice(4));
  }
  encodeFunctionData(e, t) {
    return typeof e == "string" && (e = this.getFunction(e)), re(jr([
      this.getSighash(e),
      this._encodeParams(e.inputs, t || [])
    ]));
  }
  decodeFunctionResult(e, t) {
    typeof e == "string" && (e = this.getFunction(e));
    let n = oe(t), i = null, s = "", o = null, a = null, c = null;
    switch (n.length % this._abiCoder._getWordSize()) {
      case 0:
        try {
          return this._abiCoder.decode(e.outputs, n);
        } catch {
        }
        break;
      case 4: {
        const l = re(n.slice(0, 4)), f = DC[l];
        if (f)
          o = this._abiCoder.decode(f.inputs, n.slice(4)), a = f.name, c = f.signature, f.reason && (i = o[0]), a === "Error" ? s = `; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}` : a === "Panic" && (s = `; VM Exception while processing transaction: reverted with panic code ${o[0]}`);
        else
          try {
            const p = this.getError(l);
            o = this._abiCoder.decode(p.inputs, n.slice(4)), a = p.name, c = p.format();
          } catch {
          }
        break;
      }
    }
    return yt.throwError("call revert exception" + s, M.errors.CALL_EXCEPTION, {
      method: e.format(),
      data: re(t),
      errorArgs: o,
      errorName: a,
      errorSignature: c,
      reason: i
    });
  }
  encodeFunctionResult(e, t) {
    return typeof e == "string" && (e = this.getFunction(e)), re(this._abiCoder.encode(e.outputs, t || []));
  }
  encodeFilterTopics(e, t) {
    typeof e == "string" && (e = this.getEvent(e)), t.length > e.inputs.length && yt.throwError("too many arguments for " + e.format(), M.errors.UNEXPECTED_ARGUMENT, {
      argument: "values",
      value: t
    });
    let n = [];
    e.anonymous || n.push(this.getEventTopic(e));
    const i = (s, o) => s.type === "string" ? Us(o) : s.type === "bytes" ? Rt(re(o)) : (s.type === "bool" && typeof o == "boolean" && (o = o ? "0x01" : "0x00"), s.type.match(/^u?int/) && (o = V.from(o).toHexString()), s.type === "address" && this._abiCoder.encode(["address"], [o]), Le(re(o), 32));
    for (t.forEach((s, o) => {
      let a = e.inputs[o];
      if (!a.indexed) {
        s != null && yt.throwArgumentError("cannot filter non-indexed parameters; must be null", "contract." + a.name, s);
        return;
      }
      s == null ? n.push(null) : a.baseType === "array" || a.baseType === "tuple" ? yt.throwArgumentError("filtering with tuples or arrays not supported", "contract." + a.name, s) : Array.isArray(s) ? n.push(s.map((c) => i(a, c))) : n.push(i(a, s));
    }); n.length && n[n.length - 1] === null; )
      n.pop();
    return n;
  }
  encodeEventLog(e, t) {
    typeof e == "string" && (e = this.getEvent(e));
    const n = [], i = [], s = [];
    return e.anonymous || n.push(this.getEventTopic(e)), t.length !== e.inputs.length && yt.throwArgumentError("event arguments/values mismatch", "values", t), e.inputs.forEach((o, a) => {
      const c = t[a];
      if (o.indexed)
        if (o.type === "string")
          n.push(Us(c));
        else if (o.type === "bytes")
          n.push(Rt(c));
        else {
          if (o.baseType === "tuple" || o.baseType === "array")
            throw new Error("not implemented");
          n.push(this._abiCoder.encode([o.type], [c]));
        }
      else
        i.push(o), s.push(c);
    }), {
      data: this._abiCoder.encode(i, s),
      topics: n
    };
  }
  decodeEventLog(e, t, n) {
    if (typeof e == "string" && (e = this.getEvent(e)), n != null && !e.anonymous) {
      let b = this.getEventTopic(e);
      (!ke(n[0], 32) || n[0].toLowerCase() !== b) && yt.throwError("fragment/topic mismatch", M.errors.INVALID_ARGUMENT, { argument: "topics[0]", expected: b, value: n[0] }), n = n.slice(1);
    }
    let i = [], s = [], o = [];
    e.inputs.forEach((b, w) => {
      b.indexed ? b.type === "string" || b.type === "bytes" || b.baseType === "tuple" || b.baseType === "array" ? (i.push(jt.fromObject({ type: "bytes32", name: b.name })), o.push(!0)) : (i.push(b), o.push(!1)) : (s.push(b), o.push(!1));
    });
    let a = n != null ? this._abiCoder.decode(i, jr(n)) : null, c = this._abiCoder.decode(s, t, !0), l = [], f = 0, p = 0;
    e.inputs.forEach((b, w) => {
      if (b.indexed)
        if (a == null)
          l[w] = new md({ _isIndexed: !0, hash: null });
        else if (o[w])
          l[w] = new md({ _isIndexed: !0, hash: a[p++] });
        else
          try {
            l[w] = a[p++];
          } catch (A) {
            l[w] = A;
          }
      else
        try {
          l[w] = c[f++];
        } catch (A) {
          l[w] = A;
        }
      if (b.name && l[b.name] == null) {
        const A = l[w];
        A instanceof Error ? Object.defineProperty(l, b.name, {
          enumerable: !0,
          get: () => {
            throw Rb(`property ${JSON.stringify(b.name)}`, A);
          }
        }) : l[b.name] = A;
      }
    });
    for (let b = 0; b < l.length; b++) {
      const w = l[b];
      w instanceof Error && Object.defineProperty(l, b, {
        enumerable: !0,
        get: () => {
          throw Rb(`index ${b}`, w);
        }
      });
    }
    return Object.freeze(l);
  }
  parseTransaction(e) {
    let t = this.getFunction(e.data.substring(0, 10).toLowerCase());
    return t ? new OC({
      args: this._abiCoder.decode(t.inputs, "0x" + e.data.substring(10)),
      functionFragment: t,
      name: t.name,
      signature: t.format(),
      sighash: this.getSighash(t),
      value: V.from(e.value || "0")
    }) : null;
  }
  parseLog(e) {
    let t = this.getEvent(e.topics[0]);
    return !t || t.anonymous ? null : new MC({
      eventFragment: t,
      name: t.name,
      signature: t.format(),
      topic: this.getEventTopic(t),
      args: this.decodeEventLog(t, e.data, e.topics)
    });
  }
  parseError(e) {
    const t = re(e);
    let n = this.getError(t.substring(0, 10).toLowerCase());
    return n ? new NC({
      args: this._abiCoder.decode(n.inputs, "0x" + t.substring(10)),
      errorFragment: n,
      name: n.name,
      signature: n.format(),
      sighash: this.getSighash(n)
    }) : null;
  }
  static isInterface(e) {
    return !!(e && e._isInterface);
  }
}
const BC = "abstract-provider/5.7.0";
var $C = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const LC = new M(BC);
class FC extends Yc {
  static isForkEvent(e) {
    return !!(e && e._isForkEvent);
  }
}
class fh {
  constructor() {
    LC.checkAbstract(new.target, fh), W(this, "_isProvider", !0);
  }
  getFeeData() {
    return $C(this, void 0, void 0, function* () {
      const { block: e, gasPrice: t } = yield Mt({
        block: this.getBlock("latest"),
        gasPrice: this.getGasPrice().catch((o) => null)
      });
      let n = null, i = null, s = null;
      return e && e.baseFeePerGas && (n = e.baseFeePerGas, s = V.from("1500000000"), i = e.baseFeePerGas.mul(2).add(s)), { lastBaseFeePerGas: n, maxFeePerGas: i, maxPriorityFeePerGas: s, gasPrice: t };
    });
  }
  addListener(e, t) {
    return this.on(e, t);
  }
  removeListener(e, t) {
    return this.off(e, t);
  }
  static isProvider(e) {
    return !!(e && e._isProvider);
  }
}
const UC = "abstract-signer/5.7.0";
var dn = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const Xr = new M(UC), VC = [
  "accessList",
  "ccipReadEnabled",
  "chainId",
  "customData",
  "data",
  "from",
  "gasLimit",
  "gasPrice",
  "maxFeePerGas",
  "maxPriorityFeePerGas",
  "nonce",
  "to",
  "type",
  "value"
], jC = [
  M.errors.INSUFFICIENT_FUNDS,
  M.errors.NONCE_EXPIRED,
  M.errors.REPLACEMENT_UNDERPRICED
];
class ns {
  constructor() {
    Xr.checkAbstract(new.target, ns), W(this, "_isSigner", !0);
  }
  getBalance(e) {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("getBalance"), yield this.provider.getBalance(this.getAddress(), e);
    });
  }
  getTransactionCount(e) {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("getTransactionCount"), yield this.provider.getTransactionCount(this.getAddress(), e);
    });
  }
  estimateGas(e) {
    return dn(this, void 0, void 0, function* () {
      this._checkProvider("estimateGas");
      const t = yield Mt(this.checkTransaction(e));
      return yield this.provider.estimateGas(t);
    });
  }
  call(e, t) {
    return dn(this, void 0, void 0, function* () {
      this._checkProvider("call");
      const n = yield Mt(this.checkTransaction(e));
      return yield this.provider.call(n, t);
    });
  }
  sendTransaction(e) {
    return dn(this, void 0, void 0, function* () {
      this._checkProvider("sendTransaction");
      const t = yield this.populateTransaction(e), n = yield this.signTransaction(t);
      return yield this.provider.sendTransaction(n);
    });
  }
  getChainId() {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("getChainId"), (yield this.provider.getNetwork()).chainId;
    });
  }
  getGasPrice() {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("getGasPrice"), yield this.provider.getGasPrice();
    });
  }
  getFeeData() {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("getFeeData"), yield this.provider.getFeeData();
    });
  }
  resolveName(e) {
    return dn(this, void 0, void 0, function* () {
      return this._checkProvider("resolveName"), yield this.provider.resolveName(e);
    });
  }
  checkTransaction(e) {
    for (const n in e)
      VC.indexOf(n) === -1 && Xr.throwArgumentError("invalid transaction key: " + n, "transaction", e);
    const t = $t(e);
    return t.from == null ? t.from = this.getAddress() : t.from = Promise.all([
      Promise.resolve(t.from),
      this.getAddress()
    ]).then((n) => (n[0].toLowerCase() !== n[1].toLowerCase() && Xr.throwArgumentError("from address mismatch", "transaction", e), n[0])), t;
  }
  populateTransaction(e) {
    return dn(this, void 0, void 0, function* () {
      const t = yield Mt(this.checkTransaction(e));
      t.to != null && (t.to = Promise.resolve(t.to).then((i) => dn(this, void 0, void 0, function* () {
        if (i == null)
          return null;
        const s = yield this.resolveName(i);
        return s == null && Xr.throwArgumentError("provided ENS name resolves to null", "tx.to", i), s;
      })), t.to.catch((i) => {
      }));
      const n = t.maxFeePerGas != null || t.maxPriorityFeePerGas != null;
      if (t.gasPrice != null && (t.type === 2 || n) ? Xr.throwArgumentError("eip-1559 transaction do not support gasPrice", "transaction", e) : (t.type === 0 || t.type === 1) && n && Xr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas", "transaction", e), (t.type === 2 || t.type == null) && t.maxFeePerGas != null && t.maxPriorityFeePerGas != null)
        t.type = 2;
      else if (t.type === 0 || t.type === 1)
        t.gasPrice == null && (t.gasPrice = this.getGasPrice());
      else {
        const i = yield this.getFeeData();
        if (t.type == null)
          if (i.maxFeePerGas != null && i.maxPriorityFeePerGas != null)
            if (t.type = 2, t.gasPrice != null) {
              const s = t.gasPrice;
              delete t.gasPrice, t.maxFeePerGas = s, t.maxPriorityFeePerGas = s;
            } else
              t.maxFeePerGas == null && (t.maxFeePerGas = i.maxFeePerGas), t.maxPriorityFeePerGas == null && (t.maxPriorityFeePerGas = i.maxPriorityFeePerGas);
          else
            i.gasPrice != null ? (n && Xr.throwError("network does not support EIP-1559", M.errors.UNSUPPORTED_OPERATION, {
              operation: "populateTransaction"
            }), t.gasPrice == null && (t.gasPrice = i.gasPrice), t.type = 0) : Xr.throwError("failed to get consistent fee data", M.errors.UNSUPPORTED_OPERATION, {
              operation: "signer.getFeeData"
            });
        else
          t.type === 2 && (t.maxFeePerGas == null && (t.maxFeePerGas = i.maxFeePerGas), t.maxPriorityFeePerGas == null && (t.maxPriorityFeePerGas = i.maxPriorityFeePerGas));
      }
      return t.nonce == null && (t.nonce = this.getTransactionCount("pending")), t.gasLimit == null && (t.gasLimit = this.estimateGas(t).catch((i) => {
        if (jC.indexOf(i.code) >= 0)
          throw i;
        return Xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", M.errors.UNPREDICTABLE_GAS_LIMIT, {
          error: i,
          tx: t
        });
      })), t.chainId == null ? t.chainId = this.getChainId() : t.chainId = Promise.all([
        Promise.resolve(t.chainId),
        this.getChainId()
      ]).then((i) => (i[1] !== 0 && i[0] !== i[1] && Xr.throwArgumentError("chainId address mismatch", "transaction", e), i[0])), yield Mt(t);
    });
  }
  _checkProvider(e) {
    this.provider || Xr.throwError("missing provider", M.errors.UNSUPPORTED_OPERATION, {
      operation: e || "_checkProvider"
    });
  }
  static isSigner(e) {
    return !!(e && e._isSigner);
  }
}
class W0 extends ns {
  constructor(e, t) {
    super(), W(this, "address", e), W(this, "provider", t || null);
  }
  getAddress() {
    return Promise.resolve(this.address);
  }
  _fail(e, t) {
    return Promise.resolve().then(() => {
      Xr.throwError(e, M.errors.UNSUPPORTED_OPERATION, { operation: t });
    });
  }
  signMessage(e) {
    return this._fail("VoidSigner cannot sign messages", "signMessage");
  }
  signTransaction(e) {
    return this._fail("VoidSigner cannot sign transactions", "signTransaction");
  }
  _signTypedData(e, t, n) {
    return this._fail("VoidSigner cannot sign typed data", "signTypedData");
  }
  connect(e) {
    return new W0(this.address, e);
  }
}
var ew = {}, ye = {}, tl = tw;
function tw(r, e) {
  if (!r)
    throw new Error(e || "Assertion failed");
}
tw.equal = function(e, t, n) {
  if (e != t)
    throw new Error(n || "Assertion failed: " + e + " != " + t);
};
var bd = { exports: {} };
typeof Object.create == "function" ? bd.exports = function(e, t) {
  t && (e.super_ = t, e.prototype = Object.create(t.prototype, {
    constructor: {
      value: e,
      enumerable: !1,
      writable: !0,
      configurable: !0
    }
  }));
} : bd.exports = function(e, t) {
  if (t) {
    e.super_ = t;
    var n = function() {
    };
    n.prototype = t.prototype, e.prototype = new n(), e.prototype.constructor = e;
  }
};
var WC = tl, HC = bd.exports;
ye.inherits = HC;
function GC(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length ? !1 : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function KC(r, e) {
  if (Array.isArray(r))
    return r.slice();
  if (!r)
    return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (r = r.replace(/[^a-z0-9]+/ig, ""), r.length % 2 !== 0 && (r = "0" + r), i = 0; i < r.length; i += 2)
          t.push(parseInt(r[i] + r[i + 1], 16));
    } else
      for (var n = 0, i = 0; i < r.length; i++) {
        var s = r.charCodeAt(i);
        s < 128 ? t[n++] = s : s < 2048 ? (t[n++] = s >> 6 | 192, t[n++] = s & 63 | 128) : GC(r, i) ? (s = 65536 + ((s & 1023) << 10) + (r.charCodeAt(++i) & 1023), t[n++] = s >> 18 | 240, t[n++] = s >> 12 & 63 | 128, t[n++] = s >> 6 & 63 | 128, t[n++] = s & 63 | 128) : (t[n++] = s >> 12 | 224, t[n++] = s >> 6 & 63 | 128, t[n++] = s & 63 | 128);
      }
  else
    for (i = 0; i < r.length; i++)
      t[i] = r[i] | 0;
  return t;
}
ye.toArray = KC;
function zC(r) {
  for (var e = "", t = 0; t < r.length; t++)
    e += nw(r[t].toString(16));
  return e;
}
ye.toHex = zC;
function rw(r) {
  var e = r >>> 24 | r >>> 8 & 65280 | r << 8 & 16711680 | (r & 255) << 24;
  return e >>> 0;
}
ye.htonl = rw;
function qC(r, e) {
  for (var t = "", n = 0; n < r.length; n++) {
    var i = r[n];
    e === "little" && (i = rw(i)), t += iw(i.toString(16));
  }
  return t;
}
ye.toHex32 = qC;
function nw(r) {
  return r.length === 1 ? "0" + r : r;
}
ye.zero2 = nw;
function iw(r) {
  return r.length === 7 ? "0" + r : r.length === 6 ? "00" + r : r.length === 5 ? "000" + r : r.length === 4 ? "0000" + r : r.length === 3 ? "00000" + r : r.length === 2 ? "000000" + r : r.length === 1 ? "0000000" + r : r;
}
ye.zero8 = iw;
function QC(r, e, t, n) {
  var i = t - e;
  WC(i % 4 === 0);
  for (var s = new Array(i / 4), o = 0, a = e; o < s.length; o++, a += 4) {
    var c;
    n === "big" ? c = r[a] << 24 | r[a + 1] << 16 | r[a + 2] << 8 | r[a + 3] : c = r[a + 3] << 24 | r[a + 2] << 16 | r[a + 1] << 8 | r[a], s[o] = c >>> 0;
  }
  return s;
}
ye.join32 = QC;
function JC(r, e) {
  for (var t = new Array(r.length * 4), n = 0, i = 0; n < r.length; n++, i += 4) {
    var s = r[n];
    e === "big" ? (t[i] = s >>> 24, t[i + 1] = s >>> 16 & 255, t[i + 2] = s >>> 8 & 255, t[i + 3] = s & 255) : (t[i + 3] = s >>> 24, t[i + 2] = s >>> 16 & 255, t[i + 1] = s >>> 8 & 255, t[i] = s & 255);
  }
  return t;
}
ye.split32 = JC;
function YC(r, e) {
  return r >>> e | r << 32 - e;
}
ye.rotr32 = YC;
function XC(r, e) {
  return r << e | r >>> 32 - e;
}
ye.rotl32 = XC;
function ZC(r, e) {
  return r + e >>> 0;
}
ye.sum32 = ZC;
function eE(r, e, t) {
  return r + e + t >>> 0;
}
ye.sum32_3 = eE;
function tE(r, e, t, n) {
  return r + e + t + n >>> 0;
}
ye.sum32_4 = tE;
function rE(r, e, t, n, i) {
  return r + e + t + n + i >>> 0;
}
ye.sum32_5 = rE;
function nE(r, e, t, n) {
  var i = r[e], s = r[e + 1], o = n + s >>> 0, a = (o < n ? 1 : 0) + t + i;
  r[e] = a >>> 0, r[e + 1] = o;
}
ye.sum64 = nE;
function iE(r, e, t, n) {
  var i = e + n >>> 0, s = (i < e ? 1 : 0) + r + t;
  return s >>> 0;
}
ye.sum64_hi = iE;
function sE(r, e, t, n) {
  var i = e + n;
  return i >>> 0;
}
ye.sum64_lo = sE;
function oE(r, e, t, n, i, s, o, a) {
  var c = 0, l = e;
  l = l + n >>> 0, c += l < e ? 1 : 0, l = l + s >>> 0, c += l < s ? 1 : 0, l = l + a >>> 0, c += l < a ? 1 : 0;
  var f = r + t + i + o + c;
  return f >>> 0;
}
ye.sum64_4_hi = oE;
function aE(r, e, t, n, i, s, o, a) {
  var c = e + n + s + a;
  return c >>> 0;
}
ye.sum64_4_lo = aE;
function cE(r, e, t, n, i, s, o, a, c, l) {
  var f = 0, p = e;
  p = p + n >>> 0, f += p < e ? 1 : 0, p = p + s >>> 0, f += p < s ? 1 : 0, p = p + a >>> 0, f += p < a ? 1 : 0, p = p + l >>> 0, f += p < l ? 1 : 0;
  var b = r + t + i + o + c + f;
  return b >>> 0;
}
ye.sum64_5_hi = cE;
function lE(r, e, t, n, i, s, o, a, c, l) {
  var f = e + n + s + a + l;
  return f >>> 0;
}
ye.sum64_5_lo = lE;
function uE(r, e, t) {
  var n = e << 32 - t | r >>> t;
  return n >>> 0;
}
ye.rotr64_hi = uE;
function hE(r, e, t) {
  var n = r << 32 - t | e >>> t;
  return n >>> 0;
}
ye.rotr64_lo = hE;
function fE(r, e, t) {
  return r >>> t;
}
ye.shr64_hi = fE;
function dE(r, e, t) {
  var n = r << 32 - t | e >>> t;
  return n >>> 0;
}
ye.shr64_lo = dE;
var ba = {}, Ib = ye, pE = tl;
function dh() {
  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;
}
ba.BlockHash = dh;
dh.prototype.update = function(e, t) {
  if (e = Ib.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {
    e = this.pending;
    var n = e.length % this._delta8;
    this.pending = e.slice(e.length - n, e.length), this.pending.length === 0 && (this.pending = null), e = Ib.join32(e, 0, e.length - n, this.endian);
    for (var i = 0; i < e.length; i += this._delta32)
      this._update(e, i, i + this._delta32);
  }
  return this;
};
dh.prototype.digest = function(e) {
  return this.update(this._pad()), pE(this.pending === null), this._digest(e);
};
dh.prototype._pad = function() {
  var e = this.pendingTotal, t = this._delta8, n = t - (e + this.padLength) % t, i = new Array(n + this.padLength);
  i[0] = 128;
  for (var s = 1; s < n; s++)
    i[s] = 0;
  if (e <<= 3, this.endian === "big") {
    for (var o = 8; o < this.padLength; o++)
      i[s++] = 0;
    i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = e >>> 24 & 255, i[s++] = e >>> 16 & 255, i[s++] = e >>> 8 & 255, i[s++] = e & 255;
  } else
    for (i[s++] = e & 255, i[s++] = e >>> 8 & 255, i[s++] = e >>> 16 & 255, i[s++] = e >>> 24 & 255, i[s++] = 0, i[s++] = 0, i[s++] = 0, i[s++] = 0, o = 8; o < this.padLength; o++)
      i[s++] = 0;
  return i;
};
var xa = {}, Xn = {}, gE = ye, jn = gE.rotr32;
function mE(r, e, t, n) {
  if (r === 0)
    return sw(e, t, n);
  if (r === 1 || r === 3)
    return aw(e, t, n);
  if (r === 2)
    return ow(e, t, n);
}
Xn.ft_1 = mE;
function sw(r, e, t) {
  return r & e ^ ~r & t;
}
Xn.ch32 = sw;
function ow(r, e, t) {
  return r & e ^ r & t ^ e & t;
}
Xn.maj32 = ow;
function aw(r, e, t) {
  return r ^ e ^ t;
}
Xn.p32 = aw;
function bE(r) {
  return jn(r, 2) ^ jn(r, 13) ^ jn(r, 22);
}
Xn.s0_256 = bE;
function xE(r) {
  return jn(r, 6) ^ jn(r, 11) ^ jn(r, 25);
}
Xn.s1_256 = xE;
function vE(r) {
  return jn(r, 7) ^ jn(r, 18) ^ r >>> 3;
}
Xn.g0_256 = vE;
function yE(r) {
  return jn(r, 17) ^ jn(r, 19) ^ r >>> 10;
}
Xn.g1_256 = yE;
var qo = ye, wE = ba, AE = Xn, xf = qo.rotl32, Ra = qo.sum32, SE = qo.sum32_5, CE = AE.ft_1, cw = wE.BlockHash, EE = [
  1518500249,
  1859775393,
  2400959708,
  3395469782
];
function Kn() {
  if (!(this instanceof Kn))
    return new Kn();
  cw.call(this), this.h = [
    1732584193,
    4023233417,
    2562383102,
    271733878,
    3285377520
  ], this.W = new Array(80);
}
qo.inherits(Kn, cw);
var _E = Kn;
Kn.blockSize = 512;
Kn.outSize = 160;
Kn.hmacStrength = 80;
Kn.padLength = 64;
Kn.prototype._update = function(e, t) {
  for (var n = this.W, i = 0; i < 16; i++)
    n[i] = e[t + i];
  for (; i < n.length; i++)
    n[i] = xf(n[i - 3] ^ n[i - 8] ^ n[i - 14] ^ n[i - 16], 1);
  var s = this.h[0], o = this.h[1], a = this.h[2], c = this.h[3], l = this.h[4];
  for (i = 0; i < n.length; i++) {
    var f = ~~(i / 20), p = SE(xf(s, 5), CE(f, o, a, c), l, n[i], EE[f]);
    l = c, c = a, a = xf(o, 30), o = s, s = p;
  }
  this.h[0] = Ra(this.h[0], s), this.h[1] = Ra(this.h[1], o), this.h[2] = Ra(this.h[2], a), this.h[3] = Ra(this.h[3], c), this.h[4] = Ra(this.h[4], l);
};
Kn.prototype._digest = function(e) {
  return e === "hex" ? qo.toHex32(this.h, "big") : qo.split32(this.h, "big");
};
var Qo = ye, PE = ba, va = Xn, kE = tl, pn = Qo.sum32, RE = Qo.sum32_4, TE = Qo.sum32_5, IE = va.ch32, ME = va.maj32, OE = va.s0_256, NE = va.s1_256, DE = va.g0_256, BE = va.g1_256, lw = PE.BlockHash, $E = [
  1116352408,
  1899447441,
  3049323471,
  3921009573,
  961987163,
  1508970993,
  2453635748,
  2870763221,
  3624381080,
  310598401,
  607225278,
  1426881987,
  1925078388,
  2162078206,
  2614888103,
  3248222580,
  3835390401,
  4022224774,
  264347078,
  604807628,
  770255983,
  1249150122,
  1555081692,
  1996064986,
  2554220882,
  2821834349,
  2952996808,
  3210313671,
  3336571891,
  3584528711,
  113926993,
  338241895,
  666307205,
  773529912,
  1294757372,
  1396182291,
  1695183700,
  1986661051,
  2177026350,
  2456956037,
  2730485921,
  2820302411,
  3259730800,
  3345764771,
  3516065817,
  3600352804,
  4094571909,
  275423344,
  430227734,
  506948616,
  659060556,
  883997877,
  958139571,
  1322822218,
  1537002063,
  1747873779,
  1955562222,
  2024104815,
  2227730452,
  2361852424,
  2428436474,
  2756734187,
  3204031479,
  3329325298
];
function zn() {
  if (!(this instanceof zn))
    return new zn();
  lw.call(this), this.h = [
    1779033703,
    3144134277,
    1013904242,
    2773480762,
    1359893119,
    2600822924,
    528734635,
    1541459225
  ], this.k = $E, this.W = new Array(64);
}
Qo.inherits(zn, lw);
var uw = zn;
zn.blockSize = 512;
zn.outSize = 256;
zn.hmacStrength = 192;
zn.padLength = 64;
zn.prototype._update = function(e, t) {
  for (var n = this.W, i = 0; i < 16; i++)
    n[i] = e[t + i];
  for (; i < n.length; i++)
    n[i] = RE(BE(n[i - 2]), n[i - 7], DE(n[i - 15]), n[i - 16]);
  var s = this.h[0], o = this.h[1], a = this.h[2], c = this.h[3], l = this.h[4], f = this.h[5], p = this.h[6], b = this.h[7];
  for (kE(this.k.length === n.length), i = 0; i < n.length; i++) {
    var w = TE(b, NE(l), IE(l, f, p), this.k[i], n[i]), A = pn(OE(s), ME(s, o, a));
    b = p, p = f, f = l, l = pn(c, w), c = a, a = o, o = s, s = pn(w, A);
  }
  this.h[0] = pn(this.h[0], s), this.h[1] = pn(this.h[1], o), this.h[2] = pn(this.h[2], a), this.h[3] = pn(this.h[3], c), this.h[4] = pn(this.h[4], l), this.h[5] = pn(this.h[5], f), this.h[6] = pn(this.h[6], p), this.h[7] = pn(this.h[7], b);
};
zn.prototype._digest = function(e) {
  return e === "hex" ? Qo.toHex32(this.h, "big") : Qo.split32(this.h, "big");
};
var xd = ye, hw = uw;
function Ai() {
  if (!(this instanceof Ai))
    return new Ai();
  hw.call(this), this.h = [
    3238371032,
    914150663,
    812702999,
    4144912697,
    4290775857,
    1750603025,
    1694076839,
    3204075428
  ];
}
xd.inherits(Ai, hw);
var LE = Ai;
Ai.blockSize = 512;
Ai.outSize = 224;
Ai.hmacStrength = 192;
Ai.padLength = 64;
Ai.prototype._digest = function(e) {
  return e === "hex" ? xd.toHex32(this.h.slice(0, 7), "big") : xd.split32(this.h.slice(0, 7), "big");
};
var Tr = ye, FE = ba, UE = tl, Wn = Tr.rotr64_hi, Hn = Tr.rotr64_lo, fw = Tr.shr64_hi, dw = Tr.shr64_lo, Hi = Tr.sum64, vf = Tr.sum64_hi, yf = Tr.sum64_lo, VE = Tr.sum64_4_hi, jE = Tr.sum64_4_lo, WE = Tr.sum64_5_hi, HE = Tr.sum64_5_lo, pw = FE.BlockHash, GE = [
  1116352408,
  3609767458,
  1899447441,
  602891725,
  3049323471,
  3964484399,
  3921009573,
  2173295548,
  961987163,
  4081628472,
  1508970993,
  3053834265,
  2453635748,
  2937671579,
  2870763221,
  3664609560,
  3624381080,
  2734883394,
  310598401,
  1164996542,
  607225278,
  1323610764,
  1426881987,
  3590304994,
  1925078388,
  4068182383,
  2162078206,
  991336113,
  2614888103,
  633803317,
  3248222580,
  3479774868,
  3835390401,
  2666613458,
  4022224774,
  944711139,
  264347078,
  2341262773,
  604807628,
  2007800933,
  770255983,
  1495990901,
  1249150122,
  1856431235,
  1555081692,
  3175218132,
  1996064986,
  2198950837,
  2554220882,
  3999719339,
  2821834349,
  766784016,
  2952996808,
  2566594879,
  3210313671,
  3203337956,
  3336571891,
  1034457026,
  3584528711,
  2466948901,
  113926993,
  3758326383,
  338241895,
  168717936,
  666307205,
  1188179964,
  773529912,
  1546045734,
  1294757372,
  1522805485,
  1396182291,
  2643833823,
  1695183700,
  2343527390,
  1986661051,
  1014477480,
  2177026350,
  1206759142,
  2456956037,
  344077627,
  2730485921,
  1290863460,
  2820302411,
  3158454273,
  3259730800,
  3505952657,
  3345764771,
  106217008,
  3516065817,
  3606008344,
  3600352804,
  1432725776,
  4094571909,
  1467031594,
  275423344,
  851169720,
  430227734,
  3100823752,
  506948616,
  1363258195,
  659060556,
  3750685593,
  883997877,
  3785050280,
  958139571,
  3318307427,
  1322822218,
  3812723403,
  1537002063,
  2003034995,
  1747873779,
  3602036899,
  1955562222,
  1575990012,
  2024104815,
  1125592928,
  2227730452,
  2716904306,
  2361852424,
  442776044,
  2428436474,
  593698344,
  2756734187,
  3733110249,
  3204031479,
  2999351573,
  3329325298,
  3815920427,
  3391569614,
  3928383900,
  3515267271,
  566280711,
  3940187606,
  3454069534,
  4118630271,
  4000239992,
  116418474,
  1914138554,
  174292421,
  2731055270,
  289380356,
  3203993006,
  460393269,
  320620315,
  685471733,
  587496836,
  852142971,
  1086792851,
  1017036298,
  365543100,
  1126000580,
  2618297676,
  1288033470,
  3409855158,
  1501505948,
  4234509866,
  1607167915,
  987167468,
  1816402316,
  1246189591
];
function Pn() {
  if (!(this instanceof Pn))
    return new Pn();
  pw.call(this), this.h = [
    1779033703,
    4089235720,
    3144134277,
    2227873595,
    1013904242,
    4271175723,
    2773480762,
    1595750129,
    1359893119,
    2917565137,
    2600822924,
    725511199,
    528734635,
    4215389547,
    1541459225,
    327033209
  ], this.k = GE, this.W = new Array(160);
}
Tr.inherits(Pn, pw);
var gw = Pn;
Pn.blockSize = 1024;
Pn.outSize = 512;
Pn.hmacStrength = 192;
Pn.padLength = 128;
Pn.prototype._prepareBlock = function(e, t) {
  for (var n = this.W, i = 0; i < 32; i++)
    n[i] = e[t + i];
  for (; i < n.length; i += 2) {
    var s = r7(n[i - 4], n[i - 3]), o = n7(n[i - 4], n[i - 3]), a = n[i - 14], c = n[i - 13], l = e7(n[i - 30], n[i - 29]), f = t7(n[i - 30], n[i - 29]), p = n[i - 32], b = n[i - 31];
    n[i] = VE(
      s,
      o,
      a,
      c,
      l,
      f,
      p,
      b
    ), n[i + 1] = jE(
      s,
      o,
      a,
      c,
      l,
      f,
      p,
      b
    );
  }
};
Pn.prototype._update = function(e, t) {
  this._prepareBlock(e, t);
  var n = this.W, i = this.h[0], s = this.h[1], o = this.h[2], a = this.h[3], c = this.h[4], l = this.h[5], f = this.h[6], p = this.h[7], b = this.h[8], w = this.h[9], A = this.h[10], C = this.h[11], S = this.h[12], k = this.h[13], O = this.h[14], L = this.h[15];
  UE(this.k.length === n.length);
  for (var B = 0; B < n.length; B += 2) {
    var N = O, j = L, q = XE(b, w), K = ZE(b, w), X = KE(b, w, A, C, S), ce = zE(b, w, A, C, S, k), ee = this.k[B], be = this.k[B + 1], _ = n[B], u = n[B + 1], g = WE(
      N,
      j,
      q,
      K,
      X,
      ce,
      ee,
      be,
      _,
      u
    ), x = HE(
      N,
      j,
      q,
      K,
      X,
      ce,
      ee,
      be,
      _,
      u
    );
    N = JE(i, s), j = YE(i, s), q = qE(i, s, o, a, c), K = QE(i, s, o, a, c, l);
    var y = vf(N, j, q, K), E = yf(N, j, q, K);
    O = S, L = k, S = A, k = C, A = b, C = w, b = vf(f, p, g, x), w = yf(p, p, g, x), f = c, p = l, c = o, l = a, o = i, a = s, i = vf(g, x, y, E), s = yf(g, x, y, E);
  }
  Hi(this.h, 0, i, s), Hi(this.h, 2, o, a), Hi(this.h, 4, c, l), Hi(this.h, 6, f, p), Hi(this.h, 8, b, w), Hi(this.h, 10, A, C), Hi(this.h, 12, S, k), Hi(this.h, 14, O, L);
};
Pn.prototype._digest = function(e) {
  return e === "hex" ? Tr.toHex32(this.h, "big") : Tr.split32(this.h, "big");
};
function KE(r, e, t, n, i) {
  var s = r & t ^ ~r & i;
  return s < 0 && (s += 4294967296), s;
}
function zE(r, e, t, n, i, s) {
  var o = e & n ^ ~e & s;
  return o < 0 && (o += 4294967296), o;
}
function qE(r, e, t, n, i) {
  var s = r & t ^ r & i ^ t & i;
  return s < 0 && (s += 4294967296), s;
}
function QE(r, e, t, n, i, s) {
  var o = e & n ^ e & s ^ n & s;
  return o < 0 && (o += 4294967296), o;
}
function JE(r, e) {
  var t = Wn(r, e, 28), n = Wn(e, r, 2), i = Wn(e, r, 7), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function YE(r, e) {
  var t = Hn(r, e, 28), n = Hn(e, r, 2), i = Hn(e, r, 7), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function XE(r, e) {
  var t = Wn(r, e, 14), n = Wn(r, e, 18), i = Wn(e, r, 9), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function ZE(r, e) {
  var t = Hn(r, e, 14), n = Hn(r, e, 18), i = Hn(e, r, 9), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function e7(r, e) {
  var t = Wn(r, e, 1), n = Wn(r, e, 8), i = fw(r, e, 7), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function t7(r, e) {
  var t = Hn(r, e, 1), n = Hn(r, e, 8), i = dw(r, e, 7), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function r7(r, e) {
  var t = Wn(r, e, 19), n = Wn(e, r, 29), i = fw(r, e, 6), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
function n7(r, e) {
  var t = Hn(r, e, 19), n = Hn(e, r, 29), i = dw(r, e, 6), s = t ^ n ^ i;
  return s < 0 && (s += 4294967296), s;
}
var vd = ye, mw = gw;
function Si() {
  if (!(this instanceof Si))
    return new Si();
  mw.call(this), this.h = [
    3418070365,
    3238371032,
    1654270250,
    914150663,
    2438529370,
    812702999,
    355462360,
    4144912697,
    1731405415,
    4290775857,
    2394180231,
    1750603025,
    3675008525,
    1694076839,
    1203062813,
    3204075428
  ];
}
vd.inherits(Si, mw);
var i7 = Si;
Si.blockSize = 1024;
Si.outSize = 384;
Si.hmacStrength = 192;
Si.padLength = 128;
Si.prototype._digest = function(e) {
  return e === "hex" ? vd.toHex32(this.h.slice(0, 12), "big") : vd.split32(this.h.slice(0, 12), "big");
};
xa.sha1 = _E;
xa.sha224 = LE;
xa.sha256 = uw;
xa.sha384 = i7;
xa.sha512 = gw;
var bw = {}, Js = ye, s7 = ba, Sl = Js.rotl32, Mb = Js.sum32, Ta = Js.sum32_3, Ob = Js.sum32_4, xw = s7.BlockHash;
function qn() {
  if (!(this instanceof qn))
    return new qn();
  xw.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little";
}
Js.inherits(qn, xw);
bw.ripemd160 = qn;
qn.blockSize = 512;
qn.outSize = 160;
qn.hmacStrength = 192;
qn.padLength = 64;
qn.prototype._update = function(e, t) {
  for (var n = this.h[0], i = this.h[1], s = this.h[2], o = this.h[3], a = this.h[4], c = n, l = i, f = s, p = o, b = a, w = 0; w < 80; w++) {
    var A = Mb(
      Sl(
        Ob(n, Nb(w, i, s, o), e[c7[w] + t], o7(w)),
        u7[w]
      ),
      a
    );
    n = a, a = o, o = Sl(s, 10), s = i, i = A, A = Mb(
      Sl(
        Ob(c, Nb(79 - w, l, f, p), e[l7[w] + t], a7(w)),
        h7[w]
      ),
      b
    ), c = b, b = p, p = Sl(f, 10), f = l, l = A;
  }
  A = Ta(this.h[1], s, p), this.h[1] = Ta(this.h[2], o, b), this.h[2] = Ta(this.h[3], a, c), this.h[3] = Ta(this.h[4], n, l), this.h[4] = Ta(this.h[0], i, f), this.h[0] = A;
};
qn.prototype._digest = function(e) {
  return e === "hex" ? Js.toHex32(this.h, "little") : Js.split32(this.h, "little");
};
function Nb(r, e, t, n) {
  return r <= 15 ? e ^ t ^ n : r <= 31 ? e & t | ~e & n : r <= 47 ? (e | ~t) ^ n : r <= 63 ? e & n | t & ~n : e ^ (t | ~n);
}
function o7(r) {
  return r <= 15 ? 0 : r <= 31 ? 1518500249 : r <= 47 ? 1859775393 : r <= 63 ? 2400959708 : 2840853838;
}
function a7(r) {
  return r <= 15 ? 1352829926 : r <= 31 ? 1548603684 : r <= 47 ? 1836072691 : r <= 63 ? 2053994217 : 0;
}
var c7 = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  7,
  4,
  13,
  1,
  10,
  6,
  15,
  3,
  12,
  0,
  9,
  5,
  2,
  14,
  11,
  8,
  3,
  10,
  14,
  4,
  9,
  15,
  8,
  1,
  2,
  7,
  0,
  6,
  13,
  11,
  5,
  12,
  1,
  9,
  11,
  10,
  0,
  8,
  12,
  4,
  13,
  3,
  7,
  15,
  14,
  5,
  6,
  2,
  4,
  0,
  5,
  9,
  7,
  12,
  2,
  10,
  14,
  1,
  3,
  8,
  11,
  6,
  15,
  13
], l7 = [
  5,
  14,
  7,
  0,
  9,
  2,
  11,
  4,
  13,
  6,
  15,
  8,
  1,
  10,
  3,
  12,
  6,
  11,
  3,
  7,
  0,
  13,
  5,
  10,
  14,
  15,
  8,
  12,
  4,
  9,
  1,
  2,
  15,
  5,
  1,
  3,
  7,
  14,
  6,
  9,
  11,
  8,
  12,
  2,
  10,
  0,
  4,
  13,
  8,
  6,
  4,
  1,
  3,
  11,
  15,
  0,
  5,
  12,
  2,
  13,
  9,
  7,
  10,
  14,
  12,
  15,
  10,
  4,
  1,
  5,
  8,
  7,
  6,
  2,
  13,
  14,
  0,
  3,
  9,
  11
], u7 = [
  11,
  14,
  15,
  12,
  5,
  8,
  7,
  9,
  11,
  13,
  14,
  15,
  6,
  7,
  9,
  8,
  7,
  6,
  8,
  13,
  11,
  9,
  7,
  15,
  7,
  12,
  15,
  9,
  11,
  7,
  13,
  12,
  11,
  13,
  6,
  7,
  14,
  9,
  13,
  15,
  14,
  8,
  13,
  6,
  5,
  12,
  7,
  5,
  11,
  12,
  14,
  15,
  14,
  15,
  9,
  8,
  9,
  14,
  5,
  6,
  8,
  6,
  5,
  12,
  9,
  15,
  5,
  11,
  6,
  8,
  13,
  12,
  5,
  12,
  13,
  14,
  11,
  8,
  5,
  6
], h7 = [
  8,
  9,
  9,
  11,
  13,
  15,
  15,
  5,
  7,
  7,
  8,
  11,
  14,
  14,
  12,
  6,
  9,
  13,
  15,
  7,
  12,
  8,
  9,
  11,
  7,
  7,
  12,
  7,
  6,
  15,
  13,
  11,
  9,
  7,
  15,
  11,
  8,
  6,
  6,
  14,
  12,
  13,
  5,
  14,
  13,
  13,
  7,
  5,
  15,
  5,
  8,
  11,
  14,
  14,
  6,
  14,
  6,
  9,
  12,
  9,
  12,
  5,
  15,
  8,
  8,
  5,
  12,
  9,
  12,
  5,
  14,
  6,
  8,
  13,
  6,
  5,
  15,
  13,
  11,
  11
], f7 = ye, d7 = tl;
function Jo(r, e, t) {
  if (!(this instanceof Jo))
    return new Jo(r, e, t);
  this.Hash = r, this.blockSize = r.blockSize / 8, this.outSize = r.outSize / 8, this.inner = null, this.outer = null, this._init(f7.toArray(e, t));
}
var p7 = Jo;
Jo.prototype._init = function(e) {
  e.length > this.blockSize && (e = new this.Hash().update(e).digest()), d7(e.length <= this.blockSize);
  for (var t = e.length; t < this.blockSize; t++)
    e.push(0);
  for (t = 0; t < e.length; t++)
    e[t] ^= 54;
  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)
    e[t] ^= 106;
  this.outer = new this.Hash().update(e);
};
Jo.prototype.update = function(e, t) {
  return this.inner.update(e, t), this;
};
Jo.prototype.digest = function(e) {
  return this.outer.update(this.inner.digest()), this.outer.digest(e);
};
(function(r) {
  var e = r;
  e.utils = ye, e.common = ba, e.sha = xa, e.ripemd = bw, e.hmac = p7, e.sha1 = e.sha.sha1, e.sha256 = e.sha.sha256, e.sha224 = e.sha.sha224, e.sha384 = e.sha.sha384, e.sha512 = e.sha.sha512, e.ripemd160 = e.ripemd.ripemd160;
})(ew);
const Mn = ew;
function ya(r, e, t) {
  return t = {
    path: e,
    exports: {},
    require: function(n, i) {
      return g7(n, i ?? t.path);
    }
  }, r(t, t.exports), t.exports;
}
function g7() {
  throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}
var H0 = vw;
function vw(r, e) {
  if (!r)
    throw new Error(e || "Assertion failed");
}
vw.equal = function(e, t, n) {
  if (e != t)
    throw new Error(n || "Assertion failed: " + e + " != " + t);
};
var wn = ya(function(r, e) {
  var t = e;
  function n(o, a) {
    if (Array.isArray(o))
      return o.slice();
    if (!o)
      return [];
    var c = [];
    if (typeof o != "string") {
      for (var l = 0; l < o.length; l++)
        c[l] = o[l] | 0;
      return c;
    }
    if (a === "hex") {
      o = o.replace(/[^a-z0-9]+/ig, ""), o.length % 2 !== 0 && (o = "0" + o);
      for (var l = 0; l < o.length; l += 2)
        c.push(parseInt(o[l] + o[l + 1], 16));
    } else
      for (var l = 0; l < o.length; l++) {
        var f = o.charCodeAt(l), p = f >> 8, b = f & 255;
        p ? c.push(p, b) : c.push(b);
      }
    return c;
  }
  t.toArray = n;
  function i(o) {
    return o.length === 1 ? "0" + o : o;
  }
  t.zero2 = i;
  function s(o) {
    for (var a = "", c = 0; c < o.length; c++)
      a += i(o[c].toString(16));
    return a;
  }
  t.toHex = s, t.encode = function(a, c) {
    return c === "hex" ? s(a) : a;
  };
}), zr = ya(function(r, e) {
  var t = e;
  t.assert = H0, t.toArray = wn.toArray, t.zero2 = wn.zero2, t.toHex = wn.toHex, t.encode = wn.encode;
  function n(c, l, f) {
    var p = new Array(Math.max(c.bitLength(), f) + 1);
    p.fill(0);
    for (var b = 1 << l + 1, w = c.clone(), A = 0; A < p.length; A++) {
      var C, S = w.andln(b - 1);
      w.isOdd() ? (S > (b >> 1) - 1 ? C = (b >> 1) - S : C = S, w.isubn(C)) : C = 0, p[A] = C, w.iushrn(1);
    }
    return p;
  }
  t.getNAF = n;
  function i(c, l) {
    var f = [
      [],
      []
    ];
    c = c.clone(), l = l.clone();
    for (var p = 0, b = 0, w; c.cmpn(-p) > 0 || l.cmpn(-b) > 0; ) {
      var A = c.andln(3) + p & 3, C = l.andln(3) + b & 3;
      A === 3 && (A = -1), C === 3 && (C = -1);
      var S;
      (A & 1) === 0 ? S = 0 : (w = c.andln(7) + p & 7, (w === 3 || w === 5) && C === 2 ? S = -A : S = A), f[0].push(S);
      var k;
      (C & 1) === 0 ? k = 0 : (w = l.andln(7) + b & 7, (w === 3 || w === 5) && A === 2 ? k = -C : k = C), f[1].push(k), 2 * p === S + 1 && (p = 1 - p), 2 * b === k + 1 && (b = 1 - b), c.iushrn(1), l.iushrn(1);
    }
    return f;
  }
  t.getJSF = i;
  function s(c, l, f) {
    var p = "_" + l;
    c.prototype[l] = function() {
      return this[p] !== void 0 ? this[p] : this[p] = f.call(this);
    };
  }
  t.cachedProperty = s;
  function o(c) {
    return typeof c == "string" ? t.toArray(c, "hex") : c;
  }
  t.parseBytes = o;
  function a(c) {
    return new he(c, "hex", "le");
  }
  t.intFromLE = a;
}), Su = zr.getNAF, m7 = zr.getJSF, Cu = zr.assert;
function ps(r, e) {
  this.type = r, this.p = new he(e.p, 16), this.red = e.prime ? he.red(e.prime) : he.mont(this.p), this.zero = new he(0).toRed(this.red), this.one = new he(1).toRed(this.red), this.two = new he(2).toRed(this.red), this.n = e.n && new he(e.n, 16), this.g = e.g && this.pointFromJSON(e.g, e.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));
}
var po = ps;
ps.prototype.point = function() {
  throw new Error("Not implemented");
};
ps.prototype.validate = function() {
  throw new Error("Not implemented");
};
ps.prototype._fixedNafMul = function(e, t) {
  Cu(e.precomputed);
  var n = e._getDoubles(), i = Su(t, 1, this._bitLength), s = (1 << n.step + 1) - (n.step % 2 === 0 ? 2 : 1);
  s /= 3;
  var o = [], a, c;
  for (a = 0; a < i.length; a += n.step) {
    c = 0;
    for (var l = a + n.step - 1; l >= a; l--)
      c = (c << 1) + i[l];
    o.push(c);
  }
  for (var f = this.jpoint(null, null, null), p = this.jpoint(null, null, null), b = s; b > 0; b--) {
    for (a = 0; a < o.length; a++)
      c = o[a], c === b ? p = p.mixedAdd(n.points[a]) : c === -b && (p = p.mixedAdd(n.points[a].neg()));
    f = f.add(p);
  }
  return f.toP();
};
ps.prototype._wnafMul = function(e, t) {
  var n = 4, i = e._getNAFPoints(n);
  n = i.wnd;
  for (var s = i.points, o = Su(t, n, this._bitLength), a = this.jpoint(null, null, null), c = o.length - 1; c >= 0; c--) {
    for (var l = 0; c >= 0 && o[c] === 0; c--)
      l++;
    if (c >= 0 && l++, a = a.dblp(l), c < 0)
      break;
    var f = o[c];
    Cu(f !== 0), e.type === "affine" ? f > 0 ? a = a.mixedAdd(s[f - 1 >> 1]) : a = a.mixedAdd(s[-f - 1 >> 1].neg()) : f > 0 ? a = a.add(s[f - 1 >> 1]) : a = a.add(s[-f - 1 >> 1].neg());
  }
  return e.type === "affine" ? a.toP() : a;
};
ps.prototype._wnafMulAdd = function(e, t, n, i, s) {
  var o = this._wnafT1, a = this._wnafT2, c = this._wnafT3, l = 0, f, p, b;
  for (f = 0; f < i; f++) {
    b = t[f];
    var w = b._getNAFPoints(e);
    o[f] = w.wnd, a[f] = w.points;
  }
  for (f = i - 1; f >= 1; f -= 2) {
    var A = f - 1, C = f;
    if (o[A] !== 1 || o[C] !== 1) {
      c[A] = Su(n[A], o[A], this._bitLength), c[C] = Su(n[C], o[C], this._bitLength), l = Math.max(c[A].length, l), l = Math.max(c[C].length, l);
      continue;
    }
    var S = [
      t[A],
      null,
      null,
      t[C]
    ];
    t[A].y.cmp(t[C].y) === 0 ? (S[1] = t[A].add(t[C]), S[2] = t[A].toJ().mixedAdd(t[C].neg())) : t[A].y.cmp(t[C].y.redNeg()) === 0 ? (S[1] = t[A].toJ().mixedAdd(t[C]), S[2] = t[A].add(t[C].neg())) : (S[1] = t[A].toJ().mixedAdd(t[C]), S[2] = t[A].toJ().mixedAdd(t[C].neg()));
    var k = [
      -3,
      -1,
      -5,
      -7,
      0,
      7,
      5,
      1,
      3
    ], O = m7(n[A], n[C]);
    for (l = Math.max(O[0].length, l), c[A] = new Array(l), c[C] = new Array(l), p = 0; p < l; p++) {
      var L = O[0][p] | 0, B = O[1][p] | 0;
      c[A][p] = k[(L + 1) * 3 + (B + 1)], c[C][p] = 0, a[A] = S;
    }
  }
  var N = this.jpoint(null, null, null), j = this._wnafT4;
  for (f = l; f >= 0; f--) {
    for (var q = 0; f >= 0; ) {
      var K = !0;
      for (p = 0; p < i; p++)
        j[p] = c[p][f] | 0, j[p] !== 0 && (K = !1);
      if (!K)
        break;
      q++, f--;
    }
    if (f >= 0 && q++, N = N.dblp(q), f < 0)
      break;
    for (p = 0; p < i; p++) {
      var X = j[p];
      X !== 0 && (X > 0 ? b = a[p][X - 1 >> 1] : X < 0 && (b = a[p][-X - 1 >> 1].neg()), b.type === "affine" ? N = N.mixedAdd(b) : N = N.add(b));
    }
  }
  for (f = 0; f < i; f++)
    a[f] = null;
  return s ? N : N.toP();
};
function ln(r, e) {
  this.curve = r, this.type = e, this.precomputed = null;
}
ps.BasePoint = ln;
ln.prototype.eq = function() {
  throw new Error("Not implemented");
};
ln.prototype.validate = function() {
  return this.curve.validate(this);
};
ps.prototype.decodePoint = function(e, t) {
  e = zr.toArray(e, t);
  var n = this.p.byteLength();
  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * n) {
    e[0] === 6 ? Cu(e[e.length - 1] % 2 === 0) : e[0] === 7 && Cu(e[e.length - 1] % 2 === 1);
    var i = this.point(
      e.slice(1, 1 + n),
      e.slice(1 + n, 1 + 2 * n)
    );
    return i;
  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === n)
    return this.pointFromX(e.slice(1, 1 + n), e[0] === 3);
  throw new Error("Unknown point format");
};
ln.prototype.encodeCompressed = function(e) {
  return this.encode(e, !0);
};
ln.prototype._encode = function(e) {
  var t = this.curve.p.byteLength(), n = this.getX().toArray("be", t);
  return e ? [this.getY().isEven() ? 2 : 3].concat(n) : [4].concat(n, this.getY().toArray("be", t));
};
ln.prototype.encode = function(e, t) {
  return zr.encode(this._encode(t), e);
};
ln.prototype.precompute = function(e) {
  if (this.precomputed)
    return this;
  var t = {
    doubles: null,
    naf: null,
    beta: null
  };
  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;
};
ln.prototype._hasDoubles = function(e) {
  if (!this.precomputed)
    return !1;
  var t = this.precomputed.doubles;
  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;
};
ln.prototype._getDoubles = function(e, t) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;
  for (var n = [this], i = this, s = 0; s < t; s += e) {
    for (var o = 0; o < e; o++)
      i = i.dbl();
    n.push(i);
  }
  return {
    step: e,
    points: n
  };
};
ln.prototype._getNAFPoints = function(e) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;
  for (var t = [this], n = (1 << e) - 1, i = n === 1 ? null : this.dbl(), s = 1; s < n; s++)
    t[s] = t[s - 1].add(i);
  return {
    wnd: e,
    points: t
  };
};
ln.prototype._getBeta = function() {
  return null;
};
ln.prototype.dblp = function(e) {
  for (var t = this, n = 0; n < e; n++)
    t = t.dbl();
  return t;
};
var G0 = ya(function(r) {
  typeof Object.create == "function" ? r.exports = function(t, n) {
    n && (t.super_ = n, t.prototype = Object.create(n.prototype, {
      constructor: {
        value: t,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }));
  } : r.exports = function(t, n) {
    if (n) {
      t.super_ = n;
      var i = function() {
      };
      i.prototype = n.prototype, t.prototype = new i(), t.prototype.constructor = t;
    }
  };
}), b7 = zr.assert;
function un(r) {
  po.call(this, "short", r), this.a = new he(r.a, 16).toRed(this.red), this.b = new he(r.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(r), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);
}
G0(un, po);
var x7 = un;
un.prototype._getEndomorphism = function(e) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var t, n;
    if (e.beta)
      t = new he(e.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      t = i[0].cmp(i[1]) < 0 ? i[0] : i[1], t = t.toRed(this.red);
    }
    if (e.lambda)
      n = new he(e.lambda, 16);
    else {
      var s = this._getEndoRoots(this.n);
      this.g.mul(s[0]).x.cmp(this.g.x.redMul(t)) === 0 ? n = s[0] : (n = s[1], b7(this.g.mul(n).x.cmp(this.g.x.redMul(t)) === 0));
    }
    var o;
    return e.basis ? o = e.basis.map(function(a) {
      return {
        a: new he(a.a, 16),
        b: new he(a.b, 16)
      };
    }) : o = this._getEndoBasis(n), {
      beta: t,
      lambda: n,
      basis: o
    };
  }
};
un.prototype._getEndoRoots = function(e) {
  var t = e === this.p ? this.red : he.mont(e), n = new he(2).toRed(t).redInvm(), i = n.redNeg(), s = new he(3).toRed(t).redNeg().redSqrt().redMul(n), o = i.redAdd(s).fromRed(), a = i.redSub(s).fromRed();
  return [o, a];
};
un.prototype._getEndoBasis = function(e) {
  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), n = e, i = this.n.clone(), s = new he(1), o = new he(0), a = new he(0), c = new he(1), l, f, p, b, w, A, C, S = 0, k, O; n.cmpn(0) !== 0; ) {
    var L = i.div(n);
    k = i.sub(L.mul(n)), O = a.sub(L.mul(s));
    var B = c.sub(L.mul(o));
    if (!p && k.cmp(t) < 0)
      l = C.neg(), f = s, p = k.neg(), b = O;
    else if (p && ++S === 2)
      break;
    C = k, i = n, n = k, a = s, s = O, c = o, o = B;
  }
  w = k.neg(), A = O;
  var N = p.sqr().add(b.sqr()), j = w.sqr().add(A.sqr());
  return j.cmp(N) >= 0 && (w = l, A = f), p.negative && (p = p.neg(), b = b.neg()), w.negative && (w = w.neg(), A = A.neg()), [
    { a: p, b },
    { a: w, b: A }
  ];
};
un.prototype._endoSplit = function(e) {
  var t = this.endo.basis, n = t[0], i = t[1], s = i.b.mul(e).divRound(this.n), o = n.b.neg().mul(e).divRound(this.n), a = s.mul(n.a), c = o.mul(i.a), l = s.mul(n.b), f = o.mul(i.b), p = e.sub(a).sub(c), b = l.add(f).neg();
  return { k1: p, k2: b };
};
un.prototype.pointFromX = function(e, t) {
  e = new he(e, 16), e.red || (e = e.toRed(this.red));
  var n = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), i = n.redSqrt();
  if (i.redSqr().redSub(n).cmp(this.zero) !== 0)
    throw new Error("invalid point");
  var s = i.fromRed().isOdd();
  return (t && !s || !t && s) && (i = i.redNeg()), this.point(e, i);
};
un.prototype.validate = function(e) {
  if (e.inf)
    return !0;
  var t = e.x, n = e.y, i = this.a.redMul(t), s = t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);
  return n.redSqr().redISub(s).cmpn(0) === 0;
};
un.prototype._endoWnafMulAdd = function(e, t, n) {
  for (var i = this._endoWnafT1, s = this._endoWnafT2, o = 0; o < e.length; o++) {
    var a = this._endoSplit(t[o]), c = e[o], l = c._getBeta();
    a.k1.negative && (a.k1.ineg(), c = c.neg(!0)), a.k2.negative && (a.k2.ineg(), l = l.neg(!0)), i[o * 2] = c, i[o * 2 + 1] = l, s[o * 2] = a.k1, s[o * 2 + 1] = a.k2;
  }
  for (var f = this._wnafMulAdd(1, i, s, o * 2, n), p = 0; p < o * 2; p++)
    i[p] = null, s[p] = null;
  return f;
};
function Gt(r, e, t, n) {
  po.BasePoint.call(this, r, "affine"), e === null && t === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new he(e, 16), this.y = new he(t, 16), n && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);
}
G0(Gt, po.BasePoint);
un.prototype.point = function(e, t, n) {
  return new Gt(this, e, t, n);
};
un.prototype.pointFromJSON = function(e, t) {
  return Gt.fromJSON(this, e, t);
};
Gt.prototype._getBeta = function() {
  if (!!this.curve.endo) {
    var e = this.precomputed;
    if (e && e.beta)
      return e.beta;
    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
    if (e) {
      var n = this.curve, i = function(s) {
        return n.point(s.x.redMul(n.endo.beta), s.y);
      };
      e.beta = t, t.precomputed = {
        beta: null,
        naf: e.naf && {
          wnd: e.naf.wnd,
          points: e.naf.points.map(i)
        },
        doubles: e.doubles && {
          step: e.doubles.step,
          points: e.doubles.points.map(i)
        }
      };
    }
    return t;
  }
};
Gt.prototype.toJSON = function() {
  return this.precomputed ? [this.x, this.y, this.precomputed && {
    doubles: this.precomputed.doubles && {
      step: this.precomputed.doubles.step,
      points: this.precomputed.doubles.points.slice(1)
    },
    naf: this.precomputed.naf && {
      wnd: this.precomputed.naf.wnd,
      points: this.precomputed.naf.points.slice(1)
    }
  }] : [this.x, this.y];
};
Gt.fromJSON = function(e, t, n) {
  typeof t == "string" && (t = JSON.parse(t));
  var i = e.point(t[0], t[1], n);
  if (!t[2])
    return i;
  function s(a) {
    return e.point(a[0], a[1], n);
  }
  var o = t[2];
  return i.precomputed = {
    beta: null,
    doubles: o.doubles && {
      step: o.doubles.step,
      points: [i].concat(o.doubles.points.map(s))
    },
    naf: o.naf && {
      wnd: o.naf.wnd,
      points: [i].concat(o.naf.points.map(s))
    }
  }, i;
};
Gt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">";
};
Gt.prototype.isInfinity = function() {
  return this.inf;
};
Gt.prototype.add = function(e) {
  if (this.inf)
    return e;
  if (e.inf)
    return this;
  if (this.eq(e))
    return this.dbl();
  if (this.neg().eq(e))
    return this.curve.point(null, null);
  if (this.x.cmp(e.x) === 0)
    return this.curve.point(null, null);
  var t = this.y.redSub(e.y);
  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));
  var n = t.redSqr().redISub(this.x).redISub(e.x), i = t.redMul(this.x.redSub(n)).redISub(this.y);
  return this.curve.point(n, i);
};
Gt.prototype.dbl = function() {
  if (this.inf)
    return this;
  var e = this.y.redAdd(this.y);
  if (e.cmpn(0) === 0)
    return this.curve.point(null, null);
  var t = this.curve.a, n = this.x.redSqr(), i = e.redInvm(), s = n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i), o = s.redSqr().redISub(this.x.redAdd(this.x)), a = s.redMul(this.x.redSub(o)).redISub(this.y);
  return this.curve.point(o, a);
};
Gt.prototype.getX = function() {
  return this.x.fromRed();
};
Gt.prototype.getY = function() {
  return this.y.fromRed();
};
Gt.prototype.mul = function(e) {
  return e = new he(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);
};
Gt.prototype.mulAdd = function(e, t, n) {
  var i = [this, t], s = [e, n];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, s) : this.curve._wnafMulAdd(1, i, s, 2);
};
Gt.prototype.jmulAdd = function(e, t, n) {
  var i = [this, t], s = [e, n];
  return this.curve.endo ? this.curve._endoWnafMulAdd(i, s, !0) : this.curve._wnafMulAdd(1, i, s, 2, !0);
};
Gt.prototype.eq = function(e) {
  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);
};
Gt.prototype.neg = function(e) {
  if (this.inf)
    return this;
  var t = this.curve.point(this.x, this.y.redNeg());
  if (e && this.precomputed) {
    var n = this.precomputed, i = function(s) {
      return s.neg();
    };
    t.precomputed = {
      naf: n.naf && {
        wnd: n.naf.wnd,
        points: n.naf.points.map(i)
      },
      doubles: n.doubles && {
        step: n.doubles.step,
        points: n.doubles.points.map(i)
      }
    };
  }
  return t;
};
Gt.prototype.toJ = function() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);
  var e = this.curve.jpoint(this.x, this.y, this.curve.one);
  return e;
};
function Xt(r, e, t, n) {
  po.BasePoint.call(this, r, "jacobian"), e === null && t === null && n === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new he(0)) : (this.x = new he(e, 16), this.y = new he(t, 16), this.z = new he(n, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;
}
G0(Xt, po.BasePoint);
un.prototype.jpoint = function(e, t, n) {
  return new Xt(this, e, t, n);
};
Xt.prototype.toP = function() {
  if (this.isInfinity())
    return this.curve.point(null, null);
  var e = this.z.redInvm(), t = e.redSqr(), n = this.x.redMul(t), i = this.y.redMul(t).redMul(e);
  return this.curve.point(n, i);
};
Xt.prototype.neg = function() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};
Xt.prototype.add = function(e) {
  if (this.isInfinity())
    return e;
  if (e.isInfinity())
    return this;
  var t = e.z.redSqr(), n = this.z.redSqr(), i = this.x.redMul(t), s = e.x.redMul(n), o = this.y.redMul(t.redMul(e.z)), a = e.y.redMul(n.redMul(this.z)), c = i.redSub(s), l = o.redSub(a);
  if (c.cmpn(0) === 0)
    return l.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var f = c.redSqr(), p = f.redMul(c), b = i.redMul(f), w = l.redSqr().redIAdd(p).redISub(b).redISub(b), A = l.redMul(b.redISub(w)).redISub(o.redMul(p)), C = this.z.redMul(e.z).redMul(c);
  return this.curve.jpoint(w, A, C);
};
Xt.prototype.mixedAdd = function(e) {
  if (this.isInfinity())
    return e.toJ();
  if (e.isInfinity())
    return this;
  var t = this.z.redSqr(), n = this.x, i = e.x.redMul(t), s = this.y, o = e.y.redMul(t).redMul(this.z), a = n.redSub(i), c = s.redSub(o);
  if (a.cmpn(0) === 0)
    return c.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
  var l = a.redSqr(), f = l.redMul(a), p = n.redMul(l), b = c.redSqr().redIAdd(f).redISub(p).redISub(p), w = c.redMul(p.redISub(b)).redISub(s.redMul(f)), A = this.z.redMul(a);
  return this.curve.jpoint(b, w, A);
};
Xt.prototype.dblp = function(e) {
  if (e === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!e)
    return this.dbl();
  var t;
  if (this.curve.zeroA || this.curve.threeA) {
    var n = this;
    for (t = 0; t < e; t++)
      n = n.dbl();
    return n;
  }
  var i = this.curve.a, s = this.curve.tinv, o = this.x, a = this.y, c = this.z, l = c.redSqr().redSqr(), f = a.redAdd(a);
  for (t = 0; t < e; t++) {
    var p = o.redSqr(), b = f.redSqr(), w = b.redSqr(), A = p.redAdd(p).redIAdd(p).redIAdd(i.redMul(l)), C = o.redMul(b), S = A.redSqr().redISub(C.redAdd(C)), k = C.redISub(S), O = A.redMul(k);
    O = O.redIAdd(O).redISub(w);
    var L = f.redMul(c);
    t + 1 < e && (l = l.redMul(w)), o = S, c = L, f = O;
  }
  return this.curve.jpoint(o, f.redMul(s), c);
};
Xt.prototype.dbl = function() {
  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();
};
Xt.prototype._zeroDbl = function() {
  var e, t, n;
  if (this.zOne) {
    var i = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), a = this.x.redAdd(s).redSqr().redISub(i).redISub(o);
    a = a.redIAdd(a);
    var c = i.redAdd(i).redIAdd(i), l = c.redSqr().redISub(a).redISub(a), f = o.redIAdd(o);
    f = f.redIAdd(f), f = f.redIAdd(f), e = l, t = c.redMul(a.redISub(l)).redISub(f), n = this.y.redAdd(this.y);
  } else {
    var p = this.x.redSqr(), b = this.y.redSqr(), w = b.redSqr(), A = this.x.redAdd(b).redSqr().redISub(p).redISub(w);
    A = A.redIAdd(A);
    var C = p.redAdd(p).redIAdd(p), S = C.redSqr(), k = w.redIAdd(w);
    k = k.redIAdd(k), k = k.redIAdd(k), e = S.redISub(A).redISub(A), t = C.redMul(A.redISub(e)).redISub(k), n = this.y.redMul(this.z), n = n.redIAdd(n);
  }
  return this.curve.jpoint(e, t, n);
};
Xt.prototype._threeDbl = function() {
  var e, t, n;
  if (this.zOne) {
    var i = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), a = this.x.redAdd(s).redSqr().redISub(i).redISub(o);
    a = a.redIAdd(a);
    var c = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a), l = c.redSqr().redISub(a).redISub(a);
    e = l;
    var f = o.redIAdd(o);
    f = f.redIAdd(f), f = f.redIAdd(f), t = c.redMul(a.redISub(l)).redISub(f), n = this.y.redAdd(this.y);
  } else {
    var p = this.z.redSqr(), b = this.y.redSqr(), w = this.x.redMul(b), A = this.x.redSub(p).redMul(this.x.redAdd(p));
    A = A.redAdd(A).redIAdd(A);
    var C = w.redIAdd(w);
    C = C.redIAdd(C);
    var S = C.redAdd(C);
    e = A.redSqr().redISub(S), n = this.y.redAdd(this.z).redSqr().redISub(b).redISub(p);
    var k = b.redSqr();
    k = k.redIAdd(k), k = k.redIAdd(k), k = k.redIAdd(k), t = A.redMul(C.redISub(e)).redISub(k);
  }
  return this.curve.jpoint(e, t, n);
};
Xt.prototype._dbl = function() {
  var e = this.curve.a, t = this.x, n = this.y, i = this.z, s = i.redSqr().redSqr(), o = t.redSqr(), a = n.redSqr(), c = o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)), l = t.redAdd(t);
  l = l.redIAdd(l);
  var f = l.redMul(a), p = c.redSqr().redISub(f.redAdd(f)), b = f.redISub(p), w = a.redSqr();
  w = w.redIAdd(w), w = w.redIAdd(w), w = w.redIAdd(w);
  var A = c.redMul(b).redISub(w), C = n.redAdd(n).redMul(i);
  return this.curve.jpoint(p, A, C);
};
Xt.prototype.trpl = function() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);
  var e = this.x.redSqr(), t = this.y.redSqr(), n = this.z.redSqr(), i = t.redSqr(), s = e.redAdd(e).redIAdd(e), o = s.redSqr(), a = this.x.redAdd(t).redSqr().redISub(e).redISub(i);
  a = a.redIAdd(a), a = a.redAdd(a).redIAdd(a), a = a.redISub(o);
  var c = a.redSqr(), l = i.redIAdd(i);
  l = l.redIAdd(l), l = l.redIAdd(l), l = l.redIAdd(l);
  var f = s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l), p = t.redMul(f);
  p = p.redIAdd(p), p = p.redIAdd(p);
  var b = this.x.redMul(c).redISub(p);
  b = b.redIAdd(b), b = b.redIAdd(b);
  var w = this.y.redMul(f.redMul(l.redISub(f)).redISub(a.redMul(c)));
  w = w.redIAdd(w), w = w.redIAdd(w), w = w.redIAdd(w);
  var A = this.z.redAdd(a).redSqr().redISub(n).redISub(c);
  return this.curve.jpoint(b, w, A);
};
Xt.prototype.mul = function(e, t) {
  return e = new he(e, t), this.curve._wnafMul(this, e);
};
Xt.prototype.eq = function(e) {
  if (e.type === "affine")
    return this.eq(e.toJ());
  if (this === e)
    return !0;
  var t = this.z.redSqr(), n = e.z.redSqr();
  if (this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0) !== 0)
    return !1;
  var i = t.redMul(this.z), s = n.redMul(e.z);
  return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0) === 0;
};
Xt.prototype.eqXToP = function(e) {
  var t = this.z.redSqr(), n = e.toRed(this.curve.red).redMul(t);
  if (this.x.cmp(n) === 0)
    return !0;
  for (var i = e.clone(), s = this.curve.redN.redMul(t); ; ) {
    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)
      return !1;
    if (n.redIAdd(s), this.x.cmp(n) === 0)
      return !0;
  }
};
Xt.prototype.inspect = function() {
  return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">";
};
Xt.prototype.isInfinity = function() {
  return this.z.cmpn(0) === 0;
};
var zl = ya(function(r, e) {
  var t = e;
  t.base = po, t.short = x7, t.mont = null, t.edwards = null;
}), ql = ya(function(r, e) {
  var t = e, n = zr.assert;
  function i(a) {
    a.type === "short" ? this.curve = new zl.short(a) : a.type === "edwards" ? this.curve = new zl.edwards(a) : this.curve = new zl.mont(a), this.g = this.curve.g, this.n = this.curve.n, this.hash = a.hash, n(this.g.validate(), "Invalid curve"), n(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
  }
  t.PresetCurve = i;
  function s(a, c) {
    Object.defineProperty(t, a, {
      configurable: !0,
      enumerable: !0,
      get: function() {
        var l = new i(c);
        return Object.defineProperty(t, a, {
          configurable: !0,
          enumerable: !0,
          value: l
        }), l;
      }
    });
  }
  s("p192", {
    type: "short",
    prime: "p192",
    p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
    b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
    n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
    hash: Mn.sha256,
    gRed: !1,
    g: [
      "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
      "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"
    ]
  }), s("p224", {
    type: "short",
    prime: "p224",
    p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
    a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
    b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
    n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
    hash: Mn.sha256,
    gRed: !1,
    g: [
      "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
      "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"
    ]
  }), s("p256", {
    type: "short",
    prime: null,
    p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
    a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
    b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
    n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
    hash: Mn.sha256,
    gRed: !1,
    g: [
      "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
      "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"
    ]
  }), s("p384", {
    type: "short",
    prime: null,
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
    a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
    b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
    n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
    hash: Mn.sha384,
    gRed: !1,
    g: [
      "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
      "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"
    ]
  }), s("p521", {
    type: "short",
    prime: null,
    p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
    a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
    b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
    n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
    hash: Mn.sha512,
    gRed: !1,
    g: [
      "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
      "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"
    ]
  }), s("curve25519", {
    type: "mont",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "76d06",
    b: "1",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: Mn.sha256,
    gRed: !1,
    g: [
      "9"
    ]
  }), s("ed25519", {
    type: "edwards",
    prime: "p25519",
    p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
    a: "-1",
    c: "1",
    d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
    n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
    hash: Mn.sha256,
    gRed: !1,
    g: [
      "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
      "6666666666666666666666666666666666666666666666666666666666666658"
    ]
  });
  var o;
  try {
    o = null.crash();
  } catch {
    o = void 0;
  }
  s("secp256k1", {
    type: "short",
    prime: "k256",
    p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
    a: "0",
    b: "7",
    n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
    h: "1",
    hash: Mn.sha256,
    beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
    lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
    basis: [
      {
        a: "3086d221a7d46bcde86c90e49284eb15",
        b: "-e4437ed6010e88286f547fa90abfe4c3"
      },
      {
        a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
        b: "3086d221a7d46bcde86c90e49284eb15"
      }
    ],
    gRed: !1,
    g: [
      "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
      "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
      o
    ]
  });
});
function ls(r) {
  if (!(this instanceof ls))
    return new ls(r);
  this.hash = r.hash, this.predResist = !!r.predResist, this.outLen = this.hash.outSize, this.minEntropy = r.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
  var e = wn.toArray(r.entropy, r.entropyEnc || "hex"), t = wn.toArray(r.nonce, r.nonceEnc || "hex"), n = wn.toArray(r.pers, r.persEnc || "hex");
  H0(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._init(e, t, n);
}
var yw = ls;
ls.prototype._init = function(e, t, n) {
  var i = e.concat(t).concat(n);
  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
  for (var s = 0; s < this.V.length; s++)
    this.K[s] = 0, this.V[s] = 1;
  this._update(i), this._reseed = 1, this.reseedInterval = 281474976710656;
};
ls.prototype._hmac = function() {
  return new Mn.hmac(this.hash, this.K);
};
ls.prototype._update = function(e) {
  var t = this._hmac().update(this.V).update([0]);
  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());
};
ls.prototype.reseed = function(e, t, n, i) {
  typeof t != "string" && (i = n, n = t, t = null), e = wn.toArray(e, t), n = wn.toArray(n, i), H0(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ), this._update(e.concat(n || [])), this._reseed = 1;
};
ls.prototype.generate = function(e, t, n, i) {
  if (this._reseed > this.reseedInterval)
    throw new Error("Reseed is required");
  typeof t != "string" && (i = n, n = t, t = null), n && (n = wn.toArray(n, i || "hex"), this._update(n));
  for (var s = []; s.length < e; )
    this.V = this._hmac().update(this.V).digest(), s = s.concat(this.V);
  var o = s.slice(0, e);
  return this._update(n), this._reseed++, wn.encode(o, t);
};
var yd = zr.assert;
function ur(r, e) {
  this.ec = r, this.priv = null, this.pub = null, e.priv && this._importPrivate(e.priv, e.privEnc), e.pub && this._importPublic(e.pub, e.pubEnc);
}
var K0 = ur;
ur.fromPublic = function(e, t, n) {
  return t instanceof ur ? t : new ur(e, {
    pub: t,
    pubEnc: n
  });
};
ur.fromPrivate = function(e, t, n) {
  return t instanceof ur ? t : new ur(e, {
    priv: t,
    privEnc: n
  });
};
ur.prototype.validate = function() {
  var e = this.getPublic();
  return e.isInfinity() ? { result: !1, reason: "Invalid public key" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: "Public key * N != O" } : { result: !1, reason: "Public key is not a point" };
};
ur.prototype.getPublic = function(e, t) {
  return typeof e == "string" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;
};
ur.prototype.getPrivate = function(e) {
  return e === "hex" ? this.priv.toString(16, 2) : this.priv;
};
ur.prototype._importPrivate = function(e, t) {
  this.priv = new he(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);
};
ur.prototype._importPublic = function(e, t) {
  if (e.x || e.y) {
    this.ec.curve.type === "mont" ? yd(e.x, "Need x coordinate") : (this.ec.curve.type === "short" || this.ec.curve.type === "edwards") && yd(e.x && e.y, "Need both x and y coordinate"), this.pub = this.ec.curve.point(e.x, e.y);
    return;
  }
  this.pub = this.ec.curve.decodePoint(e, t);
};
ur.prototype.derive = function(e) {
  return e.validate() || yd(e.validate(), "public point not validated"), e.mul(this.priv).getX();
};
ur.prototype.sign = function(e, t, n) {
  return this.ec.sign(e, this, t, n);
};
ur.prototype.verify = function(e, t) {
  return this.ec.verify(e, t, this);
};
ur.prototype.inspect = function() {
  return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >";
};
var v7 = zr.assert;
function ph(r, e) {
  if (r instanceof ph)
    return r;
  this._importDER(r, e) || (v7(r.r && r.s, "Signature without r or s"), this.r = new he(r.r, 16), this.s = new he(r.s, 16), r.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = r.recoveryParam);
}
var gh = ph;
function y7() {
  this.place = 0;
}
function wf(r, e) {
  var t = r[e.place++];
  if (!(t & 128))
    return t;
  var n = t & 15;
  if (n === 0 || n > 4)
    return !1;
  for (var i = 0, s = 0, o = e.place; s < n; s++, o++)
    i <<= 8, i |= r[o], i >>>= 0;
  return i <= 127 ? !1 : (e.place = o, i);
}
function Db(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; )
    e++;
  return e === 0 ? r : r.slice(e);
}
ph.prototype._importDER = function(e, t) {
  e = zr.toArray(e, t);
  var n = new y7();
  if (e[n.place++] !== 48)
    return !1;
  var i = wf(e, n);
  if (i === !1 || i + n.place !== e.length || e[n.place++] !== 2)
    return !1;
  var s = wf(e, n);
  if (s === !1)
    return !1;
  var o = e.slice(n.place, s + n.place);
  if (n.place += s, e[n.place++] !== 2)
    return !1;
  var a = wf(e, n);
  if (a === !1 || e.length !== a + n.place)
    return !1;
  var c = e.slice(n.place, a + n.place);
  if (o[0] === 0)
    if (o[1] & 128)
      o = o.slice(1);
    else
      return !1;
  if (c[0] === 0)
    if (c[1] & 128)
      c = c.slice(1);
    else
      return !1;
  return this.r = new he(o), this.s = new he(c), this.recoveryParam = null, !0;
};
function Af(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + (Math.log(e) / Math.LN2 >>> 3);
  for (r.push(t | 128); --t; )
    r.push(e >>> (t << 3) & 255);
  r.push(e);
}
ph.prototype.toDER = function(e) {
  var t = this.r.toArray(), n = this.s.toArray();
  for (t[0] & 128 && (t = [0].concat(t)), n[0] & 128 && (n = [0].concat(n)), t = Db(t), n = Db(n); !n[0] && !(n[1] & 128); )
    n = n.slice(1);
  var i = [2];
  Af(i, t.length), i = i.concat(t), i.push(2), Af(i, n.length);
  var s = i.concat(n), o = [48];
  return Af(o, s.length), o = o.concat(s), zr.encode(o, e);
};
var w7 = function() {
  throw new Error("unsupported");
}, ww = zr.assert;
function on(r) {
  if (!(this instanceof on))
    return new on(r);
  typeof r == "string" && (ww(
    Object.prototype.hasOwnProperty.call(ql, r),
    "Unknown curve " + r
  ), r = ql[r]), r instanceof ql.PresetCurve && (r = { curve: r }), this.curve = r.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = r.curve.g, this.g.precompute(r.curve.n.bitLength() + 1), this.hash = r.hash || r.curve.hash;
}
var A7 = on;
on.prototype.keyPair = function(e) {
  return new K0(this, e);
};
on.prototype.keyFromPrivate = function(e, t) {
  return K0.fromPrivate(this, e, t);
};
on.prototype.keyFromPublic = function(e, t) {
  return K0.fromPublic(this, e, t);
};
on.prototype.genKeyPair = function(e) {
  e || (e = {});
  for (var t = new yw({
    hash: this.hash,
    pers: e.pers,
    persEnc: e.persEnc || "utf8",
    entropy: e.entropy || w7(this.hash.hmacStrength),
    entropyEnc: e.entropy && e.entropyEnc || "utf8",
    nonce: this.n.toArray()
  }), n = this.n.byteLength(), i = this.n.sub(new he(2)); ; ) {
    var s = new he(t.generate(n));
    if (!(s.cmp(i) > 0))
      return s.iaddn(1), this.keyFromPrivate(s);
  }
};
on.prototype._truncateToN = function(e, t) {
  var n = e.byteLength() * 8 - this.n.bitLength();
  return n > 0 && (e = e.ushrn(n)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;
};
on.prototype.sign = function(e, t, n, i) {
  typeof n == "object" && (i = n, n = null), i || (i = {}), t = this.keyFromPrivate(t, n), e = this._truncateToN(new he(e, 16));
  for (var s = this.n.byteLength(), o = t.getPrivate().toArray("be", s), a = e.toArray("be", s), c = new yw({
    hash: this.hash,
    entropy: o,
    nonce: a,
    pers: i.pers,
    persEnc: i.persEnc || "utf8"
  }), l = this.n.sub(new he(1)), f = 0; ; f++) {
    var p = i.k ? i.k(f) : new he(c.generate(this.n.byteLength()));
    if (p = this._truncateToN(p, !0), !(p.cmpn(1) <= 0 || p.cmp(l) >= 0)) {
      var b = this.g.mul(p);
      if (!b.isInfinity()) {
        var w = b.getX(), A = w.umod(this.n);
        if (A.cmpn(0) !== 0) {
          var C = p.invm(this.n).mul(A.mul(t.getPrivate()).iadd(e));
          if (C = C.umod(this.n), C.cmpn(0) !== 0) {
            var S = (b.getY().isOdd() ? 1 : 0) | (w.cmp(A) !== 0 ? 2 : 0);
            return i.canonical && C.cmp(this.nh) > 0 && (C = this.n.sub(C), S ^= 1), new gh({ r: A, s: C, recoveryParam: S });
          }
        }
      }
    }
  }
};
on.prototype.verify = function(e, t, n, i) {
  e = this._truncateToN(new he(e, 16)), n = this.keyFromPublic(n, i), t = new gh(t, "hex");
  var s = t.r, o = t.s;
  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0 || o.cmpn(1) < 0 || o.cmp(this.n) >= 0)
    return !1;
  var a = o.invm(this.n), c = a.mul(e).umod(this.n), l = a.mul(s).umod(this.n), f;
  return this.curve._maxwellTrick ? (f = this.g.jmulAdd(c, n.getPublic(), l), f.isInfinity() ? !1 : f.eqXToP(s)) : (f = this.g.mulAdd(c, n.getPublic(), l), f.isInfinity() ? !1 : f.getX().umod(this.n).cmp(s) === 0);
};
on.prototype.recoverPubKey = function(r, e, t, n) {
  ww((3 & t) === t, "The recovery param is more than two bits"), e = new gh(e, n);
  var i = this.n, s = new he(r), o = e.r, a = e.s, c = t & 1, l = t >> 1;
  if (o.cmp(this.curve.p.umod(this.curve.n)) >= 0 && l)
    throw new Error("Unable to find sencond key candinate");
  l ? o = this.curve.pointFromX(o.add(this.curve.n), c) : o = this.curve.pointFromX(o, c);
  var f = e.r.invm(i), p = i.sub(s).mul(f).umod(i), b = a.mul(f).umod(i);
  return this.g.mulAdd(p, o, b);
};
on.prototype.getKeyRecoveryParam = function(r, e, t, n) {
  if (e = new gh(e, n), e.recoveryParam !== null)
    return e.recoveryParam;
  for (var i = 0; i < 4; i++) {
    var s;
    try {
      s = this.recoverPubKey(r, e, i);
    } catch {
      continue;
    }
    if (s.eq(t))
      return i;
  }
  throw new Error("Unable to find valid recovery factor");
};
var S7 = ya(function(r, e) {
  var t = e;
  t.version = "6.5.4", t.utils = zr, t.rand = function() {
    throw new Error("unsupported");
  }, t.curve = zl, t.curves = ql, t.ec = A7, t.eddsa = null;
}), C7 = S7.ec;
const E7 = "signing-key/5.7.0", wd = new M(E7);
let Sf = null;
function Nn() {
  return Sf || (Sf = new C7("secp256k1")), Sf;
}
class _7 {
  constructor(e) {
    W(this, "curve", "secp256k1"), W(this, "privateKey", re(e)), zs(this.privateKey) !== 32 && wd.throwArgumentError("invalid private key", "privateKey", "[[ REDACTED ]]");
    const t = Nn().keyFromPrivate(oe(this.privateKey));
    W(this, "publicKey", "0x" + t.getPublic(!1, "hex")), W(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")), W(this, "_isSigningKey", !0);
  }
  _addPoint(e) {
    const t = Nn().keyFromPublic(oe(this.publicKey)), n = Nn().keyFromPublic(oe(e));
    return "0x" + t.pub.add(n.pub).encodeCompressed("hex");
  }
  signDigest(e) {
    const t = Nn().keyFromPrivate(oe(this.privateKey)), n = oe(e);
    n.length !== 32 && wd.throwArgumentError("bad digest length", "digest", e);
    const i = t.sign(n, { canonical: !0 });
    return lh({
      recoveryParam: i.recoveryParam,
      r: Le("0x" + i.r.toString(16), 32),
      s: Le("0x" + i.s.toString(16), 32)
    });
  }
  computeSharedSecret(e) {
    const t = Nn().keyFromPrivate(oe(this.privateKey)), n = Nn().keyFromPublic(oe(Aw(e)));
    return Le("0x" + t.derive(n.getPublic()).toString(16), 32);
  }
  static isSigningKey(e) {
    return !!(e && e._isSigningKey);
  }
}
function P7(r, e) {
  const t = lh(e), n = { r: oe(t.r), s: oe(t.s) };
  return "0x" + Nn().recoverPubKey(oe(r), n, t.recoveryParam).encode("hex", !1);
}
function Aw(r, e) {
  const t = oe(r);
  if (t.length === 32) {
    const n = new _7(t);
    return e ? "0x" + Nn().keyFromPrivate(t).getPublic(!0, "hex") : n.publicKey;
  } else {
    if (t.length === 33)
      return e ? re(t) : "0x" + Nn().keyFromPublic(t).getPublic(!1, "hex");
    if (t.length === 65)
      return e ? "0x" + Nn().keyFromPublic(t).getPublic(!0, "hex") : re(t);
  }
  return wd.throwArgumentError("invalid public or private key", "key", "[REDACTED]");
}
const k7 = "transactions/5.7.0", Mi = new M(k7);
var Bb;
(function(r) {
  r[r.legacy = 0] = "legacy", r[r.eip2930 = 1] = "eip2930", r[r.eip1559 = 2] = "eip1559";
})(Bb || (Bb = {}));
function z0(r) {
  return r === "0x" ? null : Tt(r);
}
function sr(r) {
  return r === "0x" ? j0 : V.from(r);
}
function R7(r) {
  const e = Aw(r);
  return Tt(nr(Rt(nr(e, 1)), 12));
}
function q0(r, e) {
  return R7(P7(oe(r), e));
}
function Lr(r, e) {
  const t = zo(V.from(r).toHexString());
  return t.length > 32 && Mi.throwArgumentError("invalid length for " + e, "transaction:" + e, r), t;
}
function Cf(r, e) {
  return {
    address: Tt(r),
    storageKeys: (e || []).map((t, n) => (zs(t) !== 32 && Mi.throwArgumentError("invalid access list storageKey", `accessList[${r}:${n}]`, t), t.toLowerCase()))
  };
}
function wa(r) {
  if (Array.isArray(r))
    return r.map((t, n) => Array.isArray(t) ? (t.length > 2 && Mi.throwArgumentError("access list expected to be [ address, storageKeys[] ]", `value[${n}]`, t), Cf(t[0], t[1])) : Cf(t.address, t.storageKeys));
  const e = Object.keys(r).map((t) => {
    const n = r[t].reduce((i, s) => (i[s] = !0, i), {});
    return Cf(t, Object.keys(n).sort());
  });
  return e.sort((t, n) => t.address.localeCompare(n.address)), e;
}
function Sw(r) {
  return wa(r).map((e) => [e.address, e.storageKeys]);
}
function T7(r, e) {
  if (r.gasPrice != null) {
    const n = V.from(r.gasPrice), i = V.from(r.maxFeePerGas || 0);
    n.eq(i) || Mi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas", "tx", {
      gasPrice: n,
      maxFeePerGas: i
    });
  }
  const t = [
    Lr(r.chainId || 0, "chainId"),
    Lr(r.nonce || 0, "nonce"),
    Lr(r.maxPriorityFeePerGas || 0, "maxPriorityFeePerGas"),
    Lr(r.maxFeePerGas || 0, "maxFeePerGas"),
    Lr(r.gasLimit || 0, "gasLimit"),
    r.to != null ? Tt(r.to) : "0x",
    Lr(r.value || 0, "value"),
    r.data || "0x",
    Sw(r.accessList || [])
  ];
  if (e) {
    const n = lh(e);
    t.push(Lr(n.recoveryParam, "recoveryParam")), t.push(zo(n.r)), t.push(zo(n.s));
  }
  return Er(["0x02", Zc(t)]);
}
function I7(r, e) {
  const t = [
    Lr(r.chainId || 0, "chainId"),
    Lr(r.nonce || 0, "nonce"),
    Lr(r.gasPrice || 0, "gasPrice"),
    Lr(r.gasLimit || 0, "gasLimit"),
    r.to != null ? Tt(r.to) : "0x",
    Lr(r.value || 0, "value"),
    r.data || "0x",
    Sw(r.accessList || [])
  ];
  if (e) {
    const n = lh(e);
    t.push(Lr(n.recoveryParam, "recoveryParam")), t.push(zo(n.r)), t.push(zo(n.s));
  }
  return Er(["0x01", Zc(t)]);
}
function Cw(r, e, t) {
  try {
    const n = sr(e[0]).toNumber();
    if (n !== 0 && n !== 1)
      throw new Error("bad recid");
    r.v = n;
  } catch {
    Mi.throwArgumentError("invalid v for transaction type: 1", "v", e[0]);
  }
  r.r = Le(e[1], 32), r.s = Le(e[2], 32);
  try {
    const n = Rt(t(r));
    r.from = q0(n, { r: r.r, s: r.s, recoveryParam: r.v });
  } catch {
  }
}
function M7(r) {
  const e = uh(r.slice(1));
  e.length !== 9 && e.length !== 12 && Mi.throwArgumentError("invalid component count for transaction type: 2", "payload", re(r));
  const t = sr(e[2]), n = sr(e[3]), i = {
    type: 2,
    chainId: sr(e[0]).toNumber(),
    nonce: sr(e[1]).toNumber(),
    maxPriorityFeePerGas: t,
    maxFeePerGas: n,
    gasPrice: null,
    gasLimit: sr(e[4]),
    to: z0(e[5]),
    value: sr(e[6]),
    data: e[7],
    accessList: wa(e[8])
  };
  return e.length === 9 || (i.hash = Rt(r), Cw(i, e.slice(9), T7)), i;
}
function O7(r) {
  const e = uh(r.slice(1));
  e.length !== 8 && e.length !== 11 && Mi.throwArgumentError("invalid component count for transaction type: 1", "payload", re(r));
  const t = {
    type: 1,
    chainId: sr(e[0]).toNumber(),
    nonce: sr(e[1]).toNumber(),
    gasPrice: sr(e[2]),
    gasLimit: sr(e[3]),
    to: z0(e[4]),
    value: sr(e[5]),
    data: e[6],
    accessList: wa(e[7])
  };
  return e.length === 8 || (t.hash = Rt(r), Cw(t, e.slice(8), I7)), t;
}
function N7(r) {
  const e = uh(r);
  e.length !== 9 && e.length !== 6 && Mi.throwArgumentError("invalid raw transaction", "rawTransaction", r);
  const t = {
    nonce: sr(e[0]).toNumber(),
    gasPrice: sr(e[1]),
    gasLimit: sr(e[2]),
    to: z0(e[3]),
    value: sr(e[4]),
    data: e[5],
    chainId: 0
  };
  if (e.length === 6)
    return t;
  try {
    t.v = V.from(e[6]).toNumber();
  } catch {
    return t;
  }
  if (t.r = Le(e[7], 32), t.s = Le(e[8], 32), V.from(t.r).isZero() && V.from(t.s).isZero())
    t.chainId = t.v, t.v = 0;
  else {
    t.chainId = Math.floor((t.v - 35) / 2), t.chainId < 0 && (t.chainId = 0);
    let n = t.v - 27;
    const i = e.slice(0, 6);
    t.chainId !== 0 && (i.push(re(t.chainId)), i.push("0x"), i.push("0x"), n -= t.chainId * 2 + 8);
    const s = Rt(Zc(i));
    try {
      t.from = q0(s, { r: re(t.r), s: re(t.s), recoveryParam: n });
    } catch {
    }
    t.hash = Rt(r);
  }
  return t.type = null, t;
}
function D7(r) {
  const e = oe(r);
  if (e[0] > 127)
    return N7(e);
  switch (e[0]) {
    case 1:
      return O7(e);
    case 2:
      return M7(e);
  }
  return Mi.throwError(`unsupported transaction type: ${e[0]}`, M.errors.UNSUPPORTED_OPERATION, {
    operation: "parseTransaction",
    transactionType: e[0]
  });
}
const B7 = "contracts/5.7.0";
var Ys = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const Pt = new M(B7);
function Eu(r, e) {
  return Ys(this, void 0, void 0, function* () {
    const t = yield e;
    typeof t != "string" && Pt.throwArgumentError("invalid address or ENS name", "name", t);
    try {
      return Tt(t);
    } catch {
    }
    r || Pt.throwError("a provider or signer is needed to resolve ENS names", M.errors.UNSUPPORTED_OPERATION, {
      operation: "resolveName"
    });
    const n = yield r.resolveName(t);
    return n == null && Pt.throwArgumentError("resolver or addr is not configured for ENS name", "name", t), n;
  });
}
function Ql(r, e, t) {
  return Ys(this, void 0, void 0, function* () {
    return Array.isArray(t) ? yield Promise.all(t.map((n, i) => Ql(r, Array.isArray(e) ? e[i] : e[n.name], n))) : t.type === "address" ? yield Eu(r, e) : t.type === "tuple" ? yield Ql(r, e, t.components) : t.baseType === "array" ? Array.isArray(e) ? yield Promise.all(e.map((n) => Ql(r, n, t.arrayChildren))) : Promise.reject(Pt.makeError("invalid value for array", M.errors.INVALID_ARGUMENT, {
      argument: "value",
      value: e
    })) : e;
  });
}
function mh(r, e, t) {
  return Ys(this, void 0, void 0, function* () {
    let n = {};
    t.length === e.inputs.length + 1 && typeof t[t.length - 1] == "object" && (n = $t(t.pop())), Pt.checkArgumentCount(t.length, e.inputs.length, "passed to contract"), r.signer ? n.from ? n.from = Mt({
      override: Eu(r.signer, n.from),
      signer: r.signer.getAddress()
    }).then((l) => Ys(this, void 0, void 0, function* () {
      return Tt(l.signer) !== l.override && Pt.throwError("Contract with a Signer cannot override from", M.errors.UNSUPPORTED_OPERATION, {
        operation: "overrides.from"
      }), l.override;
    })) : n.from = r.signer.getAddress() : n.from && (n.from = Eu(r.provider, n.from));
    const i = yield Mt({
      args: Ql(r.signer || r.provider, t, e.inputs),
      address: r.resolvedAddress,
      overrides: Mt(n) || {}
    }), s = r.interface.encodeFunctionData(e, i.args), o = {
      data: s,
      to: i.address
    }, a = i.overrides;
    if (a.nonce != null && (o.nonce = V.from(a.nonce).toNumber()), a.gasLimit != null && (o.gasLimit = V.from(a.gasLimit)), a.gasPrice != null && (o.gasPrice = V.from(a.gasPrice)), a.maxFeePerGas != null && (o.maxFeePerGas = V.from(a.maxFeePerGas)), a.maxPriorityFeePerGas != null && (o.maxPriorityFeePerGas = V.from(a.maxPriorityFeePerGas)), a.from != null && (o.from = a.from), a.type != null && (o.type = a.type), a.accessList != null && (o.accessList = wa(a.accessList)), o.gasLimit == null && e.gas != null) {
      let l = 21e3;
      const f = oe(s);
      for (let p = 0; p < f.length; p++)
        l += 4, f[p] && (l += 64);
      o.gasLimit = V.from(e.gas).add(l);
    }
    if (a.value) {
      const l = V.from(a.value);
      !l.isZero() && !e.payable && Pt.throwError("non-payable method cannot override value", M.errors.UNSUPPORTED_OPERATION, {
        operation: "overrides.value",
        value: n.value
      }), o.value = l;
    }
    a.customData && (o.customData = $t(a.customData)), a.ccipReadEnabled && (o.ccipReadEnabled = !!a.ccipReadEnabled), delete n.nonce, delete n.gasLimit, delete n.gasPrice, delete n.from, delete n.value, delete n.type, delete n.accessList, delete n.maxFeePerGas, delete n.maxPriorityFeePerGas, delete n.customData, delete n.ccipReadEnabled;
    const c = Object.keys(n).filter((l) => n[l] != null);
    return c.length && Pt.throwError(`cannot override ${c.map((l) => JSON.stringify(l)).join(",")}`, M.errors.UNSUPPORTED_OPERATION, {
      operation: "overrides",
      overrides: c
    }), o;
  });
}
function $7(r, e) {
  return function(...t) {
    return mh(r, e, t);
  };
}
function L7(r, e) {
  const t = r.signer || r.provider;
  return function(...n) {
    return Ys(this, void 0, void 0, function* () {
      t || Pt.throwError("estimate require a provider or signer", M.errors.UNSUPPORTED_OPERATION, {
        operation: "estimateGas"
      });
      const i = yield mh(r, e, n);
      return yield t.estimateGas(i);
    });
  };
}
function F7(r, e) {
  const t = e.wait.bind(e);
  e.wait = (n) => t(n).then((i) => (i.events = i.logs.map((s) => {
    let o = wi(s), a = null;
    try {
      a = r.interface.parseLog(s);
    } catch {
    }
    return a && (o.args = a.args, o.decode = (c, l) => r.interface.decodeEventLog(a.eventFragment, c, l), o.event = a.name, o.eventSignature = a.signature), o.removeListener = () => r.provider, o.getBlock = () => r.provider.getBlock(i.blockHash), o.getTransaction = () => r.provider.getTransaction(i.transactionHash), o.getTransactionReceipt = () => Promise.resolve(i), o;
  }), i));
}
function Ew(r, e, t) {
  const n = r.signer || r.provider;
  return function(...i) {
    return Ys(this, void 0, void 0, function* () {
      let s;
      if (i.length === e.inputs.length + 1 && typeof i[i.length - 1] == "object") {
        const c = $t(i.pop());
        c.blockTag != null && (s = yield c.blockTag), delete c.blockTag, i.push(c);
      }
      r.deployTransaction != null && (yield r._deployed(s));
      const o = yield mh(r, e, i), a = yield n.call(o, s);
      try {
        let c = r.interface.decodeFunctionResult(e, a);
        return t && e.outputs.length === 1 && (c = c[0]), c;
      } catch (c) {
        throw c.code === M.errors.CALL_EXCEPTION && (c.address = r.address, c.args = i, c.transaction = o), c;
      }
    });
  };
}
function U7(r, e) {
  return function(...t) {
    return Ys(this, void 0, void 0, function* () {
      r.signer || Pt.throwError("sending a transaction requires a signer", M.errors.UNSUPPORTED_OPERATION, {
        operation: "sendTransaction"
      }), r.deployTransaction != null && (yield r._deployed());
      const n = yield mh(r, e, t), i = yield r.signer.sendTransaction(n);
      return F7(r, i), i;
    });
  };
}
function $b(r, e, t) {
  return e.constant ? Ew(r, e, t) : U7(r, e);
}
function _w(r) {
  return r.address && (r.topics == null || r.topics.length === 0) ? "*" : (r.address || "*") + "@" + (r.topics ? r.topics.map((e) => Array.isArray(e) ? e.join("|") : e).join(":") : "");
}
class wc {
  constructor(e, t) {
    W(this, "tag", e), W(this, "filter", t), this._listeners = [];
  }
  addListener(e, t) {
    this._listeners.push({ listener: e, once: t });
  }
  removeListener(e) {
    let t = !1;
    this._listeners = this._listeners.filter((n) => t || n.listener !== e ? !0 : (t = !0, !1));
  }
  removeAllListeners() {
    this._listeners = [];
  }
  listeners() {
    return this._listeners.map((e) => e.listener);
  }
  listenerCount() {
    return this._listeners.length;
  }
  run(e) {
    const t = this.listenerCount();
    return this._listeners = this._listeners.filter((n) => {
      const i = e.slice();
      return setTimeout(() => {
        n.listener.apply(this, i);
      }, 0), !n.once;
    }), t;
  }
  prepareEvent(e) {
  }
  getEmit(e) {
    return [e];
  }
}
class V7 extends wc {
  constructor() {
    super("error", null);
  }
}
class Lb extends wc {
  constructor(e, t, n, i) {
    const s = {
      address: e
    };
    let o = t.getEventTopic(n);
    i ? (o !== i[0] && Pt.throwArgumentError("topic mismatch", "topics", i), s.topics = i.slice()) : s.topics = [o], super(_w(s), s), W(this, "address", e), W(this, "interface", t), W(this, "fragment", n);
  }
  prepareEvent(e) {
    super.prepareEvent(e), e.event = this.fragment.name, e.eventSignature = this.fragment.format(), e.decode = (t, n) => this.interface.decodeEventLog(this.fragment, t, n);
    try {
      e.args = this.interface.decodeEventLog(this.fragment, e.data, e.topics);
    } catch (t) {
      e.args = null, e.decodeError = t;
    }
  }
  getEmit(e) {
    const t = YS(e.args);
    if (t.length)
      throw t[0].error;
    const n = (e.args || []).slice();
    return n.push(e), n;
  }
}
class Fb extends wc {
  constructor(e, t) {
    super("*", { address: e }), W(this, "address", e), W(this, "interface", t);
  }
  prepareEvent(e) {
    super.prepareEvent(e);
    try {
      const t = this.interface.parseLog(e);
      e.event = t.name, e.eventSignature = t.signature, e.decode = (n, i) => this.interface.decodeEventLog(t.eventFragment, n, i), e.args = t.args;
    } catch {
    }
  }
}
class j7 {
  constructor(e, t, n) {
    W(this, "interface", Un(new.target, "getInterface")(t)), n == null ? (W(this, "provider", null), W(this, "signer", null)) : ns.isSigner(n) ? (W(this, "provider", n.provider || null), W(this, "signer", n)) : fh.isProvider(n) ? (W(this, "provider", n), W(this, "signer", null)) : Pt.throwArgumentError("invalid signer or provider", "signerOrProvider", n), W(this, "callStatic", {}), W(this, "estimateGas", {}), W(this, "functions", {}), W(this, "populateTransaction", {}), W(this, "filters", {});
    {
      const o = {};
      Object.keys(this.interface.events).forEach((a) => {
        const c = this.interface.events[a];
        W(this.filters, a, (...l) => ({
          address: this.address,
          topics: this.interface.encodeFilterTopics(c, l)
        })), o[c.name] || (o[c.name] = []), o[c.name].push(a);
      }), Object.keys(o).forEach((a) => {
        const c = o[a];
        c.length === 1 ? W(this.filters, a, this.filters[c[0]]) : Pt.warn(`Duplicate definition of ${a} (${c.join(", ")})`);
      });
    }
    if (W(this, "_runningEvents", {}), W(this, "_wrappedEmits", {}), e == null && Pt.throwArgumentError("invalid contract address or ENS name", "addressOrName", e), W(this, "address", e), this.provider)
      W(this, "resolvedAddress", Eu(this.provider, e));
    else
      try {
        W(this, "resolvedAddress", Promise.resolve(Tt(e)));
      } catch {
        Pt.throwError("provider is required to use ENS name as contract address", M.errors.UNSUPPORTED_OPERATION, {
          operation: "new Contract"
        });
      }
    this.resolvedAddress.catch((o) => {
    });
    const i = {}, s = {};
    Object.keys(this.interface.functions).forEach((o) => {
      const a = this.interface.functions[o];
      if (s[o]) {
        Pt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);
        return;
      }
      s[o] = !0;
      {
        const c = a.name;
        i[`%${c}`] || (i[`%${c}`] = []), i[`%${c}`].push(o);
      }
      this[o] == null && W(this, o, $b(this, a, !0)), this.functions[o] == null && W(this.functions, o, $b(this, a, !1)), this.callStatic[o] == null && W(this.callStatic, o, Ew(this, a, !0)), this.populateTransaction[o] == null && W(this.populateTransaction, o, $7(this, a)), this.estimateGas[o] == null && W(this.estimateGas, o, L7(this, a));
    }), Object.keys(i).forEach((o) => {
      const a = i[o];
      if (a.length > 1)
        return;
      o = o.substring(1);
      const c = a[0];
      try {
        this[o] == null && W(this, o, this[c]);
      } catch {
      }
      this.functions[o] == null && W(this.functions, o, this.functions[c]), this.callStatic[o] == null && W(this.callStatic, o, this.callStatic[c]), this.populateTransaction[o] == null && W(this.populateTransaction, o, this.populateTransaction[c]), this.estimateGas[o] == null && W(this.estimateGas, o, this.estimateGas[c]);
    });
  }
  static getContractAddress(e) {
    return Dy(e);
  }
  static getInterface(e) {
    return Tb.isInterface(e) ? e : new Tb(e);
  }
  deployed() {
    return this._deployed();
  }
  _deployed(e) {
    return this._deployedPromise || (this.deployTransaction ? this._deployedPromise = this.deployTransaction.wait().then(() => this) : this._deployedPromise = this.provider.getCode(this.address, e).then((t) => (t === "0x" && Pt.throwError("contract not deployed", M.errors.UNSUPPORTED_OPERATION, {
      contractAddress: this.address,
      operation: "getDeployed"
    }), this))), this._deployedPromise;
  }
  fallback(e) {
    this.signer || Pt.throwError("sending a transactions require a signer", M.errors.UNSUPPORTED_OPERATION, { operation: "sendTransaction(fallback)" });
    const t = $t(e || {});
    return ["from", "to"].forEach(function(n) {
      t[n] != null && Pt.throwError("cannot override " + n, M.errors.UNSUPPORTED_OPERATION, { operation: n });
    }), t.to = this.resolvedAddress, this.deployed().then(() => this.signer.sendTransaction(t));
  }
  connect(e) {
    typeof e == "string" && (e = new W0(e, this.provider));
    const t = new this.constructor(this.address, this.interface, e);
    return this.deployTransaction && W(t, "deployTransaction", this.deployTransaction), t;
  }
  attach(e) {
    return new this.constructor(e, this.interface, this.signer || this.provider);
  }
  static isIndexed(e) {
    return md.isIndexed(e);
  }
  _normalizeRunningEvent(e) {
    return this._runningEvents[e.tag] ? this._runningEvents[e.tag] : e;
  }
  _getRunningEvent(e) {
    if (typeof e == "string") {
      if (e === "error")
        return this._normalizeRunningEvent(new V7());
      if (e === "event")
        return this._normalizeRunningEvent(new wc("event", null));
      if (e === "*")
        return this._normalizeRunningEvent(new Fb(this.address, this.interface));
      const t = this.interface.getEvent(e);
      return this._normalizeRunningEvent(new Lb(this.address, this.interface, t));
    }
    if (e.topics && e.topics.length > 0) {
      try {
        const n = e.topics[0];
        if (typeof n != "string")
          throw new Error("invalid topic");
        const i = this.interface.getEvent(n);
        return this._normalizeRunningEvent(new Lb(this.address, this.interface, i, e.topics));
      } catch {
      }
      const t = {
        address: this.address,
        topics: e.topics
      };
      return this._normalizeRunningEvent(new wc(_w(t), t));
    }
    return this._normalizeRunningEvent(new Fb(this.address, this.interface));
  }
  _checkRunningEvents(e) {
    if (e.listenerCount() === 0) {
      delete this._runningEvents[e.tag];
      const t = this._wrappedEmits[e.tag];
      t && e.filter && (this.provider.off(e.filter, t), delete this._wrappedEmits[e.tag]);
    }
  }
  _wrapEvent(e, t, n) {
    const i = wi(t);
    return i.removeListener = () => {
      !n || (e.removeListener(n), this._checkRunningEvents(e));
    }, i.getBlock = () => this.provider.getBlock(t.blockHash), i.getTransaction = () => this.provider.getTransaction(t.transactionHash), i.getTransactionReceipt = () => this.provider.getTransactionReceipt(t.transactionHash), e.prepareEvent(i), i;
  }
  _addEventListener(e, t, n) {
    if (this.provider || Pt.throwError("events require a provider or a signer with a provider", M.errors.UNSUPPORTED_OPERATION, { operation: "once" }), e.addListener(t, n), this._runningEvents[e.tag] = e, !this._wrappedEmits[e.tag]) {
      const i = (s) => {
        let o = this._wrapEvent(e, s, t);
        if (o.decodeError == null)
          try {
            const a = e.getEmit(o);
            this.emit(e.filter, ...a);
          } catch (a) {
            o.decodeError = a.error;
          }
        e.filter != null && this.emit("event", o), o.decodeError != null && this.emit("error", o.decodeError, o);
      };
      this._wrappedEmits[e.tag] = i, e.filter != null && this.provider.on(e.filter, i);
    }
  }
  queryFilter(e, t, n) {
    const i = this._getRunningEvent(e), s = $t(i.filter);
    return typeof t == "string" && ke(t, 32) ? (n != null && Pt.throwArgumentError("cannot specify toBlock with blockhash", "toBlock", n), s.blockHash = t) : (s.fromBlock = t ?? 0, s.toBlock = n ?? "latest"), this.provider.getLogs(s).then((o) => o.map((a) => this._wrapEvent(i, a, null)));
  }
  on(e, t) {
    return this._addEventListener(this._getRunningEvent(e), t, !1), this;
  }
  once(e, t) {
    return this._addEventListener(this._getRunningEvent(e), t, !0), this;
  }
  emit(e, ...t) {
    if (!this.provider)
      return !1;
    const n = this._getRunningEvent(e), i = n.run(t) > 0;
    return this._checkRunningEvents(n), i;
  }
  listenerCount(e) {
    return this.provider ? e == null ? Object.keys(this._runningEvents).reduce((t, n) => t + this._runningEvents[n].listenerCount(), 0) : this._getRunningEvent(e).listenerCount() : 0;
  }
  listeners(e) {
    if (!this.provider)
      return [];
    if (e == null) {
      const t = [];
      for (let n in this._runningEvents)
        this._runningEvents[n].listeners().forEach((i) => {
          t.push(i);
        });
      return t;
    }
    return this._getRunningEvent(e).listeners();
  }
  removeAllListeners(e) {
    if (!this.provider)
      return this;
    if (e == null) {
      for (const n in this._runningEvents) {
        const i = this._runningEvents[n];
        i.removeAllListeners(), this._checkRunningEvents(i);
      }
      return this;
    }
    const t = this._getRunningEvent(e);
    return t.removeAllListeners(), this._checkRunningEvents(t), this;
  }
  off(e, t) {
    if (!this.provider)
      return this;
    const n = this._getRunningEvent(e);
    return n.removeListener(t), this._checkRunningEvents(n), this;
  }
  removeListener(e, t) {
    return this.off(e, t);
  }
}
class Pw extends j7 {
}
const W7 = !0, H7 = "https://primedao.mypinata.cloud//", G7 = "AIzaSyAmcBzOuKPoswcKAZDabJ42dyN6EL-7Gw0", K7 = "Alfajores", z7 = { KOL_IPFS_GATEWAY: "https://primedao.mypinata.cloud//", KOL_FIREBASE_API_KEY: "AIzaSyAmcBzOuKPoswcKAZDabJ42dyN6EL-7Gw0", KOL_NETWORK: "Alfajores", BASE_URL: "/", MODE: "development", DEV: !0, PROD: !1 }.KOL_ETHERSCAN_LINK ?? "https://alfajores-blockscout.celo-testnet.org/{type}/{address}", q7 = "networks/5.7.1", Ub = new M(q7);
function Q7(r) {
  return r && typeof r.renetwork == "function";
}
function oi(r) {
  const e = function(t, n) {
    n == null && (n = {});
    const i = [];
    if (t.InfuraProvider && n.infura !== "-")
      try {
        i.push(new t.InfuraProvider(r, n.infura));
      } catch {
      }
    if (t.EtherscanProvider && n.etherscan !== "-")
      try {
        i.push(new t.EtherscanProvider(r, n.etherscan));
      } catch {
      }
    if (t.AlchemyProvider && n.alchemy !== "-")
      try {
        i.push(new t.AlchemyProvider(r, n.alchemy));
      } catch {
      }
    if (t.PocketProvider && n.pocket !== "-") {
      const s = ["goerli", "ropsten", "rinkeby", "sepolia"];
      try {
        const o = new t.PocketProvider(r, n.pocket);
        o.network && s.indexOf(o.network.name) === -1 && i.push(o);
      } catch {
      }
    }
    if (t.CloudflareProvider && n.cloudflare !== "-")
      try {
        i.push(new t.CloudflareProvider(r));
      } catch {
      }
    if (t.AnkrProvider && n.ankr !== "-")
      try {
        const s = ["ropsten"], o = new t.AnkrProvider(r, n.ankr);
        o.network && s.indexOf(o.network.name) === -1 && i.push(o);
      } catch {
      }
    if (i.length === 0)
      return null;
    if (t.FallbackProvider) {
      let s = 1;
      return n.quorum != null ? s = n.quorum : r === "homestead" && (s = 2), new t.FallbackProvider(i, s);
    }
    return i[0];
  };
  return e.renetwork = function(t) {
    return oi(t);
  }, e;
}
function _u(r, e) {
  const t = function(n, i) {
    return n.JsonRpcProvider ? new n.JsonRpcProvider(r, e) : null;
  };
  return t.renetwork = function(n) {
    return _u(r, n);
  }, t;
}
const Vb = {
  chainId: 1,
  ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",
  name: "homestead",
  _defaultProvider: oi("homestead")
}, jb = {
  chainId: 3,
  ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",
  name: "ropsten",
  _defaultProvider: oi("ropsten")
}, Wb = {
  chainId: 63,
  name: "classicMordor",
  _defaultProvider: _u("https://www.ethercluster.com/mordor", "classicMordor")
}, Cl = {
  unspecified: { chainId: 0, name: "unspecified" },
  homestead: Vb,
  mainnet: Vb,
  morden: { chainId: 2, name: "morden" },
  ropsten: jb,
  testnet: jb,
  rinkeby: {
    chainId: 4,
    ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",
    name: "rinkeby",
    _defaultProvider: oi("rinkeby")
  },
  kovan: {
    chainId: 42,
    name: "kovan",
    _defaultProvider: oi("kovan")
  },
  goerli: {
    chainId: 5,
    ensAddress: "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",
    name: "goerli",
    _defaultProvider: oi("goerli")
  },
  kintsugi: { chainId: 1337702, name: "kintsugi" },
  sepolia: {
    chainId: 11155111,
    name: "sepolia",
    _defaultProvider: oi("sepolia")
  },
  classic: {
    chainId: 61,
    name: "classic",
    _defaultProvider: _u("https://www.ethercluster.com/etc", "classic")
  },
  classicMorden: { chainId: 62, name: "classicMorden" },
  classicMordor: Wb,
  classicTestnet: Wb,
  classicKotti: {
    chainId: 6,
    name: "classicKotti",
    _defaultProvider: _u("https://www.ethercluster.com/kotti", "classicKotti")
  },
  xdai: { chainId: 100, name: "xdai" },
  matic: {
    chainId: 137,
    name: "matic",
    _defaultProvider: oi("matic")
  },
  maticmum: { chainId: 80001, name: "maticmum" },
  optimism: {
    chainId: 10,
    name: "optimism",
    _defaultProvider: oi("optimism")
  },
  "optimism-kovan": { chainId: 69, name: "optimism-kovan" },
  "optimism-goerli": { chainId: 420, name: "optimism-goerli" },
  arbitrum: { chainId: 42161, name: "arbitrum" },
  "arbitrum-rinkeby": { chainId: 421611, name: "arbitrum-rinkeby" },
  "arbitrum-goerli": { chainId: 421613, name: "arbitrum-goerli" },
  bnb: { chainId: 56, name: "bnb" },
  bnbt: { chainId: 97, name: "bnbt" }
};
function kw(r) {
  if (r == null)
    return null;
  if (typeof r == "number") {
    for (const n in Cl) {
      const i = Cl[n];
      if (i.chainId === r)
        return {
          name: i.name,
          chainId: i.chainId,
          ensAddress: i.ensAddress || null,
          _defaultProvider: i._defaultProvider || null
        };
    }
    return {
      chainId: r,
      name: "unknown"
    };
  }
  if (typeof r == "string") {
    const n = Cl[r];
    return n == null ? null : {
      name: n.name,
      chainId: n.chainId,
      ensAddress: n.ensAddress,
      _defaultProvider: n._defaultProvider || null
    };
  }
  const e = Cl[r.name];
  if (!e)
    return typeof r.chainId != "number" && Ub.throwArgumentError("invalid network chainId", "network", r), r;
  r.chainId !== 0 && r.chainId !== e.chainId && Ub.throwArgumentError("network chainId mismatch", "network", r);
  let t = r._defaultProvider || null;
  return t == null && e._defaultProvider && (Q7(e._defaultProvider) ? t = e._defaultProvider.renetwork(r) : t = e._defaultProvider), {
    name: r.name,
    chainId: e.chainId,
    ensAddress: r.ensAddress || e.ensAddress || null,
    _defaultProvider: t
  };
}
class Rw {
  constructor(e) {
    W(this, "alphabet", e), W(this, "base", e.length), W(this, "_alphabetMap", {}), W(this, "_leader", e.charAt(0));
    for (let t = 0; t < e.length; t++)
      this._alphabetMap[e.charAt(t)] = t;
  }
  encode(e) {
    let t = oe(e);
    if (t.length === 0)
      return "";
    let n = [0];
    for (let s = 0; s < t.length; ++s) {
      let o = t[s];
      for (let a = 0; a < n.length; ++a)
        o += n[a] << 8, n[a] = o % this.base, o = o / this.base | 0;
      for (; o > 0; )
        n.push(o % this.base), o = o / this.base | 0;
    }
    let i = "";
    for (let s = 0; t[s] === 0 && s < t.length - 1; ++s)
      i += this._leader;
    for (let s = n.length - 1; s >= 0; --s)
      i += this.alphabet[n[s]];
    return i;
  }
  decode(e) {
    if (typeof e != "string")
      throw new TypeError("Expected String");
    let t = [];
    if (e.length === 0)
      return new Uint8Array(t);
    t.push(0);
    for (let n = 0; n < e.length; n++) {
      let i = this._alphabetMap[e[n]];
      if (i === void 0)
        throw new Error("Non-base" + this.base + " character");
      let s = i;
      for (let o = 0; o < t.length; ++o)
        s += t[o] * this.base, t[o] = s & 255, s >>= 8;
      for (; s > 0; )
        t.push(s & 255), s >>= 8;
    }
    for (let n = 0; e[n] === this._leader && n < e.length - 1; ++n)
      t.push(0);
    return oe(new Uint8Array(t.reverse()));
  }
}
new Rw("abcdefghijklmnopqrstuvwxyz234567");
const Ad = new Rw("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");
var Hb;
(function(r) {
  r.sha256 = "sha256", r.sha512 = "sha512";
})(Hb || (Hb = {}));
const J7 = "sha2/5.7.0", BI = new M(J7);
function Gb(r) {
  return "0x" + Mn.sha256().update(oe(r)).digest("hex");
}
const Y7 = "web/5.7.1";
var X7 = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
function Z7(r, e) {
  return X7(this, void 0, void 0, function* () {
    e == null && (e = {});
    const t = {
      method: e.method || "GET",
      headers: e.headers || {},
      body: e.body || void 0
    };
    if (e.skipFetchSetup !== !0 && (t.mode = "cors", t.cache = "no-cache", t.credentials = "same-origin", t.redirect = "follow", t.referrer = "client"), e.fetchOptions != null) {
      const o = e.fetchOptions;
      o.mode && (t.mode = o.mode), o.cache && (t.cache = o.cache), o.credentials && (t.credentials = o.credentials), o.redirect && (t.redirect = o.redirect), o.referrer && (t.referrer = o.referrer);
    }
    const n = yield fetch(r, t), i = yield n.arrayBuffer(), s = {};
    return n.headers.forEach ? n.headers.forEach((o, a) => {
      s[a.toLowerCase()] = o;
    }) : n.headers.keys().forEach((o) => {
      s[o.toLowerCase()] = n.headers.get(o);
    }), {
      headers: s,
      statusCode: n.status,
      statusMessage: n.statusText,
      body: oe(new Uint8Array(i))
    };
  });
}
var e9 = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const gn = new M(Y7);
function Kb(r) {
  return new Promise((e) => {
    setTimeout(e, r);
  });
}
function Gi(r, e) {
  if (r == null)
    return null;
  if (typeof r == "string")
    return r;
  if ($0(r)) {
    if (e && (e.split("/")[0] === "text" || e.split(";")[0].trim() === "application/json"))
      try {
        return el(r);
      } catch {
      }
    return re(r);
  }
  return r;
}
function t9(r) {
  return _n(r.replace(/%([0-9a-f][0-9a-f])/gi, (e, t) => String.fromCharCode(parseInt(t, 16))));
}
function r9(r, e, t) {
  const n = typeof r == "object" && r.throttleLimit != null ? r.throttleLimit : 12;
  gn.assertArgument(n > 0 && n % 1 === 0, "invalid connection throttle limit", "connection.throttleLimit", n);
  const i = typeof r == "object" ? r.throttleCallback : null, s = typeof r == "object" && typeof r.throttleSlotInterval == "number" ? r.throttleSlotInterval : 100;
  gn.assertArgument(s > 0 && s % 1 === 0, "invalid connection throttle slot interval", "connection.throttleSlotInterval", s);
  const o = typeof r == "object" ? !!r.errorPassThrough : !1, a = {};
  let c = null;
  const l = {
    method: "GET"
  };
  let f = !1, p = 2 * 60 * 1e3;
  if (typeof r == "string")
    c = r;
  else if (typeof r == "object") {
    if ((r == null || r.url == null) && gn.throwArgumentError("missing URL", "connection.url", r), c = r.url, typeof r.timeout == "number" && r.timeout > 0 && (p = r.timeout), r.headers)
      for (const k in r.headers)
        a[k.toLowerCase()] = { key: k, value: String(r.headers[k]) }, ["if-none-match", "if-modified-since"].indexOf(k.toLowerCase()) >= 0 && (f = !0);
    if (l.allowGzip = !!r.allowGzip, r.user != null && r.password != null) {
      c.substring(0, 6) !== "https:" && r.allowInsecureAuthentication !== !0 && gn.throwError("basic authentication requires a secure https url", M.errors.INVALID_ARGUMENT, { argument: "url", url: c, user: r.user, password: "[REDACTED]" });
      const k = r.user + ":" + r.password;
      a.authorization = {
        key: "Authorization",
        value: "Basic " + Hy(_n(k))
      };
    }
    r.skipFetchSetup != null && (l.skipFetchSetup = !!r.skipFetchSetup), r.fetchOptions != null && (l.fetchOptions = $t(r.fetchOptions));
  }
  const b = new RegExp("^data:([^;:]*)?(;base64)?,(.*)$", "i"), w = c ? c.match(b) : null;
  if (w)
    try {
      const k = {
        statusCode: 200,
        statusMessage: "OK",
        headers: { "content-type": w[1] || "text/plain" },
        body: w[2] ? Wy(w[3]) : t9(w[3])
      };
      let O = k.body;
      return t && (O = t(k.body, k)), Promise.resolve(O);
    } catch (k) {
      gn.throwError("processing response error", M.errors.SERVER_ERROR, {
        body: Gi(w[1], w[2]),
        error: k,
        requestBody: null,
        requestMethod: "GET",
        url: c
      });
    }
  e && (l.method = "POST", l.body = e, a["content-type"] == null && (a["content-type"] = { key: "Content-Type", value: "application/octet-stream" }), a["content-length"] == null && (a["content-length"] = { key: "Content-Length", value: String(e.length) }));
  const A = {};
  Object.keys(a).forEach((k) => {
    const O = a[k];
    A[O.key] = O.value;
  }), l.headers = A;
  const C = function() {
    let k = null;
    return { promise: new Promise(function(B, N) {
      p && (k = setTimeout(() => {
        k != null && (k = null, N(gn.makeError("timeout", M.errors.TIMEOUT, {
          requestBody: Gi(l.body, A["content-type"]),
          requestMethod: l.method,
          timeout: p,
          url: c
        })));
      }, p));
    }), cancel: function() {
      k != null && (clearTimeout(k), k = null);
    } };
  }(), S = function() {
    return e9(this, void 0, void 0, function* () {
      for (let k = 0; k < n; k++) {
        let O = null;
        try {
          if (O = yield Z7(c, l), k < n) {
            if (O.statusCode === 301 || O.statusCode === 302) {
              const B = O.headers.location || "";
              if (l.method === "GET" && B.match(/^https:/)) {
                c = O.headers.location;
                continue;
              }
            } else if (O.statusCode === 429) {
              let B = !0;
              if (i && (B = yield i(k, c)), B) {
                let N = 0;
                const j = O.headers["retry-after"];
                typeof j == "string" && j.match(/^[1-9][0-9]*$/) ? N = parseInt(j) * 1e3 : N = s * parseInt(String(Math.random() * Math.pow(2, k))), yield Kb(N);
                continue;
              }
            }
          }
        } catch (B) {
          O = B.response, O == null && (C.cancel(), gn.throwError("missing response", M.errors.SERVER_ERROR, {
            requestBody: Gi(l.body, A["content-type"]),
            requestMethod: l.method,
            serverError: B,
            url: c
          }));
        }
        let L = O.body;
        if (f && O.statusCode === 304 ? L = null : !o && (O.statusCode < 200 || O.statusCode >= 300) && (C.cancel(), gn.throwError("bad response", M.errors.SERVER_ERROR, {
          status: O.statusCode,
          headers: O.headers,
          body: Gi(L, O.headers ? O.headers["content-type"] : null),
          requestBody: Gi(l.body, A["content-type"]),
          requestMethod: l.method,
          url: c
        })), t)
          try {
            const B = yield t(L, O);
            return C.cancel(), B;
          } catch (B) {
            if (B.throttleRetry && k < n) {
              let N = !0;
              if (i && (N = yield i(k, c)), N) {
                const j = s * parseInt(String(Math.random() * Math.pow(2, k)));
                yield Kb(j);
                continue;
              }
            }
            C.cancel(), gn.throwError("processing response error", M.errors.SERVER_ERROR, {
              body: Gi(L, O.headers ? O.headers["content-type"] : null),
              error: B,
              requestBody: Gi(l.body, A["content-type"]),
              requestMethod: l.method,
              url: c
            });
          }
        return C.cancel(), L;
      }
      return gn.throwError("failed response", M.errors.SERVER_ERROR, {
        requestBody: Gi(l.body, A["content-type"]),
        requestMethod: l.method,
        url: c
      });
    });
  }();
  return Promise.race([C.promise, S]);
}
function Q0(r, e, t) {
  let n = (s, o) => {
    let a = null;
    if (s != null)
      try {
        a = JSON.parse(el(s));
      } catch (c) {
        gn.throwError("invalid JSON", M.errors.SERVER_ERROR, {
          body: s,
          error: c
        });
      }
    return t && (a = t(a, o)), a;
  }, i = null;
  if (e != null) {
    i = _n(e);
    const s = typeof r == "string" ? { url: r } : $t(r);
    s.headers ? Object.keys(s.headers).filter((a) => a.toLowerCase() === "content-type").length !== 0 || (s.headers = $t(s.headers), s.headers["content-type"] = "application/json") : s.headers = { "content-type": "application/json" }, r = s;
  }
  return r9(r, i, n);
}
function Ua(r, e) {
  return e || (e = {}), e = $t(e), e.floor == null && (e.floor = 0), e.ceiling == null && (e.ceiling = 1e4), e.interval == null && (e.interval = 250), new Promise(function(t, n) {
    let i = null, s = !1;
    const o = () => s ? !1 : (s = !0, i && clearTimeout(i), !0);
    e.timeout && (i = setTimeout(() => {
      o() && n(new Error("timeout"));
    }, e.timeout));
    const a = e.retryLimit;
    let c = 0;
    function l() {
      return r().then(function(f) {
        if (f !== void 0)
          o() && t(f);
        else if (e.oncePoll)
          e.oncePoll.once("poll", l);
        else if (e.onceBlock)
          e.onceBlock.once("block", l);
        else if (!s) {
          if (c++, c > a) {
            o() && n(new Error("retry limit reached"));
            return;
          }
          let p = e.interval * parseInt(String(Math.random() * Math.pow(2, c)));
          p < e.floor && (p = e.floor), p > e.ceiling && (p = e.ceiling), setTimeout(l, p);
        }
        return null;
      }, function(f) {
        o() && n(f);
      });
    }
    l();
  });
}
var Pu = "qpzry9x8gf2tvdw0s3jn54khce6mua7l", Sd = {};
for (var El = 0; El < Pu.length; El++) {
  var Ef = Pu.charAt(El);
  if (Sd[Ef] !== void 0)
    throw new TypeError(Ef + " is ambiguous");
  Sd[Ef] = El;
}
function Fo(r) {
  var e = r >> 25;
  return (r & 33554431) << 5 ^ -(e >> 0 & 1) & 996825010 ^ -(e >> 1 & 1) & 642813549 ^ -(e >> 2 & 1) & 513874426 ^ -(e >> 3 & 1) & 1027748829 ^ -(e >> 4 & 1) & 705979059;
}
function Tw(r) {
  for (var e = 1, t = 0; t < r.length; ++t) {
    var n = r.charCodeAt(t);
    if (n < 33 || n > 126)
      return "Invalid prefix (" + r + ")";
    e = Fo(e) ^ n >> 5;
  }
  for (e = Fo(e), t = 0; t < r.length; ++t) {
    var i = r.charCodeAt(t);
    e = Fo(e) ^ i & 31;
  }
  return e;
}
function n9(r, e, t) {
  if (t = t || 90, r.length + 7 + e.length > t)
    throw new TypeError("Exceeds length limit");
  r = r.toLowerCase();
  var n = Tw(r);
  if (typeof n == "string")
    throw new Error(n);
  for (var i = r + "1", s = 0; s < e.length; ++s) {
    var o = e[s];
    if (o >> 5 !== 0)
      throw new Error("Non 5-bit word");
    n = Fo(n) ^ o, i += Pu.charAt(o);
  }
  for (s = 0; s < 6; ++s)
    n = Fo(n);
  for (n ^= 1, s = 0; s < 6; ++s) {
    var a = n >> (5 - s) * 5 & 31;
    i += Pu.charAt(a);
  }
  return i;
}
function Iw(r, e) {
  if (e = e || 90, r.length < 8)
    return r + " too short";
  if (r.length > e)
    return "Exceeds length limit";
  var t = r.toLowerCase(), n = r.toUpperCase();
  if (r !== t && r !== n)
    return "Mixed-case string " + r;
  r = t;
  var i = r.lastIndexOf("1");
  if (i === -1)
    return "No separator character for " + r;
  if (i === 0)
    return "Missing prefix for " + r;
  var s = r.slice(0, i), o = r.slice(i + 1);
  if (o.length < 6)
    return "Data too short";
  var a = Tw(s);
  if (typeof a == "string")
    return a;
  for (var c = [], l = 0; l < o.length; ++l) {
    var f = o.charAt(l), p = Sd[f];
    if (p === void 0)
      return "Unknown character " + f;
    a = Fo(a) ^ p, !(l + 6 >= o.length) && c.push(p);
  }
  return a !== 1 ? "Invalid checksum for " + r : { prefix: s, words: c };
}
function i9() {
  var r = Iw.apply(null, arguments);
  if (typeof r == "object")
    return r;
}
function s9(r) {
  var e = Iw.apply(null, arguments);
  if (typeof e == "object")
    return e;
  throw new Error(e);
}
function bh(r, e, t, n) {
  for (var i = 0, s = 0, o = (1 << t) - 1, a = [], c = 0; c < r.length; ++c)
    for (i = i << e | r[c], s += e; s >= t; )
      s -= t, a.push(i >> s & o);
  if (n)
    s > 0 && a.push(i << t - s & o);
  else {
    if (s >= e)
      return "Excess padding";
    if (i << t - s & o)
      return "Non-zero padding";
  }
  return a;
}
function o9(r) {
  var e = bh(r, 8, 5, !0);
  if (Array.isArray(e))
    return e;
}
function a9(r) {
  var e = bh(r, 8, 5, !0);
  if (Array.isArray(e))
    return e;
  throw new Error(e);
}
function c9(r) {
  var e = bh(r, 5, 8, !1);
  if (Array.isArray(e))
    return e;
}
function l9(r) {
  var e = bh(r, 5, 8, !1);
  if (Array.isArray(e))
    return e;
  throw new Error(e);
}
var zb = {
  decodeUnsafe: i9,
  decode: s9,
  encode: n9,
  toWordsUnsafe: o9,
  toWords: a9,
  fromWordsUnsafe: c9,
  fromWords: l9
};
const rl = "providers/5.7.2", Ia = new M(rl);
class te {
  constructor() {
    this.formats = this.getDefaultFormats();
  }
  getDefaultFormats() {
    const e = {}, t = this.address.bind(this), n = this.bigNumber.bind(this), i = this.blockTag.bind(this), s = this.data.bind(this), o = this.hash.bind(this), a = this.hex.bind(this), c = this.number.bind(this), l = this.type.bind(this), f = (p) => this.data(p, !0);
    return e.transaction = {
      hash: o,
      type: l,
      accessList: te.allowNull(this.accessList.bind(this), null),
      blockHash: te.allowNull(o, null),
      blockNumber: te.allowNull(c, null),
      transactionIndex: te.allowNull(c, null),
      confirmations: te.allowNull(c, null),
      from: t,
      gasPrice: te.allowNull(n),
      maxPriorityFeePerGas: te.allowNull(n),
      maxFeePerGas: te.allowNull(n),
      gasLimit: n,
      to: te.allowNull(t, null),
      value: n,
      nonce: c,
      data: s,
      r: te.allowNull(this.uint256),
      s: te.allowNull(this.uint256),
      v: te.allowNull(c),
      creates: te.allowNull(t, null),
      raw: te.allowNull(s)
    }, e.transactionRequest = {
      from: te.allowNull(t),
      nonce: te.allowNull(c),
      gasLimit: te.allowNull(n),
      gasPrice: te.allowNull(n),
      maxPriorityFeePerGas: te.allowNull(n),
      maxFeePerGas: te.allowNull(n),
      to: te.allowNull(t),
      value: te.allowNull(n),
      data: te.allowNull(f),
      type: te.allowNull(c),
      accessList: te.allowNull(this.accessList.bind(this), null)
    }, e.receiptLog = {
      transactionIndex: c,
      blockNumber: c,
      transactionHash: o,
      address: t,
      topics: te.arrayOf(o),
      data: s,
      logIndex: c,
      blockHash: o
    }, e.receipt = {
      to: te.allowNull(this.address, null),
      from: te.allowNull(this.address, null),
      contractAddress: te.allowNull(t, null),
      transactionIndex: c,
      root: te.allowNull(a),
      gasUsed: n,
      logsBloom: te.allowNull(s),
      blockHash: o,
      transactionHash: o,
      logs: te.arrayOf(this.receiptLog.bind(this)),
      blockNumber: c,
      confirmations: te.allowNull(c, null),
      cumulativeGasUsed: n,
      effectiveGasPrice: te.allowNull(n),
      status: te.allowNull(c),
      type: l
    }, e.block = {
      hash: te.allowNull(o),
      parentHash: o,
      number: c,
      timestamp: c,
      nonce: te.allowNull(a),
      difficulty: this.difficulty.bind(this),
      gasLimit: n,
      gasUsed: n,
      miner: te.allowNull(t),
      extraData: s,
      transactions: te.allowNull(te.arrayOf(o)),
      baseFeePerGas: te.allowNull(n)
    }, e.blockWithTransactions = $t(e.block), e.blockWithTransactions.transactions = te.allowNull(te.arrayOf(this.transactionResponse.bind(this))), e.filter = {
      fromBlock: te.allowNull(i, void 0),
      toBlock: te.allowNull(i, void 0),
      blockHash: te.allowNull(o, void 0),
      address: te.allowNull(t, void 0),
      topics: te.allowNull(this.topics.bind(this), void 0)
    }, e.filterLog = {
      blockNumber: te.allowNull(c),
      blockHash: te.allowNull(o),
      transactionIndex: c,
      removed: te.allowNull(this.boolean.bind(this)),
      address: t,
      data: te.allowFalsish(s, "0x"),
      topics: te.arrayOf(o),
      transactionHash: o,
      logIndex: c
    }, e;
  }
  accessList(e) {
    return wa(e || []);
  }
  number(e) {
    return e === "0x" ? 0 : V.from(e).toNumber();
  }
  type(e) {
    return e === "0x" || e == null ? 0 : V.from(e).toNumber();
  }
  bigNumber(e) {
    return V.from(e);
  }
  boolean(e) {
    if (typeof e == "boolean")
      return e;
    if (typeof e == "string") {
      if (e = e.toLowerCase(), e === "true")
        return !0;
      if (e === "false")
        return !1;
    }
    throw new Error("invalid boolean - " + e);
  }
  hex(e, t) {
    return typeof e == "string" && (!t && e.substring(0, 2) !== "0x" && (e = "0x" + e), ke(e)) ? e.toLowerCase() : Ia.throwArgumentError("invalid hash", "value", e);
  }
  data(e, t) {
    const n = this.hex(e, t);
    if (n.length % 2 !== 0)
      throw new Error("invalid data; odd-length - " + e);
    return n;
  }
  address(e) {
    return Tt(e);
  }
  callAddress(e) {
    if (!ke(e, 32))
      return null;
    const t = Tt(nr(e, 12));
    return t === L5 ? null : t;
  }
  contractAddress(e) {
    return Dy(e);
  }
  blockTag(e) {
    if (e == null)
      return "latest";
    if (e === "earliest")
      return "0x0";
    switch (e) {
      case "earliest":
        return "0x0";
      case "latest":
      case "pending":
      case "safe":
      case "finalized":
        return e;
    }
    if (typeof e == "number" || ke(e))
      return L0(e);
    throw new Error("invalid blockTag");
  }
  hash(e, t) {
    const n = this.hex(e, t);
    return zs(n) !== 32 ? Ia.throwArgumentError("invalid hash", "value", e) : n;
  }
  difficulty(e) {
    if (e == null)
      return null;
    const t = V.from(e);
    try {
      return t.toNumber();
    } catch {
    }
    return null;
  }
  uint256(e) {
    if (!ke(e))
      throw new Error("invalid uint256");
    return Le(e, 32);
  }
  _block(e, t) {
    e.author != null && e.miner == null && (e.miner = e.author);
    const n = e._difficulty != null ? e._difficulty : e.difficulty, i = te.check(t, e);
    return i._difficulty = n == null ? null : V.from(n), i;
  }
  block(e) {
    return this._block(e, this.formats.block);
  }
  blockWithTransactions(e) {
    return this._block(e, this.formats.blockWithTransactions);
  }
  transactionRequest(e) {
    return te.check(this.formats.transactionRequest, e);
  }
  transactionResponse(e) {
    e.gas != null && e.gasLimit == null && (e.gasLimit = e.gas), e.to && V.from(e.to).isZero() && (e.to = "0x0000000000000000000000000000000000000000"), e.input != null && e.data == null && (e.data = e.input), e.to == null && e.creates == null && (e.creates = this.contractAddress(e)), (e.type === 1 || e.type === 2) && e.accessList == null && (e.accessList = []);
    const t = te.check(this.formats.transaction, e);
    if (e.chainId != null) {
      let n = e.chainId;
      ke(n) && (n = V.from(n).toNumber()), t.chainId = n;
    } else {
      let n = e.networkId;
      n == null && t.v == null && (n = e.chainId), ke(n) && (n = V.from(n).toNumber()), typeof n != "number" && t.v != null && (n = (t.v - 35) / 2, n < 0 && (n = 0), n = parseInt(n)), typeof n != "number" && (n = 0), t.chainId = n;
    }
    return t.blockHash && t.blockHash.replace(/0/g, "") === "x" && (t.blockHash = null), t;
  }
  transaction(e) {
    return D7(e);
  }
  receiptLog(e) {
    return te.check(this.formats.receiptLog, e);
  }
  receipt(e) {
    const t = te.check(this.formats.receipt, e);
    if (t.root != null)
      if (t.root.length <= 4) {
        const n = V.from(t.root).toNumber();
        n === 0 || n === 1 ? (t.status != null && t.status !== n && Ia.throwArgumentError("alt-root-status/status mismatch", "value", { root: t.root, status: t.status }), t.status = n, delete t.root) : Ia.throwArgumentError("invalid alt-root-status", "value.root", t.root);
      } else
        t.root.length !== 66 && Ia.throwArgumentError("invalid root hash", "value.root", t.root);
    return t.status != null && (t.byzantium = !0), t;
  }
  topics(e) {
    return Array.isArray(e) ? e.map((t) => this.topics(t)) : e != null ? this.hash(e, !0) : null;
  }
  filter(e) {
    return te.check(this.formats.filter, e);
  }
  filterLog(e) {
    return te.check(this.formats.filterLog, e);
  }
  static check(e, t) {
    const n = {};
    for (const i in e)
      try {
        const s = e[i](t[i]);
        s !== void 0 && (n[i] = s);
      } catch (s) {
        throw s.checkKey = i, s.checkValue = t[i], s;
      }
    return n;
  }
  static allowNull(e, t) {
    return function(n) {
      return n == null ? t : e(n);
    };
  }
  static allowFalsish(e, t) {
    return function(n) {
      return n ? e(n) : t;
    };
  }
  static arrayOf(e) {
    return function(t) {
      if (!Array.isArray(t))
        throw new Error("not an array");
      const n = [];
      return t.forEach(function(i) {
        n.push(e(i));
      }), n;
    };
  }
}
var le = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const de = new M(rl), u9 = 10;
function qb(r) {
  return r == null ? "null" : (zs(r) !== 32 && de.throwArgumentError("invalid topic", "topic", r), r.toLowerCase());
}
function Qb(r) {
  for (r = r.slice(); r.length > 0 && r[r.length - 1] == null; )
    r.pop();
  return r.map((e) => {
    if (Array.isArray(e)) {
      const t = {};
      e.forEach((i) => {
        t[qb(i)] = !0;
      });
      const n = Object.keys(t);
      return n.sort(), n.join("|");
    } else
      return qb(e);
  }).join("&");
}
function h9(r) {
  return r === "" ? [] : r.split(/&/g).map((e) => {
    if (e === "")
      return [];
    const t = e.split("|").map((n) => n === "null" ? null : n);
    return t.length === 1 ? t[0] : t;
  });
}
function Ao(r) {
  if (typeof r == "string") {
    if (r = r.toLowerCase(), zs(r) === 32)
      return "tx:" + r;
    if (r.indexOf(":") === -1)
      return r;
  } else {
    if (Array.isArray(r))
      return "filter:*:" + Qb(r);
    if (FC.isForkEvent(r))
      throw de.warn("not implemented"), new Error("not implemented");
    if (r && typeof r == "object")
      return "filter:" + (r.address || "*") + ":" + Qb(r.topics || []);
  }
  throw new Error("invalid event - " + r);
}
function Ma() {
  return new Date().getTime();
}
function Jb(r) {
  return new Promise((e) => {
    setTimeout(e, r);
  });
}
const f9 = ["block", "network", "pending", "poll"];
class d9 {
  constructor(e, t, n) {
    W(this, "tag", e), W(this, "listener", t), W(this, "once", n), this._lastBlockNumber = -2, this._inflight = !1;
  }
  get event() {
    switch (this.type) {
      case "tx":
        return this.hash;
      case "filter":
        return this.filter;
    }
    return this.tag;
  }
  get type() {
    return this.tag.split(":")[0];
  }
  get hash() {
    const e = this.tag.split(":");
    return e[0] !== "tx" ? null : e[1];
  }
  get filter() {
    const e = this.tag.split(":");
    if (e[0] !== "filter")
      return null;
    const t = e[1], n = h9(e[2]), i = {};
    return n.length > 0 && (i.topics = n), t && t !== "*" && (i.address = t), i;
  }
  pollable() {
    return this.tag.indexOf(":") >= 0 || f9.indexOf(this.tag) >= 0;
  }
}
const p9 = {
  0: { symbol: "btc", p2pkh: 0, p2sh: 5, prefix: "bc" },
  2: { symbol: "ltc", p2pkh: 48, p2sh: 50, prefix: "ltc" },
  3: { symbol: "doge", p2pkh: 30, p2sh: 22 },
  60: { symbol: "eth", ilk: "eth" },
  61: { symbol: "etc", ilk: "eth" },
  700: { symbol: "xdai", ilk: "eth" }
};
function _f(r) {
  return Le(V.from(r).toHexString(), 32);
}
function Yb(r) {
  return Ad.encode(jr([r, nr(Gb(Gb(r)), 0, 4)]));
}
const Mw = new RegExp("^(ipfs)://(.*)$", "i"), Xb = [
  new RegExp("^(https)://(.*)$", "i"),
  new RegExp("^(data):(.*)$", "i"),
  Mw,
  new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$", "i")
];
function Jl(r, e) {
  try {
    return el(Ac(r, e));
  } catch {
  }
  return null;
}
function Ac(r, e) {
  if (r === "0x")
    return null;
  const t = V.from(nr(r, e, e + 32)).toNumber(), n = V.from(nr(r, t, t + 32)).toNumber();
  return nr(r, t + 32, t + 32 + n);
}
function Pf(r) {
  return r.match(/^ipfs:\/\/ipfs\//i) ? r = r.substring(12) : r.match(/^ipfs:\/\//i) ? r = r.substring(7) : de.throwArgumentError("unsupported IPFS format", "link", r), `https://gateway.ipfs.io/ipfs/${r}`;
}
function Zb(r) {
  const e = oe(r);
  if (e.length > 32)
    throw new Error("internal; should not happen");
  const t = new Uint8Array(32);
  return t.set(e, 32 - e.length), t;
}
function g9(r) {
  if (r.length % 32 === 0)
    return r;
  const e = new Uint8Array(Math.ceil(r.length / 32) * 32);
  return e.set(r), e;
}
function Ow(r) {
  const e = [];
  let t = 0;
  for (let n = 0; n < r.length; n++)
    e.push(null), t += 32;
  for (let n = 0; n < r.length; n++) {
    const i = oe(r[n]);
    e[n] = Zb(t), e.push(Zb(i.length)), e.push(g9(i)), t += 32 + Math.ceil(i.length / 32) * 32;
  }
  return Er(e);
}
class ex {
  constructor(e, t, n, i) {
    W(this, "provider", e), W(this, "name", n), W(this, "address", e.formatter.address(t)), W(this, "_resolvedAddress", i);
  }
  supportsWildcard() {
    return this._supportsEip2544 || (this._supportsEip2544 = this.provider.call({
      to: this.address,
      data: "0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"
    }).then((e) => V.from(e).eq(1)).catch((e) => {
      if (e.code === M.errors.CALL_EXCEPTION)
        return !1;
      throw this._supportsEip2544 = null, e;
    })), this._supportsEip2544;
  }
  _fetch(e, t) {
    return le(this, void 0, void 0, function* () {
      const n = {
        to: this.address,
        ccipReadEnabled: !0,
        data: Er([e, Kl(this.name), t || "0x"])
      };
      let i = !1;
      (yield this.supportsWildcard()) && (i = !0, n.data = Er(["0x9061b923", Ow([CC(this.name), n.data])]));
      try {
        let s = yield this.provider.call(n);
        return oe(s).length % 32 === 4 && de.throwError("resolver threw error", M.errors.CALL_EXCEPTION, {
          transaction: n,
          data: s
        }), i && (s = Ac(s, 0)), s;
      } catch (s) {
        if (s.code === M.errors.CALL_EXCEPTION)
          return null;
        throw s;
      }
    });
  }
  _fetchBytes(e, t) {
    return le(this, void 0, void 0, function* () {
      const n = yield this._fetch(e, t);
      return n != null ? Ac(n, 0) : null;
    });
  }
  _getAddress(e, t) {
    const n = p9[String(e)];
    if (n == null && de.throwError(`unsupported coin type: ${e}`, M.errors.UNSUPPORTED_OPERATION, {
      operation: `getAddress(${e})`
    }), n.ilk === "eth")
      return this.provider.formatter.address(t);
    const i = oe(t);
    if (n.p2pkh != null) {
      const s = t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);
      if (s) {
        const o = parseInt(s[1], 16);
        if (s[2].length === o * 2 && o >= 1 && o <= 75)
          return Yb(jr([[n.p2pkh], "0x" + s[2]]));
      }
    }
    if (n.p2sh != null) {
      const s = t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);
      if (s) {
        const o = parseInt(s[1], 16);
        if (s[2].length === o * 2 && o >= 1 && o <= 75)
          return Yb(jr([[n.p2sh], "0x" + s[2]]));
      }
    }
    if (n.prefix != null) {
      const s = i[1];
      let o = i[0];
      if (o === 0 ? s !== 20 && s !== 32 && (o = -1) : o = -1, o >= 0 && i.length === 2 + s && s >= 1 && s <= 75) {
        const a = zb.toWords(i.slice(2));
        return a.unshift(o), zb.encode(n.prefix, a);
      }
    }
    return null;
  }
  getAddress(e) {
    return le(this, void 0, void 0, function* () {
      if (e == null && (e = 60), e === 60)
        try {
          const i = yield this._fetch("0x3b3b57de");
          return i === "0x" || i === j5 ? null : this.provider.formatter.callAddress(i);
        } catch (i) {
          if (i.code === M.errors.CALL_EXCEPTION)
            return null;
          throw i;
        }
      const t = yield this._fetchBytes("0xf1cb7e06", _f(e));
      if (t == null || t === "0x")
        return null;
      const n = this._getAddress(e, t);
      return n == null && de.throwError("invalid or unsupported coin data", M.errors.UNSUPPORTED_OPERATION, {
        operation: `getAddress(${e})`,
        coinType: e,
        data: t
      }), n;
    });
  }
  getAvatar() {
    return le(this, void 0, void 0, function* () {
      const e = [{ type: "name", content: this.name }];
      try {
        const t = yield this.getText("avatar");
        if (t == null)
          return null;
        for (let n = 0; n < Xb.length; n++) {
          const i = t.match(Xb[n]);
          if (i == null)
            continue;
          const s = i[1].toLowerCase();
          switch (s) {
            case "https":
              return e.push({ type: "url", content: t }), { linkage: e, url: t };
            case "data":
              return e.push({ type: "data", content: t }), { linkage: e, url: t };
            case "ipfs":
              return e.push({ type: "ipfs", content: t }), { linkage: e, url: Pf(t) };
            case "erc721":
            case "erc1155": {
              const o = s === "erc721" ? "0xc87b56dd" : "0x0e89341c";
              e.push({ type: s, content: t });
              const a = this._resolvedAddress || (yield this.getAddress()), c = (i[2] || "").split("/");
              if (c.length !== 2)
                return null;
              const l = yield this.provider.formatter.address(c[0]), f = Le(V.from(c[1]).toHexString(), 32);
              if (s === "erc721") {
                const C = this.provider.formatter.callAddress(yield this.provider.call({
                  to: l,
                  data: Er(["0x6352211e", f])
                }));
                if (a !== C)
                  return null;
                e.push({ type: "owner", content: C });
              } else if (s === "erc1155") {
                const C = V.from(yield this.provider.call({
                  to: l,
                  data: Er(["0x00fdd58e", Le(a, 32), f])
                }));
                if (C.isZero())
                  return null;
                e.push({ type: "balance", content: C.toString() });
              }
              const p = {
                to: this.provider.formatter.address(c[0]),
                data: Er([o, f])
              };
              let b = Jl(yield this.provider.call(p), 0);
              if (b == null)
                return null;
              e.push({ type: "metadata-url-base", content: b }), s === "erc1155" && (b = b.replace("{id}", f.substring(2)), e.push({ type: "metadata-url-expanded", content: b })), b.match(/^ipfs:/i) && (b = Pf(b)), e.push({ type: "metadata-url", content: b });
              const w = yield Q0(b);
              if (!w)
                return null;
              e.push({ type: "metadata", content: JSON.stringify(w) });
              let A = w.image;
              if (typeof A != "string")
                return null;
              if (!A.match(/^(https:\/\/|data:)/i)) {
                if (A.match(Mw) == null)
                  return null;
                e.push({ type: "url-ipfs", content: A }), A = Pf(A);
              }
              return e.push({ type: "url", content: A }), { linkage: e, url: A };
            }
          }
        }
      } catch {
      }
      return null;
    });
  }
  getContentHash() {
    return le(this, void 0, void 0, function* () {
      const e = yield this._fetchBytes("0xbc1c58d1");
      if (e == null || e === "0x")
        return null;
      const t = e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);
      if (t) {
        const o = parseInt(t[3], 16);
        if (t[4].length === o * 2)
          return "ipfs://" + Ad.encode("0x" + t[1]);
      }
      const n = e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);
      if (n) {
        const o = parseInt(n[3], 16);
        if (n[4].length === o * 2)
          return "ipns://" + Ad.encode("0x" + n[1]);
      }
      const i = e.match(/^0xe40101fa011b20([0-9a-f]*)$/);
      if (i && i[1].length === 32 * 2)
        return "bzz://" + i[1];
      const s = e.match(/^0x90b2c605([0-9a-f]*)$/);
      if (s && s[1].length === 34 * 2) {
        const o = { "=": "", "+": "-", "/": "_" };
        return "sia://" + Hy("0x" + s[1]).replace(/[=+\/]/g, (c) => o[c]);
      }
      return de.throwError("invalid or unsupported content hash data", M.errors.UNSUPPORTED_OPERATION, {
        operation: "getContentHash()",
        data: e
      });
    });
  }
  getText(e) {
    return le(this, void 0, void 0, function* () {
      let t = _n(e);
      t = jr([_f(64), _f(t.length), t]), t.length % 32 !== 0 && (t = jr([t, Le("0x", 32 - e.length % 32)]));
      const n = yield this._fetchBytes("0x59d1d43c", re(t));
      return n == null || n === "0x" ? null : el(n);
    });
  }
}
let kf = null, m9 = 1;
class b9 extends fh {
  constructor(e) {
    if (super(), this._events = [], this._emitted = { block: -2 }, this.disableCcipRead = !1, this.formatter = new.target.getFormatter(), W(this, "anyNetwork", e === "any"), this.anyNetwork && (e = this.detectNetwork()), e instanceof Promise)
      this._networkPromise = e, e.catch((t) => {
      }), this._ready().catch((t) => {
      });
    else {
      const t = Un(new.target, "getNetwork")(e);
      t ? (W(this, "_network", t), this.emit("network", t, null)) : de.throwArgumentError("invalid network", "network", e);
    }
    this._maxInternalBlockNumber = -1024, this._lastBlockNumber = -2, this._maxFilterBlockRange = 10, this._pollingInterval = 4e3, this._fastQueryDate = 0;
  }
  _ready() {
    return le(this, void 0, void 0, function* () {
      if (this._network == null) {
        let e = null;
        if (this._networkPromise)
          try {
            e = yield this._networkPromise;
          } catch {
          }
        e == null && (e = yield this.detectNetwork()), e || de.throwError("no network detected", M.errors.UNKNOWN_ERROR, {}), this._network == null && (this.anyNetwork ? this._network = e : W(this, "_network", e), this.emit("network", e, null));
      }
      return this._network;
    });
  }
  get ready() {
    return Ua(() => this._ready().then((e) => e, (e) => {
      if (!(e.code === M.errors.NETWORK_ERROR && e.event === "noNetwork"))
        throw e;
    }));
  }
  static getFormatter() {
    return kf == null && (kf = new te()), kf;
  }
  static getNetwork(e) {
    return kw(e ?? "homestead");
  }
  ccipReadFetch(e, t, n) {
    return le(this, void 0, void 0, function* () {
      if (this.disableCcipRead || n.length === 0)
        return null;
      const i = e.to.toLowerCase(), s = t.toLowerCase(), o = [];
      for (let a = 0; a < n.length; a++) {
        const c = n[a], l = c.replace("{sender}", i).replace("{data}", s), f = c.indexOf("{data}") >= 0 ? null : JSON.stringify({ data: s, sender: i }), p = yield Q0({ url: l, errorPassThrough: !0 }, f, (w, A) => (w.status = A.statusCode, w));
        if (p.data)
          return p.data;
        const b = p.message || "unknown error";
        if (p.status >= 400 && p.status < 500)
          return de.throwError(`response not found during CCIP fetch: ${b}`, M.errors.SERVER_ERROR, { url: c, errorMessage: b });
        o.push(b);
      }
      return de.throwError(`error encountered during CCIP fetch: ${o.map((a) => JSON.stringify(a)).join(", ")}`, M.errors.SERVER_ERROR, {
        urls: n,
        errorMessages: o
      });
    });
  }
  _getInternalBlockNumber(e) {
    return le(this, void 0, void 0, function* () {
      if (yield this._ready(), e > 0)
        for (; this._internalBlockNumber; ) {
          const i = this._internalBlockNumber;
          try {
            const s = yield i;
            if (Ma() - s.respTime <= e)
              return s.blockNumber;
            break;
          } catch {
            if (this._internalBlockNumber === i)
              break;
          }
        }
      const t = Ma(), n = Mt({
        blockNumber: this.perform("getBlockNumber", {}),
        networkError: this.getNetwork().then((i) => null, (i) => i)
      }).then(({ blockNumber: i, networkError: s }) => {
        if (s)
          throw this._internalBlockNumber === n && (this._internalBlockNumber = null), s;
        const o = Ma();
        return i = V.from(i).toNumber(), i < this._maxInternalBlockNumber && (i = this._maxInternalBlockNumber), this._maxInternalBlockNumber = i, this._setFastBlockNumber(i), { blockNumber: i, reqTime: t, respTime: o };
      });
      return this._internalBlockNumber = n, n.catch((i) => {
        this._internalBlockNumber === n && (this._internalBlockNumber = null);
      }), (yield n).blockNumber;
    });
  }
  poll() {
    return le(this, void 0, void 0, function* () {
      const e = m9++, t = [];
      let n = null;
      try {
        n = yield this._getInternalBlockNumber(100 + this.pollingInterval / 2);
      } catch (i) {
        this.emit("error", i);
        return;
      }
      if (this._setFastBlockNumber(n), this.emit("poll", e, n), n === this._lastBlockNumber) {
        this.emit("didPoll", e);
        return;
      }
      if (this._emitted.block === -2 && (this._emitted.block = n - 1), Math.abs(this._emitted.block - n) > 1e3)
        de.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`), this.emit("error", de.makeError("network block skew detected", M.errors.NETWORK_ERROR, {
          blockNumber: n,
          event: "blockSkew",
          previousBlockNumber: this._emitted.block
        })), this.emit("block", n);
      else
        for (let i = this._emitted.block + 1; i <= n; i++)
          this.emit("block", i);
      this._emitted.block !== n && (this._emitted.block = n, Object.keys(this._emitted).forEach((i) => {
        if (i === "block")
          return;
        const s = this._emitted[i];
        s !== "pending" && n - s > 12 && delete this._emitted[i];
      })), this._lastBlockNumber === -2 && (this._lastBlockNumber = n - 1), this._events.forEach((i) => {
        switch (i.type) {
          case "tx": {
            const s = i.hash;
            let o = this.getTransactionReceipt(s).then((a) => (!a || a.blockNumber == null || (this._emitted["t:" + s] = a.blockNumber, this.emit(s, a)), null)).catch((a) => {
              this.emit("error", a);
            });
            t.push(o);
            break;
          }
          case "filter": {
            if (!i._inflight) {
              i._inflight = !0, i._lastBlockNumber === -2 && (i._lastBlockNumber = n - 1);
              const s = i.filter;
              s.fromBlock = i._lastBlockNumber + 1, s.toBlock = n;
              const o = s.toBlock - this._maxFilterBlockRange;
              o > s.fromBlock && (s.fromBlock = o), s.fromBlock < 0 && (s.fromBlock = 0);
              const a = this.getLogs(s).then((c) => {
                i._inflight = !1, c.length !== 0 && c.forEach((l) => {
                  l.blockNumber > i._lastBlockNumber && (i._lastBlockNumber = l.blockNumber), this._emitted["b:" + l.blockHash] = l.blockNumber, this._emitted["t:" + l.transactionHash] = l.blockNumber, this.emit(s, l);
                });
              }).catch((c) => {
                this.emit("error", c), i._inflight = !1;
              });
              t.push(a);
            }
            break;
          }
        }
      }), this._lastBlockNumber = n, Promise.all(t).then(() => {
        this.emit("didPoll", e);
      }).catch((i) => {
        this.emit("error", i);
      });
    });
  }
  resetEventsBlock(e) {
    this._lastBlockNumber = e - 1, this.polling && this.poll();
  }
  get network() {
    return this._network;
  }
  detectNetwork() {
    return le(this, void 0, void 0, function* () {
      return de.throwError("provider does not support network detection", M.errors.UNSUPPORTED_OPERATION, {
        operation: "provider.detectNetwork"
      });
    });
  }
  getNetwork() {
    return le(this, void 0, void 0, function* () {
      const e = yield this._ready(), t = yield this.detectNetwork();
      if (e.chainId !== t.chainId) {
        if (this.anyNetwork)
          return this._network = t, this._lastBlockNumber = -2, this._fastBlockNumber = null, this._fastBlockNumberPromise = null, this._fastQueryDate = 0, this._emitted.block = -2, this._maxInternalBlockNumber = -1024, this._internalBlockNumber = null, this.emit("network", t, e), yield Jb(0), this._network;
        const n = de.makeError("underlying network changed", M.errors.NETWORK_ERROR, {
          event: "changed",
          network: e,
          detectedNetwork: t
        });
        throw this.emit("error", n), n;
      }
      return e;
    });
  }
  get blockNumber() {
    return this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((e) => {
      this._setFastBlockNumber(e);
    }, (e) => {
    }), this._fastBlockNumber != null ? this._fastBlockNumber : -1;
  }
  get polling() {
    return this._poller != null;
  }
  set polling(e) {
    e && !this._poller ? (this._poller = setInterval(() => {
      this.poll();
    }, this.pollingInterval), this._bootstrapPoll || (this._bootstrapPoll = setTimeout(() => {
      this.poll(), this._bootstrapPoll = setTimeout(() => {
        this._poller || this.poll(), this._bootstrapPoll = null;
      }, this.pollingInterval);
    }, 0))) : !e && this._poller && (clearInterval(this._poller), this._poller = null);
  }
  get pollingInterval() {
    return this._pollingInterval;
  }
  set pollingInterval(e) {
    if (typeof e != "number" || e <= 0 || parseInt(String(e)) != e)
      throw new Error("invalid polling interval");
    this._pollingInterval = e, this._poller && (clearInterval(this._poller), this._poller = setInterval(() => {
      this.poll();
    }, this._pollingInterval));
  }
  _getFastBlockNumber() {
    const e = Ma();
    return e - this._fastQueryDate > 2 * this._pollingInterval && (this._fastQueryDate = e, this._fastBlockNumberPromise = this.getBlockNumber().then((t) => ((this._fastBlockNumber == null || t > this._fastBlockNumber) && (this._fastBlockNumber = t), this._fastBlockNumber))), this._fastBlockNumberPromise;
  }
  _setFastBlockNumber(e) {
    this._fastBlockNumber != null && e < this._fastBlockNumber || (this._fastQueryDate = Ma(), (this._fastBlockNumber == null || e > this._fastBlockNumber) && (this._fastBlockNumber = e, this._fastBlockNumberPromise = Promise.resolve(e)));
  }
  waitForTransaction(e, t, n) {
    return le(this, void 0, void 0, function* () {
      return this._waitForTransaction(e, t ?? 1, n || 0, null);
    });
  }
  _waitForTransaction(e, t, n, i) {
    return le(this, void 0, void 0, function* () {
      const s = yield this.getTransactionReceipt(e);
      return (s ? s.confirmations : 0) >= t ? s : new Promise((o, a) => {
        const c = [];
        let l = !1;
        const f = function() {
          return l ? !0 : (l = !0, c.forEach((b) => {
            b();
          }), !1);
        }, p = (b) => {
          b.confirmations < t || f() || o(b);
        };
        if (this.on(e, p), c.push(() => {
          this.removeListener(e, p);
        }), i) {
          let b = i.startBlock, w = null;
          const A = (C) => le(this, void 0, void 0, function* () {
            l || (yield Jb(1e3), this.getTransactionCount(i.from).then((S) => le(this, void 0, void 0, function* () {
              if (!l) {
                if (S <= i.nonce)
                  b = C;
                else {
                  {
                    const k = yield this.getTransaction(e);
                    if (k && k.blockNumber != null)
                      return;
                  }
                  for (w == null && (w = b - 3, w < i.startBlock && (w = i.startBlock)); w <= C; ) {
                    if (l)
                      return;
                    const k = yield this.getBlockWithTransactions(w);
                    for (let O = 0; O < k.transactions.length; O++) {
                      const L = k.transactions[O];
                      if (L.hash === e)
                        return;
                      if (L.from === i.from && L.nonce === i.nonce) {
                        if (l)
                          return;
                        const B = yield this.waitForTransaction(L.hash, t);
                        if (f())
                          return;
                        let N = "replaced";
                        L.data === i.data && L.to === i.to && L.value.eq(i.value) ? N = "repriced" : L.data === "0x" && L.from === L.to && L.value.isZero() && (N = "cancelled"), a(de.makeError("transaction was replaced", M.errors.TRANSACTION_REPLACED, {
                          cancelled: N === "replaced" || N === "cancelled",
                          reason: N,
                          replacement: this._wrapTransaction(L),
                          hash: e,
                          receipt: B
                        }));
                        return;
                      }
                    }
                    w++;
                  }
                }
                l || this.once("block", A);
              }
            }), (S) => {
              l || this.once("block", A);
            }));
          });
          if (l)
            return;
          this.once("block", A), c.push(() => {
            this.removeListener("block", A);
          });
        }
        if (typeof n == "number" && n > 0) {
          const b = setTimeout(() => {
            f() || a(de.makeError("timeout exceeded", M.errors.TIMEOUT, { timeout: n }));
          }, n);
          b.unref && b.unref(), c.push(() => {
            clearTimeout(b);
          });
        }
      });
    });
  }
  getBlockNumber() {
    return le(this, void 0, void 0, function* () {
      return this._getInternalBlockNumber(0);
    });
  }
  getGasPrice() {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const e = yield this.perform("getGasPrice", {});
      try {
        return V.from(e);
      } catch (t) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "getGasPrice",
          result: e,
          error: t
        });
      }
    });
  }
  getBalance(e, t) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const n = yield Mt({
        address: this._getAddress(e),
        blockTag: this._getBlockTag(t)
      }), i = yield this.perform("getBalance", n);
      try {
        return V.from(i);
      } catch (s) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "getBalance",
          params: n,
          result: i,
          error: s
        });
      }
    });
  }
  getTransactionCount(e, t) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const n = yield Mt({
        address: this._getAddress(e),
        blockTag: this._getBlockTag(t)
      }), i = yield this.perform("getTransactionCount", n);
      try {
        return V.from(i).toNumber();
      } catch (s) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "getTransactionCount",
          params: n,
          result: i,
          error: s
        });
      }
    });
  }
  getCode(e, t) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const n = yield Mt({
        address: this._getAddress(e),
        blockTag: this._getBlockTag(t)
      }), i = yield this.perform("getCode", n);
      try {
        return re(i);
      } catch (s) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "getCode",
          params: n,
          result: i,
          error: s
        });
      }
    });
  }
  getStorageAt(e, t, n) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const i = yield Mt({
        address: this._getAddress(e),
        blockTag: this._getBlockTag(n),
        position: Promise.resolve(t).then((o) => L0(o))
      }), s = yield this.perform("getStorageAt", i);
      try {
        return re(s);
      } catch (o) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "getStorageAt",
          params: i,
          result: s,
          error: o
        });
      }
    });
  }
  _wrapTransaction(e, t, n) {
    if (t != null && zs(t) !== 32)
      throw new Error("invalid response - sendTransaction");
    const i = e;
    return t != null && e.hash !== t && de.throwError("Transaction hash mismatch from Provider.sendTransaction.", M.errors.UNKNOWN_ERROR, { expectedHash: e.hash, returnedHash: t }), i.wait = (s, o) => le(this, void 0, void 0, function* () {
      s == null && (s = 1), o == null && (o = 0);
      let a;
      s !== 0 && n != null && (a = {
        data: e.data,
        from: e.from,
        nonce: e.nonce,
        to: e.to,
        value: e.value,
        startBlock: n
      });
      const c = yield this._waitForTransaction(e.hash, s, o, a);
      return c == null && s === 0 ? null : (this._emitted["t:" + e.hash] = c.blockNumber, c.status === 0 && de.throwError("transaction failed", M.errors.CALL_EXCEPTION, {
        transactionHash: e.hash,
        transaction: e,
        receipt: c
      }), c);
    }), i;
  }
  sendTransaction(e) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const t = yield Promise.resolve(e).then((s) => re(s)), n = this.formatter.transaction(e);
      n.confirmations == null && (n.confirmations = 0);
      const i = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);
      try {
        const s = yield this.perform("sendTransaction", { signedTransaction: t });
        return this._wrapTransaction(n, s, i);
      } catch (s) {
        throw s.transaction = n, s.transactionHash = n.hash, s;
      }
    });
  }
  _getTransactionRequest(e) {
    return le(this, void 0, void 0, function* () {
      const t = yield e, n = {};
      return ["from", "to"].forEach((i) => {
        t[i] != null && (n[i] = Promise.resolve(t[i]).then((s) => s ? this._getAddress(s) : null));
      }), ["gasLimit", "gasPrice", "maxFeePerGas", "maxPriorityFeePerGas", "value"].forEach((i) => {
        t[i] != null && (n[i] = Promise.resolve(t[i]).then((s) => s ? V.from(s) : null));
      }), ["type"].forEach((i) => {
        t[i] != null && (n[i] = Promise.resolve(t[i]).then((s) => s ?? null));
      }), t.accessList && (n.accessList = this.formatter.accessList(t.accessList)), ["data"].forEach((i) => {
        t[i] != null && (n[i] = Promise.resolve(t[i]).then((s) => s ? re(s) : null));
      }), this.formatter.transactionRequest(yield Mt(n));
    });
  }
  _getFilter(e) {
    return le(this, void 0, void 0, function* () {
      e = yield e;
      const t = {};
      return e.address != null && (t.address = this._getAddress(e.address)), ["blockHash", "topics"].forEach((n) => {
        e[n] != null && (t[n] = e[n]);
      }), ["fromBlock", "toBlock"].forEach((n) => {
        e[n] != null && (t[n] = this._getBlockTag(e[n]));
      }), this.formatter.filter(yield Mt(t));
    });
  }
  _call(e, t, n) {
    return le(this, void 0, void 0, function* () {
      n >= u9 && de.throwError("CCIP read exceeded maximum redirections", M.errors.SERVER_ERROR, {
        redirects: n,
        transaction: e
      });
      const i = e.to, s = yield this.perform("call", { transaction: e, blockTag: t });
      if (n >= 0 && t === "latest" && i != null && s.substring(0, 10) === "0x556f1830" && zs(s) % 32 === 4)
        try {
          const o = nr(s, 4), a = nr(o, 0, 32);
          V.from(a).eq(i) || de.throwError("CCIP Read sender did not match", M.errors.CALL_EXCEPTION, {
            name: "OffchainLookup",
            signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)",
            transaction: e,
            data: s
          });
          const c = [], l = V.from(nr(o, 32, 64)).toNumber(), f = V.from(nr(o, l, l + 32)).toNumber(), p = nr(o, l + 32);
          for (let k = 0; k < f; k++) {
            const O = Jl(p, k * 32);
            O == null && de.throwError("CCIP Read contained corrupt URL string", M.errors.CALL_EXCEPTION, {
              name: "OffchainLookup",
              signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)",
              transaction: e,
              data: s
            }), c.push(O);
          }
          const b = Ac(o, 64);
          V.from(nr(o, 100, 128)).isZero() || de.throwError("CCIP Read callback selector included junk", M.errors.CALL_EXCEPTION, {
            name: "OffchainLookup",
            signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)",
            transaction: e,
            data: s
          });
          const w = nr(o, 96, 100), A = Ac(o, 128), C = yield this.ccipReadFetch(e, b, c);
          C == null && de.throwError("CCIP Read disabled or provided no URLs", M.errors.CALL_EXCEPTION, {
            name: "OffchainLookup",
            signature: "OffchainLookup(address,string[],bytes,bytes4,bytes)",
            transaction: e,
            data: s
          });
          const S = {
            to: i,
            data: Er([w, Ow([C, A])])
          };
          return this._call(S, t, n + 1);
        } catch (o) {
          if (o.code === M.errors.SERVER_ERROR)
            throw o;
        }
      try {
        return re(s);
      } catch (o) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "call",
          params: { transaction: e, blockTag: t },
          result: s,
          error: o
        });
      }
    });
  }
  call(e, t) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const n = yield Mt({
        transaction: this._getTransactionRequest(e),
        blockTag: this._getBlockTag(t),
        ccipReadEnabled: Promise.resolve(e.ccipReadEnabled)
      });
      return this._call(n.transaction, n.blockTag, n.ccipReadEnabled ? 0 : -1);
    });
  }
  estimateGas(e) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const t = yield Mt({
        transaction: this._getTransactionRequest(e)
      }), n = yield this.perform("estimateGas", t);
      try {
        return V.from(n);
      } catch (i) {
        return de.throwError("bad result from backend", M.errors.SERVER_ERROR, {
          method: "estimateGas",
          params: t,
          result: n,
          error: i
        });
      }
    });
  }
  _getAddress(e) {
    return le(this, void 0, void 0, function* () {
      e = yield e, typeof e != "string" && de.throwArgumentError("invalid address or ENS name", "name", e);
      const t = yield this.resolveName(e);
      return t == null && de.throwError("ENS name not configured", M.errors.UNSUPPORTED_OPERATION, {
        operation: `resolveName(${JSON.stringify(e)})`
      }), t;
    });
  }
  _getBlock(e, t) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork(), e = yield e;
      let n = -128;
      const i = {
        includeTransactions: !!t
      };
      if (ke(e, 32))
        i.blockHash = e;
      else
        try {
          i.blockTag = yield this._getBlockTag(e), ke(i.blockTag) && (n = parseInt(i.blockTag.substring(2), 16));
        } catch {
          de.throwArgumentError("invalid block hash or block tag", "blockHashOrBlockTag", e);
        }
      return Ua(() => le(this, void 0, void 0, function* () {
        const s = yield this.perform("getBlock", i);
        if (s == null)
          return i.blockHash != null && this._emitted["b:" + i.blockHash] == null || i.blockTag != null && n > this._emitted.block ? null : void 0;
        if (t) {
          let o = null;
          for (let c = 0; c < s.transactions.length; c++) {
            const l = s.transactions[c];
            if (l.blockNumber == null)
              l.confirmations = 0;
            else if (l.confirmations == null) {
              o == null && (o = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval));
              let f = o - l.blockNumber + 1;
              f <= 0 && (f = 1), l.confirmations = f;
            }
          }
          const a = this.formatter.blockWithTransactions(s);
          return a.transactions = a.transactions.map((c) => this._wrapTransaction(c)), a;
        }
        return this.formatter.block(s);
      }), { oncePoll: this });
    });
  }
  getBlock(e) {
    return this._getBlock(e, !1);
  }
  getBlockWithTransactions(e) {
    return this._getBlock(e, !0);
  }
  getTransaction(e) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork(), e = yield e;
      const t = { transactionHash: this.formatter.hash(e, !0) };
      return Ua(() => le(this, void 0, void 0, function* () {
        const n = yield this.perform("getTransaction", t);
        if (n == null)
          return this._emitted["t:" + e] == null ? null : void 0;
        const i = this.formatter.transactionResponse(n);
        if (i.blockNumber == null)
          i.confirmations = 0;
        else if (i.confirmations == null) {
          let o = (yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval)) - i.blockNumber + 1;
          o <= 0 && (o = 1), i.confirmations = o;
        }
        return this._wrapTransaction(i);
      }), { oncePoll: this });
    });
  }
  getTransactionReceipt(e) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork(), e = yield e;
      const t = { transactionHash: this.formatter.hash(e, !0) };
      return Ua(() => le(this, void 0, void 0, function* () {
        const n = yield this.perform("getTransactionReceipt", t);
        if (n == null)
          return this._emitted["t:" + e] == null ? null : void 0;
        if (n.blockHash == null)
          return;
        const i = this.formatter.receipt(n);
        if (i.blockNumber == null)
          i.confirmations = 0;
        else if (i.confirmations == null) {
          let o = (yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval)) - i.blockNumber + 1;
          o <= 0 && (o = 1), i.confirmations = o;
        }
        return i;
      }), { oncePoll: this });
    });
  }
  getLogs(e) {
    return le(this, void 0, void 0, function* () {
      yield this.getNetwork();
      const t = yield Mt({ filter: this._getFilter(e) }), n = yield this.perform("getLogs", t);
      return n.forEach((i) => {
        i.removed == null && (i.removed = !1);
      }), te.arrayOf(this.formatter.filterLog.bind(this.formatter))(n);
    });
  }
  getEtherPrice() {
    return le(this, void 0, void 0, function* () {
      return yield this.getNetwork(), this.perform("getEtherPrice", {});
    });
  }
  _getBlockTag(e) {
    return le(this, void 0, void 0, function* () {
      if (e = yield e, typeof e == "number" && e < 0) {
        e % 1 && de.throwArgumentError("invalid BlockTag", "blockTag", e);
        let t = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);
        return t += e, t < 0 && (t = 0), this.formatter.blockTag(t);
      }
      return this.formatter.blockTag(e);
    });
  }
  getResolver(e) {
    return le(this, void 0, void 0, function* () {
      let t = e;
      for (; ; ) {
        if (t === "" || t === "." || e !== "eth" && t === "eth")
          return null;
        const n = yield this._getResolver(t, "getResolver");
        if (n != null) {
          const i = new ex(this, n, e);
          return t !== e && !(yield i.supportsWildcard()) ? null : i;
        }
        t = t.split(".").slice(1).join(".");
      }
    });
  }
  _getResolver(e, t) {
    return le(this, void 0, void 0, function* () {
      t == null && (t = "ENS");
      const n = yield this.getNetwork();
      n.ensAddress || de.throwError("network does not support ENS", M.errors.UNSUPPORTED_OPERATION, { operation: t, network: n.name });
      try {
        const i = yield this.call({
          to: n.ensAddress,
          data: "0x0178b8bf" + Kl(e).substring(2)
        });
        return this.formatter.callAddress(i);
      } catch {
      }
      return null;
    });
  }
  resolveName(e) {
    return le(this, void 0, void 0, function* () {
      e = yield e;
      try {
        return Promise.resolve(this.formatter.address(e));
      } catch (n) {
        if (ke(e))
          throw n;
      }
      typeof e != "string" && de.throwArgumentError("invalid ENS name", "name", e);
      const t = yield this.getResolver(e);
      return t ? yield t.getAddress() : null;
    });
  }
  lookupAddress(e) {
    return le(this, void 0, void 0, function* () {
      e = yield e, e = this.formatter.address(e);
      const t = e.substring(2).toLowerCase() + ".addr.reverse", n = yield this._getResolver(t, "lookupAddress");
      if (n == null)
        return null;
      const i = Jl(yield this.call({
        to: n,
        data: "0x691f3431" + Kl(t).substring(2)
      }), 0);
      return (yield this.resolveName(i)) != e ? null : i;
    });
  }
  getAvatar(e) {
    return le(this, void 0, void 0, function* () {
      let t = null;
      if (ke(e)) {
        const s = this.formatter.address(e).substring(2).toLowerCase() + ".addr.reverse", o = yield this._getResolver(s, "getAvatar");
        if (!o)
          return null;
        t = new ex(this, o, s);
        try {
          const a = yield t.getAvatar();
          if (a)
            return a.url;
        } catch (a) {
          if (a.code !== M.errors.CALL_EXCEPTION)
            throw a;
        }
        try {
          const a = Jl(yield this.call({
            to: o,
            data: "0x691f3431" + Kl(s).substring(2)
          }), 0);
          t = yield this.getResolver(a);
        } catch (a) {
          if (a.code !== M.errors.CALL_EXCEPTION)
            throw a;
          return null;
        }
      } else if (t = yield this.getResolver(e), !t)
        return null;
      const n = yield t.getAvatar();
      return n == null ? null : n.url;
    });
  }
  perform(e, t) {
    return de.throwError(e + " not implemented", M.errors.NOT_IMPLEMENTED, { operation: e });
  }
  _startEvent(e) {
    this.polling = this._events.filter((t) => t.pollable()).length > 0;
  }
  _stopEvent(e) {
    this.polling = this._events.filter((t) => t.pollable()).length > 0;
  }
  _addEventListener(e, t, n) {
    const i = new d9(Ao(e), t, n);
    return this._events.push(i), this._startEvent(i), this;
  }
  on(e, t) {
    return this._addEventListener(e, t, !1);
  }
  once(e, t) {
    return this._addEventListener(e, t, !0);
  }
  emit(e, ...t) {
    let n = !1, i = [], s = Ao(e);
    return this._events = this._events.filter((o) => o.tag !== s ? !0 : (setTimeout(() => {
      o.listener.apply(this, t);
    }, 0), n = !0, o.once ? (i.push(o), !1) : !0)), i.forEach((o) => {
      this._stopEvent(o);
    }), n;
  }
  listenerCount(e) {
    if (!e)
      return this._events.length;
    let t = Ao(e);
    return this._events.filter((n) => n.tag === t).length;
  }
  listeners(e) {
    if (e == null)
      return this._events.map((n) => n.listener);
    let t = Ao(e);
    return this._events.filter((n) => n.tag === t).map((n) => n.listener);
  }
  off(e, t) {
    if (t == null)
      return this.removeAllListeners(e);
    const n = [];
    let i = !1, s = Ao(e);
    return this._events = this._events.filter((o) => o.tag !== s || o.listener != t || i ? !0 : (i = !0, n.push(o), !1)), n.forEach((o) => {
      this._stopEvent(o);
    }), this;
  }
  removeAllListeners(e) {
    let t = [];
    if (e == null)
      t = this._events, this._events = [];
    else {
      const n = Ao(e);
      this._events = this._events.filter((i) => i.tag !== n ? !0 : (t.push(i), !1));
    }
    return t.forEach((n) => {
      this._stopEvent(n);
    }), this;
  }
}
var si = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const Ot = new M(rl), x9 = ["call", "estimateGas"];
function tc(r, e) {
  if (r == null)
    return null;
  if (typeof r.message == "string" && r.message.match("reverted")) {
    const t = ke(r.data) ? r.data : null;
    if (!e || t)
      return { message: r.message, data: t };
  }
  if (typeof r == "object") {
    for (const t in r) {
      const n = tc(r[t], e);
      if (n)
        return n;
    }
    return null;
  }
  if (typeof r == "string")
    try {
      return tc(JSON.parse(r), e);
    } catch {
    }
  return null;
}
function Nw(r, e, t) {
  const n = t.transaction || t.signedTransaction;
  if (r === "call") {
    const s = tc(e, !0);
    if (s)
      return s.data;
    Ot.throwError("missing revert data in call exception; Transaction reverted without a reason string", M.errors.CALL_EXCEPTION, {
      data: "0x",
      transaction: n,
      error: e
    });
  }
  if (r === "estimateGas") {
    let s = tc(e.body, !1);
    s == null && (s = tc(e, !1)), s && Ot.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", M.errors.UNPREDICTABLE_GAS_LIMIT, {
      reason: s.message,
      method: r,
      transaction: n,
      error: e
    });
  }
  let i = e.message;
  throw e.code === M.errors.SERVER_ERROR && e.error && typeof e.error.message == "string" ? i = e.error.message : typeof e.body == "string" ? i = e.body : typeof e.responseText == "string" && (i = e.responseText), i = (i || "").toLowerCase(), i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i) && Ot.throwError("insufficient funds for intrinsic transaction cost", M.errors.INSUFFICIENT_FUNDS, {
    error: e,
    method: r,
    transaction: n
  }), i.match(/nonce (is )?too low/i) && Ot.throwError("nonce has already been used", M.errors.NONCE_EXPIRED, {
    error: e,
    method: r,
    transaction: n
  }), i.match(/replacement transaction underpriced|transaction gas price.*too low/i) && Ot.throwError("replacement fee too low", M.errors.REPLACEMENT_UNDERPRICED, {
    error: e,
    method: r,
    transaction: n
  }), i.match(/only replay-protected/i) && Ot.throwError("legacy pre-eip-155 transactions not supported", M.errors.UNSUPPORTED_OPERATION, {
    error: e,
    method: r,
    transaction: n
  }), x9.indexOf(r) >= 0 && i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/) && Ot.throwError("cannot estimate gas; transaction may fail or may require manual gas limit", M.errors.UNPREDICTABLE_GAS_LIMIT, {
    error: e,
    method: r,
    transaction: n
  }), e;
}
function tx(r) {
  return new Promise(function(e) {
    setTimeout(e, r);
  });
}
function v9(r) {
  if (r.error) {
    const e = new Error(r.error.message);
    throw e.code = r.error.code, e.data = r.error.data, e;
  }
  return r.result;
}
function Oa(r) {
  return r && r.toLowerCase();
}
const Cd = {};
class Dw extends ns {
  constructor(e, t, n) {
    if (super(), e !== Cd)
      throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");
    W(this, "provider", t), n == null && (n = 0), typeof n == "string" ? (W(this, "_address", this.provider.formatter.address(n)), W(this, "_index", null)) : typeof n == "number" ? (W(this, "_index", n), W(this, "_address", null)) : Ot.throwArgumentError("invalid address or index", "addressOrIndex", n);
  }
  connect(e) {
    return Ot.throwError("cannot alter JSON-RPC Signer connection", M.errors.UNSUPPORTED_OPERATION, {
      operation: "connect"
    });
  }
  connectUnchecked() {
    return new y9(Cd, this.provider, this._address || this._index);
  }
  getAddress() {
    return this._address ? Promise.resolve(this._address) : this.provider.send("eth_accounts", []).then((e) => (e.length <= this._index && Ot.throwError("unknown account #" + this._index, M.errors.UNSUPPORTED_OPERATION, {
      operation: "getAddress"
    }), this.provider.formatter.address(e[this._index])));
  }
  sendUncheckedTransaction(e) {
    e = $t(e);
    const t = this.getAddress().then((n) => (n && (n = n.toLowerCase()), n));
    if (e.gasLimit == null) {
      const n = $t(e);
      n.from = t, e.gasLimit = this.provider.estimateGas(n);
    }
    return e.to != null && (e.to = Promise.resolve(e.to).then((n) => si(this, void 0, void 0, function* () {
      if (n == null)
        return null;
      const i = yield this.provider.resolveName(n);
      return i == null && Ot.throwArgumentError("provided ENS name resolves to null", "tx.to", n), i;
    }))), Mt({
      tx: Mt(e),
      sender: t
    }).then(({ tx: n, sender: i }) => {
      n.from != null ? n.from.toLowerCase() !== i && Ot.throwArgumentError("from address mismatch", "transaction", e) : n.from = i;
      const s = this.provider.constructor.hexlifyTransaction(n, { from: !0 });
      return this.provider.send("eth_sendTransaction", [s]).then((o) => o, (o) => (typeof o.message == "string" && o.message.match(/user denied/i) && Ot.throwError("user rejected transaction", M.errors.ACTION_REJECTED, {
        action: "sendTransaction",
        transaction: n
      }), Nw("sendTransaction", o, s)));
    });
  }
  signTransaction(e) {
    return Ot.throwError("signing transactions is unsupported", M.errors.UNSUPPORTED_OPERATION, {
      operation: "signTransaction"
    });
  }
  sendTransaction(e) {
    return si(this, void 0, void 0, function* () {
      const t = yield this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval), n = yield this.sendUncheckedTransaction(e);
      try {
        return yield Ua(() => si(this, void 0, void 0, function* () {
          const i = yield this.provider.getTransaction(n);
          if (i !== null)
            return this.provider._wrapTransaction(i, n, t);
        }), { oncePoll: this.provider });
      } catch (i) {
        throw i.transactionHash = n, i;
      }
    });
  }
  signMessage(e) {
    return si(this, void 0, void 0, function* () {
      const t = typeof e == "string" ? _n(e) : e, n = yield this.getAddress();
      try {
        return yield this.provider.send("personal_sign", [re(t), n.toLowerCase()]);
      } catch (i) {
        throw typeof i.message == "string" && i.message.match(/user denied/i) && Ot.throwError("user rejected signing", M.errors.ACTION_REJECTED, {
          action: "signMessage",
          from: n,
          messageData: e
        }), i;
      }
    });
  }
  _legacySignMessage(e) {
    return si(this, void 0, void 0, function* () {
      const t = typeof e == "string" ? _n(e) : e, n = yield this.getAddress();
      try {
        return yield this.provider.send("eth_sign", [n.toLowerCase(), re(t)]);
      } catch (i) {
        throw typeof i.message == "string" && i.message.match(/user denied/i) && Ot.throwError("user rejected signing", M.errors.ACTION_REJECTED, {
          action: "_legacySignMessage",
          from: n,
          messageData: e
        }), i;
      }
    });
  }
  _signTypedData(e, t, n) {
    return si(this, void 0, void 0, function* () {
      const i = yield Br.resolveNames(e, t, n, (o) => this.provider.resolveName(o)), s = yield this.getAddress();
      try {
        return yield this.provider.send("eth_signTypedData_v4", [
          s.toLowerCase(),
          JSON.stringify(Br.getPayload(i.domain, t, i.value))
        ]);
      } catch (o) {
        throw typeof o.message == "string" && o.message.match(/user denied/i) && Ot.throwError("user rejected signing", M.errors.ACTION_REJECTED, {
          action: "_signTypedData",
          from: s,
          messageData: { domain: i.domain, types: t, value: i.value }
        }), o;
      }
    });
  }
  unlock(e) {
    return si(this, void 0, void 0, function* () {
      const t = this.provider, n = yield this.getAddress();
      return t.send("personal_unlockAccount", [n.toLowerCase(), e, null]);
    });
  }
}
class y9 extends Dw {
  sendTransaction(e) {
    return this.sendUncheckedTransaction(e).then((t) => ({
      hash: t,
      nonce: null,
      gasLimit: null,
      gasPrice: null,
      data: null,
      value: null,
      chainId: null,
      confirmations: 0,
      from: null,
      wait: (n) => this.provider.waitForTransaction(t, n)
    }));
  }
}
const w9 = {
  chainId: !0,
  data: !0,
  gasLimit: !0,
  gasPrice: !0,
  nonce: !0,
  to: !0,
  value: !0,
  type: !0,
  accessList: !0,
  maxFeePerGas: !0,
  maxPriorityFeePerGas: !0
};
class J0 extends b9 {
  constructor(e, t) {
    let n = t;
    n == null && (n = new Promise((i, s) => {
      setTimeout(() => {
        this.detectNetwork().then((o) => {
          i(o);
        }, (o) => {
          s(o);
        });
      }, 0);
    })), super(n), e || (e = Un(this.constructor, "defaultUrl")()), typeof e == "string" ? W(this, "connection", Object.freeze({
      url: e
    })) : W(this, "connection", Object.freeze($t(e))), this._nextId = 42;
  }
  get _cache() {
    return this._eventLoopCache == null && (this._eventLoopCache = {}), this._eventLoopCache;
  }
  static defaultUrl() {
    return "http://localhost:8545";
  }
  detectNetwork() {
    return this._cache.detectNetwork || (this._cache.detectNetwork = this._uncachedDetectNetwork(), setTimeout(() => {
      this._cache.detectNetwork = null;
    }, 0)), this._cache.detectNetwork;
  }
  _uncachedDetectNetwork() {
    return si(this, void 0, void 0, function* () {
      yield tx(0);
      let e = null;
      try {
        e = yield this.send("eth_chainId", []);
      } catch {
        try {
          e = yield this.send("net_version", []);
        } catch {
        }
      }
      if (e != null) {
        const t = Un(this.constructor, "getNetwork");
        try {
          return t(V.from(e).toNumber());
        } catch (n) {
          return Ot.throwError("could not detect network", M.errors.NETWORK_ERROR, {
            chainId: e,
            event: "invalidNetwork",
            serverError: n
          });
        }
      }
      return Ot.throwError("could not detect network", M.errors.NETWORK_ERROR, {
        event: "noNetwork"
      });
    });
  }
  getSigner(e) {
    return new Dw(Cd, this, e);
  }
  getUncheckedSigner(e) {
    return this.getSigner(e).connectUnchecked();
  }
  listAccounts() {
    return this.send("eth_accounts", []).then((e) => e.map((t) => this.formatter.address(t)));
  }
  send(e, t) {
    const n = {
      method: e,
      params: t,
      id: this._nextId++,
      jsonrpc: "2.0"
    };
    this.emit("debug", {
      action: "request",
      request: wi(n),
      provider: this
    });
    const i = ["eth_chainId", "eth_blockNumber"].indexOf(e) >= 0;
    if (i && this._cache[e])
      return this._cache[e];
    const s = Q0(this.connection, JSON.stringify(n), v9).then((o) => (this.emit("debug", {
      action: "response",
      request: n,
      response: o,
      provider: this
    }), o), (o) => {
      throw this.emit("debug", {
        action: "response",
        error: o,
        request: n,
        provider: this
      }), o;
    });
    return i && (this._cache[e] = s, setTimeout(() => {
      this._cache[e] = null;
    }, 0)), s;
  }
  prepareRequest(e, t) {
    switch (e) {
      case "getBlockNumber":
        return ["eth_blockNumber", []];
      case "getGasPrice":
        return ["eth_gasPrice", []];
      case "getBalance":
        return ["eth_getBalance", [Oa(t.address), t.blockTag]];
      case "getTransactionCount":
        return ["eth_getTransactionCount", [Oa(t.address), t.blockTag]];
      case "getCode":
        return ["eth_getCode", [Oa(t.address), t.blockTag]];
      case "getStorageAt":
        return ["eth_getStorageAt", [Oa(t.address), Le(t.position, 32), t.blockTag]];
      case "sendTransaction":
        return ["eth_sendRawTransaction", [t.signedTransaction]];
      case "getBlock":
        return t.blockTag ? ["eth_getBlockByNumber", [t.blockTag, !!t.includeTransactions]] : t.blockHash ? ["eth_getBlockByHash", [t.blockHash, !!t.includeTransactions]] : null;
      case "getTransaction":
        return ["eth_getTransactionByHash", [t.transactionHash]];
      case "getTransactionReceipt":
        return ["eth_getTransactionReceipt", [t.transactionHash]];
      case "call":
        return ["eth_call", [Un(this.constructor, "hexlifyTransaction")(t.transaction, { from: !0 }), t.blockTag]];
      case "estimateGas":
        return ["eth_estimateGas", [Un(this.constructor, "hexlifyTransaction")(t.transaction, { from: !0 })]];
      case "getLogs":
        return t.filter && t.filter.address != null && (t.filter.address = Oa(t.filter.address)), ["eth_getLogs", [t.filter]];
    }
    return null;
  }
  perform(e, t) {
    return si(this, void 0, void 0, function* () {
      if (e === "call" || e === "estimateGas") {
        const i = t.transaction;
        if (i && i.type != null && V.from(i.type).isZero() && i.maxFeePerGas == null && i.maxPriorityFeePerGas == null) {
          const s = yield this.getFeeData();
          s.maxFeePerGas == null && s.maxPriorityFeePerGas == null && (t = $t(t), t.transaction = $t(i), delete t.transaction.type);
        }
      }
      const n = this.prepareRequest(e, t);
      n == null && Ot.throwError(e + " not implemented", M.errors.NOT_IMPLEMENTED, { operation: e });
      try {
        return yield this.send(n[0], n[1]);
      } catch (i) {
        return Nw(e, i, t);
      }
    });
  }
  _startEvent(e) {
    e.tag === "pending" && this._startPending(), super._startEvent(e);
  }
  _startPending() {
    if (this._pendingFilter != null)
      return;
    const e = this, t = this.send("eth_newPendingTransactionFilter", []);
    this._pendingFilter = t, t.then(function(n) {
      function i() {
        e.send("eth_getFilterChanges", [n]).then(function(s) {
          if (e._pendingFilter != t)
            return null;
          let o = Promise.resolve();
          return s.forEach(function(a) {
            e._emitted["t:" + a.toLowerCase()] = "pending", o = o.then(function() {
              return e.getTransaction(a).then(function(c) {
                return e.emit("pending", c), null;
              });
            });
          }), o.then(function() {
            return tx(1e3);
          });
        }).then(function() {
          if (e._pendingFilter != t) {
            e.send("eth_uninstallFilter", [n]);
            return;
          }
          return setTimeout(function() {
            i();
          }, 0), null;
        }).catch((s) => {
        });
      }
      return i(), n;
    }).catch((n) => {
    });
  }
  _stopEvent(e) {
    e.tag === "pending" && this.listenerCount("pending") === 0 && (this._pendingFilter = null), super._stopEvent(e);
  }
  static hexlifyTransaction(e, t) {
    const n = $t(w9);
    if (t)
      for (const s in t)
        t[s] && (n[s] = !0);
    WS(e, n);
    const i = {};
    return ["chainId", "gasLimit", "gasPrice", "type", "maxFeePerGas", "maxPriorityFeePerGas", "nonce", "value"].forEach(function(s) {
      if (e[s] == null)
        return;
      const o = L0(V.from(e[s]));
      s === "gasLimit" && (s = "gas"), i[s] = o;
    }), ["from", "to", "data"].forEach(function(s) {
      e[s] != null && (i[s] = re(e[s]));
    }), e.accessList && (i.accessList = wa(e.accessList)), i;
  }
}
const A9 = "random/5.7.0", rx = new M(A9);
function S9() {
  if (typeof self < "u")
    return self;
  if (typeof window < "u")
    return window;
  if (typeof Qs < "u")
    return Qs;
  throw new Error("unable to locate global object");
}
const nx = S9();
let Rf = nx.crypto || nx.msCrypto;
(!Rf || !Rf.getRandomValues) && (rx.warn("WARNING: Missing strong random number source"), Rf = {
  getRandomValues: function(r) {
    return rx.throwError("no secure random source avaialble", M.errors.UNSUPPORTED_OPERATION, {
      operation: "crypto.getRandomValues"
    });
  }
});
const ix = new M(rl);
let C9 = 1;
function sx(r, e) {
  const t = "Web3LegacyFetcher";
  return function(n, i) {
    const s = {
      method: n,
      params: i,
      id: C9++,
      jsonrpc: "2.0"
    };
    return new Promise((o, a) => {
      this.emit("debug", {
        action: "request",
        fetcher: t,
        request: wi(s),
        provider: this
      }), e(s, (c, l) => {
        if (c)
          return this.emit("debug", {
            action: "response",
            fetcher: t,
            error: c,
            request: s,
            provider: this
          }), a(c);
        if (this.emit("debug", {
          action: "response",
          fetcher: t,
          request: s,
          response: l,
          provider: this
        }), l.error) {
          const f = new Error(l.error.message);
          return f.code = l.error.code, f.data = l.error.data, a(f);
        }
        o(l.result);
      });
    });
  };
}
function E9(r) {
  return function(e, t) {
    t == null && (t = []);
    const n = { method: e, params: t };
    return this.emit("debug", {
      action: "request",
      fetcher: "Eip1193Fetcher",
      request: wi(n),
      provider: this
    }), r.request(n).then((i) => (this.emit("debug", {
      action: "response",
      fetcher: "Eip1193Fetcher",
      request: n,
      response: i,
      provider: this
    }), i), (i) => {
      throw this.emit("debug", {
        action: "response",
        fetcher: "Eip1193Fetcher",
        request: n,
        error: i,
        provider: this
      }), i;
    });
  };
}
class _9 extends J0 {
  constructor(e, t) {
    e == null && ix.throwArgumentError("missing provider", "provider", e);
    let n = null, i = null, s = null;
    typeof e == "function" ? (n = "unknown:", i = e) : (n = e.host || e.path || "", !n && e.isMetaMask && (n = "metamask"), s = e, e.request ? (n === "" && (n = "eip-1193:"), i = E9(e)) : e.sendAsync ? i = sx(e, e.sendAsync.bind(e)) : e.send ? i = sx(e, e.send.bind(e)) : ix.throwArgumentError("unsupported provider", "provider", e), n || (n = "unknown:")), super(n, t), W(this, "jsonRpcFetchFunc", i), W(this, "provider", s);
  }
  send(e, t) {
    return this.jsonRpcFetchFunc(e, t);
  }
}
new M(rl);
const P9 = "wordlists/5.7.0", k9 = new M(P9);
class nl {
  constructor(e) {
    k9.checkAbstract(new.target, nl), W(this, "locale", e);
  }
  split(e) {
    return e.toLowerCase().split(/ +/g);
  }
  join(e) {
    return e.join(" ");
  }
  static check(e) {
    const t = [];
    for (let n = 0; n < 2048; n++) {
      const i = e.getWord(n);
      if (n !== e.getWordIndex(i))
        return "0x";
      t.push(i);
    }
    return Us(t.join(`
`) + `
`);
  }
  static register(e, t) {
    t || (t = e.locale);
  }
}
const R9 = "AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";
let rc = null;
function ox(r) {
  if (rc == null && (rc = R9.replace(/([A-Z])/g, " $1").toLowerCase().substring(1).split(" "), nl.check(r) !== "0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))
    throw rc = null, new Error("BIP39 Wordlist for en (English) FAILED");
}
class T9 extends nl {
  constructor() {
    super("en");
  }
  getWord(e) {
    return ox(this), rc[e];
  }
  getWordIndex(e) {
    return ox(this), rc.indexOf(e);
  }
}
const I9 = new T9();
nl.register(I9);
const M9 = "hdnode/5.7.0", $I = new M(M9), LI = V.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"), FI = _n("Bitcoin seed");
var Bw = { exports: {} };
(function(r, e) {
  (function(t) {
    function n(m) {
      return parseInt(m) === m;
    }
    function i(m) {
      if (!n(m.length))
        return !1;
      for (var h = 0; h < m.length; h++)
        if (!n(m[h]) || m[h] < 0 || m[h] > 255)
          return !1;
      return !0;
    }
    function s(m, h) {
      if (m.buffer && ArrayBuffer.isView(m) && m.name === "Uint8Array")
        return h && (m.slice ? m = m.slice() : m = Array.prototype.slice.call(m)), m;
      if (Array.isArray(m)) {
        if (!i(m))
          throw new Error("Array contains invalid value: " + m);
        return new Uint8Array(m);
      }
      if (n(m.length) && i(m))
        return new Uint8Array(m);
      throw new Error("unsupported array-like object");
    }
    function o(m) {
      return new Uint8Array(m);
    }
    function a(m, h, v, I, d) {
      (I != null || d != null) && (m.slice ? m = m.slice(I, d) : m = Array.prototype.slice.call(m, I, d)), h.set(m, v);
    }
    var c = function() {
      function m(v) {
        var I = [], d = 0;
        for (v = encodeURI(v); d < v.length; ) {
          var T = v.charCodeAt(d++);
          T === 37 ? (I.push(parseInt(v.substr(d, 2), 16)), d += 2) : I.push(T);
        }
        return s(I);
      }
      function h(v) {
        for (var I = [], d = 0; d < v.length; ) {
          var T = v[d];
          T < 128 ? (I.push(String.fromCharCode(T)), d++) : T > 191 && T < 224 ? (I.push(String.fromCharCode((T & 31) << 6 | v[d + 1] & 63)), d += 2) : (I.push(String.fromCharCode((T & 15) << 12 | (v[d + 1] & 63) << 6 | v[d + 2] & 63)), d += 3);
        }
        return I.join("");
      }
      return {
        toBytes: m,
        fromBytes: h
      };
    }(), l = function() {
      function m(I) {
        for (var d = [], T = 0; T < I.length; T += 2)
          d.push(parseInt(I.substr(T, 2), 16));
        return d;
      }
      var h = "0123456789abcdef";
      function v(I) {
        for (var d = [], T = 0; T < I.length; T++) {
          var $ = I[T];
          d.push(h[($ & 240) >> 4] + h[$ & 15]);
        }
        return d.join("");
      }
      return {
        toBytes: m,
        fromBytes: v
      };
    }(), f = { 16: 10, 24: 12, 32: 14 }, p = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145], b = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], w = [82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125], A = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986], C = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766], S = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126], k = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436], O = [1374988112, 2118214995, 437757123, 975658646, 1001089995, 530400753, 2902087851, 1273168787, 540080725, 2910219766, 2295101073, 4110568485, 1340463100, 3307916247, 641025152, 3043140495, 3736164937, 632953703, 1172967064, 1576976609, 3274667266, 2169303058, 2370213795, 1809054150, 59727847, 361929877, 3211623147, 2505202138, 3569255213, 1484005843, 1239443753, 2395588676, 1975683434, 4102977912, 2572697195, 666464733, 3202437046, 4035489047, 3374361702, 2110667444, 1675577880, 3843699074, 2538681184, 1649639237, 2976151520, 3144396420, 4269907996, 4178062228, 1883793496, 2403728665, 2497604743, 1383856311, 2876494627, 1917518562, 3810496343, 1716890410, 3001755655, 800440835, 2261089178, 3543599269, 807962610, 599762354, 33778362, 3977675356, 2328828971, 2809771154, 4077384432, 1315562145, 1708848333, 101039829, 3509871135, 3299278474, 875451293, 2733856160, 92987698, 2767645557, 193195065, 1080094634, 1584504582, 3178106961, 1042385657, 2531067453, 3711829422, 1306967366, 2438237621, 1908694277, 67556463, 1615861247, 429456164, 3602770327, 2302690252, 1742315127, 2968011453, 126454664, 3877198648, 2043211483, 2709260871, 2084704233, 4169408201, 0, 159417987, 841739592, 504459436, 1817866830, 4245618683, 260388950, 1034867998, 908933415, 168810852, 1750902305, 2606453969, 607530554, 202008497, 2472011535, 3035535058, 463180190, 2160117071, 1641816226, 1517767529, 470948374, 3801332234, 3231722213, 1008918595, 303765277, 235474187, 4069246893, 766945465, 337553864, 1475418501, 2943682380, 4003061179, 2743034109, 4144047775, 1551037884, 1147550661, 1543208500, 2336434550, 3408119516, 3069049960, 3102011747, 3610369226, 1113818384, 328671808, 2227573024, 2236228733, 3535486456, 2935566865, 3341394285, 496906059, 3702665459, 226906860, 2009195472, 733156972, 2842737049, 294930682, 1206477858, 2835123396, 2700099354, 1451044056, 573804783, 2269728455, 3644379585, 2362090238, 2564033334, 2801107407, 2776292904, 3669462566, 1068351396, 742039012, 1350078989, 1784663195, 1417561698, 4136440770, 2430122216, 775550814, 2193862645, 2673705150, 1775276924, 1876241833, 3475313331, 3366754619, 270040487, 3902563182, 3678124923, 3441850377, 1851332852, 3969562369, 2203032232, 3868552805, 2868897406, 566021896, 4011190502, 3135740889, 1248802510, 3936291284, 699432150, 832877231, 708780849, 3332740144, 899835584, 1951317047, 4236429990, 3767586992, 866637845, 4043610186, 1106041591, 2144161806, 395441711, 1984812685, 1139781709, 3433712980, 3835036895, 2664543715, 1282050075, 3240894392, 1181045119, 2640243204, 25965917, 4203181171, 4211818798, 3009879386, 2463879762, 3910161971, 1842759443, 2597806476, 933301370, 1509430414, 3943906441, 3467192302, 3076639029, 3776767469, 2051518780, 2631065433, 1441952575, 404016761, 1942435775, 1408749034, 1610459739, 3745345300, 2017778566, 3400528769, 3110650942, 941896748, 3265478751, 371049330, 3168937228, 675039627, 4279080257, 967311729, 135050206, 3635733660, 1683407248, 2076935265, 3576870512, 1215061108, 3501741890], L = [1347548327, 1400783205, 3273267108, 2520393566, 3409685355, 4045380933, 2880240216, 2471224067, 1428173050, 4138563181, 2441661558, 636813900, 4233094615, 3620022987, 2149987652, 2411029155, 1239331162, 1730525723, 2554718734, 3781033664, 46346101, 310463728, 2743944855, 3328955385, 3875770207, 2501218972, 3955191162, 3667219033, 768917123, 3545789473, 692707433, 1150208456, 1786102409, 2029293177, 1805211710, 3710368113, 3065962831, 401639597, 1724457132, 3028143674, 409198410, 2196052529, 1620529459, 1164071807, 3769721975, 2226875310, 486441376, 2499348523, 1483753576, 428819965, 2274680428, 3075636216, 598438867, 3799141122, 1474502543, 711349675, 129166120, 53458370, 2592523643, 2782082824, 4063242375, 2988687269, 3120694122, 1559041666, 730517276, 2460449204, 4042459122, 2706270690, 3446004468, 3573941694, 533804130, 2328143614, 2637442643, 2695033685, 839224033, 1973745387, 957055980, 2856345839, 106852767, 1371368976, 4181598602, 1033297158, 2933734917, 1179510461, 3046200461, 91341917, 1862534868, 4284502037, 605657339, 2547432937, 3431546947, 2003294622, 3182487618, 2282195339, 954669403, 3682191598, 1201765386, 3917234703, 3388507166, 0, 2198438022, 1211247597, 2887651696, 1315723890, 4227665663, 1443857720, 507358933, 657861945, 1678381017, 560487590, 3516619604, 975451694, 2970356327, 261314535, 3535072918, 2652609425, 1333838021, 2724322336, 1767536459, 370938394, 182621114, 3854606378, 1128014560, 487725847, 185469197, 2918353863, 3106780840, 3356761769, 2237133081, 1286567175, 3152976349, 4255350624, 2683765030, 3160175349, 3309594171, 878443390, 1988838185, 3704300486, 1756818940, 1673061617, 3403100636, 272786309, 1075025698, 545572369, 2105887268, 4174560061, 296679730, 1841768865, 1260232239, 4091327024, 3960309330, 3497509347, 1814803222, 2578018489, 4195456072, 575138148, 3299409036, 446754879, 3629546796, 4011996048, 3347532110, 3252238545, 4270639778, 915985419, 3483825537, 681933534, 651868046, 2755636671, 3828103837, 223377554, 2607439820, 1649704518, 3270937875, 3901806776, 1580087799, 4118987695, 3198115200, 2087309459, 2842678573, 3016697106, 1003007129, 2802849917, 1860738147, 2077965243, 164439672, 4100872472, 32283319, 2827177882, 1709610350, 2125135846, 136428751, 3874428392, 3652904859, 3460984630, 3572145929, 3593056380, 2939266226, 824852259, 818324884, 3224740454, 930369212, 2801566410, 2967507152, 355706840, 1257309336, 4148292826, 243256656, 790073846, 2373340630, 1296297904, 1422699085, 3756299780, 3818836405, 457992840, 3099667487, 2135319889, 77422314, 1560382517, 1945798516, 788204353, 1521706781, 1385356242, 870912086, 325965383, 2358957921, 2050466060, 2388260884, 2313884476, 4006521127, 901210569, 3990953189, 1014646705, 1503449823, 1062597235, 2031621326, 3212035895, 3931371469, 1533017514, 350174575, 2256028891, 2177544179, 1052338372, 741876788, 1606591296, 1914052035, 213705253, 2334669897, 1107234197, 1899603969, 3725069491, 2631447780, 2422494913, 1635502980, 1893020342, 1950903388, 1120974935], B = [2807058932, 1699970625, 2764249623, 1586903591, 1808481195, 1173430173, 1487645946, 59984867, 4199882800, 1844882806, 1989249228, 1277555970, 3623636965, 3419915562, 1149249077, 2744104290, 1514790577, 459744698, 244860394, 3235995134, 1963115311, 4027744588, 2544078150, 4190530515, 1608975247, 2627016082, 2062270317, 1507497298, 2200818878, 567498868, 1764313568, 3359936201, 2305455554, 2037970062, 1047239e3, 1910319033, 1337376481, 2904027272, 2892417312, 984907214, 1243112415, 830661914, 861968209, 2135253587, 2011214180, 2927934315, 2686254721, 731183368, 1750626376, 4246310725, 1820824798, 4172763771, 3542330227, 48394827, 2404901663, 2871682645, 671593195, 3254988725, 2073724613, 145085239, 2280796200, 2779915199, 1790575107, 2187128086, 472615631, 3029510009, 4075877127, 3802222185, 4107101658, 3201631749, 1646252340, 4270507174, 1402811438, 1436590835, 3778151818, 3950355702, 3963161475, 4020912224, 2667994737, 273792366, 2331590177, 104699613, 95345982, 3175501286, 2377486676, 1560637892, 3564045318, 369057872, 4213447064, 3919042237, 1137477952, 2658625497, 1119727848, 2340947849, 1530455833, 4007360968, 172466556, 266959938, 516552836, 0, 2256734592, 3980931627, 1890328081, 1917742170, 4294704398, 945164165, 3575528878, 958871085, 3647212047, 2787207260, 1423022939, 775562294, 1739656202, 3876557655, 2530391278, 2443058075, 3310321856, 547512796, 1265195639, 437656594, 3121275539, 719700128, 3762502690, 387781147, 218828297, 3350065803, 2830708150, 2848461854, 428169201, 122466165, 3720081049, 1627235199, 648017665, 4122762354, 1002783846, 2117360635, 695634755, 3336358691, 4234721005, 4049844452, 3704280881, 2232435299, 574624663, 287343814, 612205898, 1039717051, 840019705, 2708326185, 793451934, 821288114, 1391201670, 3822090177, 376187827, 3113855344, 1224348052, 1679968233, 2361698556, 1058709744, 752375421, 2431590963, 1321699145, 3519142200, 2734591178, 188127444, 2177869557, 3727205754, 2384911031, 3215212461, 2648976442, 2450346104, 3432737375, 1180849278, 331544205, 3102249176, 4150144569, 2952102595, 2159976285, 2474404304, 766078933, 313773861, 2570832044, 2108100632, 1668212892, 3145456443, 2013908262, 418672217, 3070356634, 2594734927, 1852171925, 3867060991, 3473416636, 3907448597, 2614737639, 919489135, 164948639, 2094410160, 2997825956, 590424639, 2486224549, 1723872674, 3157750862, 3399941250, 3501252752, 3625268135, 2555048196, 3673637356, 1343127501, 4130281361, 3599595085, 2957853679, 1297403050, 81781910, 3051593425, 2283490410, 532201772, 1367295589, 3926170974, 895287692, 1953757831, 1093597963, 492483431, 3528626907, 1446242576, 1192455638, 1636604631, 209336225, 344873464, 1015671571, 669961897, 3375740769, 3857572124, 2973530695, 3747192018, 1933530610, 3464042516, 935293895, 3454686199, 2858115069, 1863638845, 3683022916, 4085369519, 3292445032, 875313188, 1080017571, 3279033885, 621591778, 1233856572, 2504130317, 24197544, 3017672716, 3835484340, 3247465558, 2220981195, 3060847922, 1551124588, 1463996600], N = [4104605777, 1097159550, 396673818, 660510266, 2875968315, 2638606623, 4200115116, 3808662347, 821712160, 1986918061, 3430322568, 38544885, 3856137295, 718002117, 893681702, 1654886325, 2975484382, 3122358053, 3926825029, 4274053469, 796197571, 1290801793, 1184342925, 3556361835, 2405426947, 2459735317, 1836772287, 1381620373, 3196267988, 1948373848, 3764988233, 3385345166, 3263785589, 2390325492, 1480485785, 3111247143, 3780097726, 2293045232, 548169417, 3459953789, 3746175075, 439452389, 1362321559, 1400849762, 1685577905, 1806599355, 2174754046, 137073913, 1214797936, 1174215055, 3731654548, 2079897426, 1943217067, 1258480242, 529487843, 1437280870, 3945269170, 3049390895, 3313212038, 923313619, 679998e3, 3215307299, 57326082, 377642221, 3474729866, 2041877159, 133361907, 1776460110, 3673476453, 96392454, 878845905, 2801699524, 777231668, 4082475170, 2330014213, 4142626212, 2213296395, 1626319424, 1906247262, 1846563261, 562755902, 3708173718, 1040559837, 3871163981, 1418573201, 3294430577, 114585348, 1343618912, 2566595609, 3186202582, 1078185097, 3651041127, 3896688048, 2307622919, 425408743, 3371096953, 2081048481, 1108339068, 2216610296, 0, 2156299017, 736970802, 292596766, 1517440620, 251657213, 2235061775, 2933202493, 758720310, 265905162, 1554391400, 1532285339, 908999204, 174567692, 1474760595, 4002861748, 2610011675, 3234156416, 3693126241, 2001430874, 303699484, 2478443234, 2687165888, 585122620, 454499602, 151849742, 2345119218, 3064510765, 514443284, 4044981591, 1963412655, 2581445614, 2137062819, 19308535, 1928707164, 1715193156, 4219352155, 1126790795, 600235211, 3992742070, 3841024952, 836553431, 1669664834, 2535604243, 3323011204, 1243905413, 3141400786, 4180808110, 698445255, 2653899549, 2989552604, 2253581325, 3252932727, 3004591147, 1891211689, 2487810577, 3915653703, 4237083816, 4030667424, 2100090966, 865136418, 1229899655, 953270745, 3399679628, 3557504664, 4118925222, 2061379749, 3079546586, 2915017791, 983426092, 2022837584, 1607244650, 2118541908, 2366882550, 3635996816, 972512814, 3283088770, 1568718495, 3499326569, 3576539503, 621982671, 2895723464, 410887952, 2623762152, 1002142683, 645401037, 1494807662, 2595684844, 1335535747, 2507040230, 4293295786, 3167684641, 367585007, 3885750714, 1865862730, 2668221674, 2960971305, 2763173681, 1059270954, 2777952454, 2724642869, 1320957812, 2194319100, 2429595872, 2815956275, 77089521, 3973773121, 3444575871, 2448830231, 1305906550, 4021308739, 2857194700, 2516901860, 3518358430, 1787304780, 740276417, 1699839814, 1592394909, 2352307457, 2272556026, 188821243, 1729977011, 3687994002, 274084841, 3594982253, 3613494426, 2701949495, 4162096729, 322734571, 2837966542, 1640576439, 484830689, 1202797690, 3537852828, 4067639125, 349075736, 3342319475, 4157467219, 4255800159, 1030690015, 1155237496, 2951971274, 1757691577, 607398968, 2738905026, 499347990, 3794078908, 1011452712, 227885567, 2818666809, 213114376, 3034881240, 1455525988, 3414450555, 850817237, 1817998408, 3092726480], j = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795], q = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855], K = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150], X = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925];
    function ce(m) {
      for (var h = [], v = 0; v < m.length; v += 4)
        h.push(
          m[v] << 24 | m[v + 1] << 16 | m[v + 2] << 8 | m[v + 3]
        );
      return h;
    }
    var ee = function(m) {
      if (!(this instanceof ee))
        throw Error("AES must be instanitated with `new`");
      Object.defineProperty(this, "key", {
        value: s(m, !0)
      }), this._prepare();
    };
    ee.prototype._prepare = function() {
      var m = f[this.key.length];
      if (m == null)
        throw new Error("invalid key size (must be 16, 24 or 32 bytes)");
      this._Ke = [], this._Kd = [];
      for (var h = 0; h <= m; h++)
        this._Ke.push([0, 0, 0, 0]), this._Kd.push([0, 0, 0, 0]);
      for (var v = (m + 1) * 4, I = this.key.length / 4, d = ce(this.key), T, h = 0; h < I; h++)
        T = h >> 2, this._Ke[T][h % 4] = d[h], this._Kd[m - T][h % 4] = d[h];
      for (var $ = 0, D = I, F; D < v; ) {
        if (F = d[I - 1], d[0] ^= b[F >> 16 & 255] << 24 ^ b[F >> 8 & 255] << 16 ^ b[F & 255] << 8 ^ b[F >> 24 & 255] ^ p[$] << 24, $ += 1, I != 8)
          for (var h = 1; h < I; h++)
            d[h] ^= d[h - 1];
        else {
          for (var h = 1; h < I / 2; h++)
            d[h] ^= d[h - 1];
          F = d[I / 2 - 1], d[I / 2] ^= b[F & 255] ^ b[F >> 8 & 255] << 8 ^ b[F >> 16 & 255] << 16 ^ b[F >> 24 & 255] << 24;
          for (var h = I / 2 + 1; h < I; h++)
            d[h] ^= d[h - 1];
        }
        for (var h = 0, Y, H; h < I && D < v; )
          Y = D >> 2, H = D % 4, this._Ke[Y][H] = d[h], this._Kd[m - Y][H] = d[h++], D++;
      }
      for (var Y = 1; Y < m; Y++)
        for (var H = 0; H < 4; H++)
          F = this._Kd[Y][H], this._Kd[Y][H] = j[F >> 24 & 255] ^ q[F >> 16 & 255] ^ K[F >> 8 & 255] ^ X[F & 255];
    }, ee.prototype.encrypt = function(m) {
      if (m.length != 16)
        throw new Error("invalid plaintext size (must be 16 bytes)");
      for (var h = this._Ke.length - 1, v = [0, 0, 0, 0], I = ce(m), d = 0; d < 4; d++)
        I[d] ^= this._Ke[0][d];
      for (var T = 1; T < h; T++) {
        for (var d = 0; d < 4; d++)
          v[d] = A[I[d] >> 24 & 255] ^ C[I[(d + 1) % 4] >> 16 & 255] ^ S[I[(d + 2) % 4] >> 8 & 255] ^ k[I[(d + 3) % 4] & 255] ^ this._Ke[T][d];
        I = v.slice();
      }
      for (var $ = o(16), D, d = 0; d < 4; d++)
        D = this._Ke[h][d], $[4 * d] = (b[I[d] >> 24 & 255] ^ D >> 24) & 255, $[4 * d + 1] = (b[I[(d + 1) % 4] >> 16 & 255] ^ D >> 16) & 255, $[4 * d + 2] = (b[I[(d + 2) % 4] >> 8 & 255] ^ D >> 8) & 255, $[4 * d + 3] = (b[I[(d + 3) % 4] & 255] ^ D) & 255;
      return $;
    }, ee.prototype.decrypt = function(m) {
      if (m.length != 16)
        throw new Error("invalid ciphertext size (must be 16 bytes)");
      for (var h = this._Kd.length - 1, v = [0, 0, 0, 0], I = ce(m), d = 0; d < 4; d++)
        I[d] ^= this._Kd[0][d];
      for (var T = 1; T < h; T++) {
        for (var d = 0; d < 4; d++)
          v[d] = O[I[d] >> 24 & 255] ^ L[I[(d + 3) % 4] >> 16 & 255] ^ B[I[(d + 2) % 4] >> 8 & 255] ^ N[I[(d + 1) % 4] & 255] ^ this._Kd[T][d];
        I = v.slice();
      }
      for (var $ = o(16), D, d = 0; d < 4; d++)
        D = this._Kd[h][d], $[4 * d] = (w[I[d] >> 24 & 255] ^ D >> 24) & 255, $[4 * d + 1] = (w[I[(d + 3) % 4] >> 16 & 255] ^ D >> 16) & 255, $[4 * d + 2] = (w[I[(d + 2) % 4] >> 8 & 255] ^ D >> 8) & 255, $[4 * d + 3] = (w[I[(d + 1) % 4] & 255] ^ D) & 255;
      return $;
    };
    var be = function(m) {
      if (!(this instanceof be))
        throw Error("AES must be instanitated with `new`");
      this.description = "Electronic Code Block", this.name = "ecb", this._aes = new ee(m);
    };
    be.prototype.encrypt = function(m) {
      if (m = s(m), m.length % 16 !== 0)
        throw new Error("invalid plaintext size (must be multiple of 16 bytes)");
      for (var h = o(m.length), v = o(16), I = 0; I < m.length; I += 16)
        a(m, v, 0, I, I + 16), v = this._aes.encrypt(v), a(v, h, I);
      return h;
    }, be.prototype.decrypt = function(m) {
      if (m = s(m), m.length % 16 !== 0)
        throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");
      for (var h = o(m.length), v = o(16), I = 0; I < m.length; I += 16)
        a(m, v, 0, I, I + 16), v = this._aes.decrypt(v), a(v, h, I);
      return h;
    };
    var _ = function(m, h) {
      if (!(this instanceof _))
        throw Error("AES must be instanitated with `new`");
      if (this.description = "Cipher Block Chaining", this.name = "cbc", !h)
        h = o(16);
      else if (h.length != 16)
        throw new Error("invalid initialation vector size (must be 16 bytes)");
      this._lastCipherblock = s(h, !0), this._aes = new ee(m);
    };
    _.prototype.encrypt = function(m) {
      if (m = s(m), m.length % 16 !== 0)
        throw new Error("invalid plaintext size (must be multiple of 16 bytes)");
      for (var h = o(m.length), v = o(16), I = 0; I < m.length; I += 16) {
        a(m, v, 0, I, I + 16);
        for (var d = 0; d < 16; d++)
          v[d] ^= this._lastCipherblock[d];
        this._lastCipherblock = this._aes.encrypt(v), a(this._lastCipherblock, h, I);
      }
      return h;
    }, _.prototype.decrypt = function(m) {
      if (m = s(m), m.length % 16 !== 0)
        throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");
      for (var h = o(m.length), v = o(16), I = 0; I < m.length; I += 16) {
        a(m, v, 0, I, I + 16), v = this._aes.decrypt(v);
        for (var d = 0; d < 16; d++)
          h[I + d] = v[d] ^ this._lastCipherblock[d];
        a(m, this._lastCipherblock, 0, I, I + 16);
      }
      return h;
    };
    var u = function(m, h, v) {
      if (!(this instanceof u))
        throw Error("AES must be instanitated with `new`");
      if (this.description = "Cipher Feedback", this.name = "cfb", !h)
        h = o(16);
      else if (h.length != 16)
        throw new Error("invalid initialation vector size (must be 16 size)");
      v || (v = 1), this.segmentSize = v, this._shiftRegister = s(h, !0), this._aes = new ee(m);
    };
    u.prototype.encrypt = function(m) {
      if (m.length % this.segmentSize != 0)
        throw new Error("invalid plaintext size (must be segmentSize bytes)");
      for (var h = s(m, !0), v, I = 0; I < h.length; I += this.segmentSize) {
        v = this._aes.encrypt(this._shiftRegister);
        for (var d = 0; d < this.segmentSize; d++)
          h[I + d] ^= v[d];
        a(this._shiftRegister, this._shiftRegister, 0, this.segmentSize), a(h, this._shiftRegister, 16 - this.segmentSize, I, I + this.segmentSize);
      }
      return h;
    }, u.prototype.decrypt = function(m) {
      if (m.length % this.segmentSize != 0)
        throw new Error("invalid ciphertext size (must be segmentSize bytes)");
      for (var h = s(m, !0), v, I = 0; I < h.length; I += this.segmentSize) {
        v = this._aes.encrypt(this._shiftRegister);
        for (var d = 0; d < this.segmentSize; d++)
          h[I + d] ^= v[d];
        a(this._shiftRegister, this._shiftRegister, 0, this.segmentSize), a(m, this._shiftRegister, 16 - this.segmentSize, I, I + this.segmentSize);
      }
      return h;
    };
    var g = function(m, h) {
      if (!(this instanceof g))
        throw Error("AES must be instanitated with `new`");
      if (this.description = "Output Feedback", this.name = "ofb", !h)
        h = o(16);
      else if (h.length != 16)
        throw new Error("invalid initialation vector size (must be 16 bytes)");
      this._lastPrecipher = s(h, !0), this._lastPrecipherIndex = 16, this._aes = new ee(m);
    };
    g.prototype.encrypt = function(m) {
      for (var h = s(m, !0), v = 0; v < h.length; v++)
        this._lastPrecipherIndex === 16 && (this._lastPrecipher = this._aes.encrypt(this._lastPrecipher), this._lastPrecipherIndex = 0), h[v] ^= this._lastPrecipher[this._lastPrecipherIndex++];
      return h;
    }, g.prototype.decrypt = g.prototype.encrypt;
    var x = function(m) {
      if (!(this instanceof x))
        throw Error("Counter must be instanitated with `new`");
      m !== 0 && !m && (m = 1), typeof m == "number" ? (this._counter = o(16), this.setValue(m)) : this.setBytes(m);
    };
    x.prototype.setValue = function(m) {
      if (typeof m != "number" || parseInt(m) != m)
        throw new Error("invalid counter value (must be an integer)");
      for (var h = 15; h >= 0; --h)
        this._counter[h] = m % 256, m = m >> 8;
    }, x.prototype.setBytes = function(m) {
      if (m = s(m, !0), m.length != 16)
        throw new Error("invalid counter bytes size (must be 16 bytes)");
      this._counter = m;
    }, x.prototype.increment = function() {
      for (var m = 15; m >= 0; m--)
        if (this._counter[m] === 255)
          this._counter[m] = 0;
        else {
          this._counter[m]++;
          break;
        }
    };
    var y = function(m, h) {
      if (!(this instanceof y))
        throw Error("AES must be instanitated with `new`");
      this.description = "Counter", this.name = "ctr", h instanceof x || (h = new x(h)), this._counter = h, this._remainingCounter = null, this._remainingCounterIndex = 16, this._aes = new ee(m);
    };
    y.prototype.encrypt = function(m) {
      for (var h = s(m, !0), v = 0; v < h.length; v++)
        this._remainingCounterIndex === 16 && (this._remainingCounter = this._aes.encrypt(this._counter._counter), this._remainingCounterIndex = 0, this._counter.increment()), h[v] ^= this._remainingCounter[this._remainingCounterIndex++];
      return h;
    }, y.prototype.decrypt = y.prototype.encrypt;
    function E(m) {
      m = s(m, !0);
      var h = 16 - m.length % 16, v = o(m.length + h);
      a(m, v);
      for (var I = m.length; I < v.length; I++)
        v[I] = h;
      return v;
    }
    function P(m) {
      if (m = s(m, !0), m.length < 16)
        throw new Error("PKCS#7 invalid length");
      var h = m[m.length - 1];
      if (h > 16)
        throw new Error("PKCS#7 padding byte out of range");
      for (var v = m.length - h, I = 0; I < h; I++)
        if (m[v + I] !== h)
          throw new Error("PKCS#7 invalid padding byte");
      var d = o(v);
      return a(m, d, 0, 0, v), d;
    }
    var R = {
      AES: ee,
      Counter: x,
      ModeOfOperation: {
        ecb: be,
        cbc: _,
        cfb: u,
        ofb: g,
        ctr: y
      },
      utils: {
        hex: l,
        utf8: c
      },
      padding: {
        pkcs7: {
          pad: E,
          strip: P
        }
      },
      _arrayTest: {
        coerceArray: s,
        createArray: o,
        copyArray: a
      }
    };
    r.exports = R;
  })();
})(Bw);
const UI = Bw.exports, $w = "json-wallets/5.7.0";
const VI = new M($w);
var Lw = { exports: {} };
(function(r, e) {
  (function(t) {
    function i(C) {
      const S = new Uint32Array([
        1116352408,
        1899447441,
        3049323471,
        3921009573,
        961987163,
        1508970993,
        2453635748,
        2870763221,
        3624381080,
        310598401,
        607225278,
        1426881987,
        1925078388,
        2162078206,
        2614888103,
        3248222580,
        3835390401,
        4022224774,
        264347078,
        604807628,
        770255983,
        1249150122,
        1555081692,
        1996064986,
        2554220882,
        2821834349,
        2952996808,
        3210313671,
        3336571891,
        3584528711,
        113926993,
        338241895,
        666307205,
        773529912,
        1294757372,
        1396182291,
        1695183700,
        1986661051,
        2177026350,
        2456956037,
        2730485921,
        2820302411,
        3259730800,
        3345764771,
        3516065817,
        3600352804,
        4094571909,
        275423344,
        430227734,
        506948616,
        659060556,
        883997877,
        958139571,
        1322822218,
        1537002063,
        1747873779,
        1955562222,
        2024104815,
        2227730452,
        2361852424,
        2428436474,
        2756734187,
        3204031479,
        3329325298
      ]);
      let k = 1779033703, O = 3144134277, L = 1013904242, B = 2773480762, N = 1359893119, j = 2600822924, q = 528734635, K = 1541459225;
      const X = new Uint32Array(64);
      function ce(y) {
        let E = 0, P = y.length;
        for (; P >= 64; ) {
          let R = k, m = O, h = L, v = B, I = N, d = j, T = q, $ = K, D, F, Y, H, G;
          for (F = 0; F < 16; F++)
            Y = E + F * 4, X[F] = (y[Y] & 255) << 24 | (y[Y + 1] & 255) << 16 | (y[Y + 2] & 255) << 8 | y[Y + 3] & 255;
          for (F = 16; F < 64; F++)
            D = X[F - 2], H = (D >>> 17 | D << 32 - 17) ^ (D >>> 19 | D << 32 - 19) ^ D >>> 10, D = X[F - 15], G = (D >>> 7 | D << 32 - 7) ^ (D >>> 18 | D << 32 - 18) ^ D >>> 3, X[F] = (H + X[F - 7] | 0) + (G + X[F - 16] | 0) | 0;
          for (F = 0; F < 64; F++)
            H = (((I >>> 6 | I << 32 - 6) ^ (I >>> 11 | I << 32 - 11) ^ (I >>> 25 | I << 32 - 25)) + (I & d ^ ~I & T) | 0) + ($ + (S[F] + X[F] | 0) | 0) | 0, G = ((R >>> 2 | R << 32 - 2) ^ (R >>> 13 | R << 32 - 13) ^ (R >>> 22 | R << 32 - 22)) + (R & m ^ R & h ^ m & h) | 0, $ = T, T = d, d = I, I = v + H | 0, v = h, h = m, m = R, R = H + G | 0;
          k = k + R | 0, O = O + m | 0, L = L + h | 0, B = B + v | 0, N = N + I | 0, j = j + d | 0, q = q + T | 0, K = K + $ | 0, E += 64, P -= 64;
        }
      }
      ce(C);
      let ee, be = C.length % 64, _ = C.length / 536870912 | 0, u = C.length << 3, g = be < 56 ? 56 : 120, x = C.slice(C.length - be, C.length);
      for (x.push(128), ee = be + 1; ee < g; ee++)
        x.push(0);
      return x.push(_ >>> 24 & 255), x.push(_ >>> 16 & 255), x.push(_ >>> 8 & 255), x.push(_ >>> 0 & 255), x.push(u >>> 24 & 255), x.push(u >>> 16 & 255), x.push(u >>> 8 & 255), x.push(u >>> 0 & 255), ce(x), [
        k >>> 24 & 255,
        k >>> 16 & 255,
        k >>> 8 & 255,
        k >>> 0 & 255,
        O >>> 24 & 255,
        O >>> 16 & 255,
        O >>> 8 & 255,
        O >>> 0 & 255,
        L >>> 24 & 255,
        L >>> 16 & 255,
        L >>> 8 & 255,
        L >>> 0 & 255,
        B >>> 24 & 255,
        B >>> 16 & 255,
        B >>> 8 & 255,
        B >>> 0 & 255,
        N >>> 24 & 255,
        N >>> 16 & 255,
        N >>> 8 & 255,
        N >>> 0 & 255,
        j >>> 24 & 255,
        j >>> 16 & 255,
        j >>> 8 & 255,
        j >>> 0 & 255,
        q >>> 24 & 255,
        q >>> 16 & 255,
        q >>> 8 & 255,
        q >>> 0 & 255,
        K >>> 24 & 255,
        K >>> 16 & 255,
        K >>> 8 & 255,
        K >>> 0 & 255
      ];
    }
    function s(C, S, k) {
      C = C.length <= 64 ? C : i(C);
      const O = 64 + S.length + 4, L = new Array(O), B = new Array(64);
      let N, j = [];
      for (N = 0; N < 64; N++)
        L[N] = 54;
      for (N = 0; N < C.length; N++)
        L[N] ^= C[N];
      for (N = 0; N < S.length; N++)
        L[64 + N] = S[N];
      for (N = O - 4; N < O; N++)
        L[N] = 0;
      for (N = 0; N < 64; N++)
        B[N] = 92;
      for (N = 0; N < C.length; N++)
        B[N] ^= C[N];
      function q() {
        for (let K = O - 1; K >= O - 4; K--) {
          if (L[K]++, L[K] <= 255)
            return;
          L[K] = 0;
        }
      }
      for (; k >= 32; )
        q(), j = j.concat(i(B.concat(i(L)))), k -= 32;
      return k > 0 && (q(), j = j.concat(i(B.concat(i(L))).slice(0, k))), j;
    }
    function o(C, S, k, O, L) {
      let B;
      for (f(C, (2 * k - 1) * 16, L, 0, 16), B = 0; B < 2 * k; B++)
        l(C, B * 16, L, 16), c(L, O), f(L, 0, C, S + B * 16, 16);
      for (B = 0; B < k; B++)
        f(C, S + B * 2 * 16, C, B * 16, 16);
      for (B = 0; B < k; B++)
        f(C, S + (B * 2 + 1) * 16, C, (B + k) * 16, 16);
    }
    function a(C, S) {
      return C << S | C >>> 32 - S;
    }
    function c(C, S) {
      f(C, 0, S, 0, 16);
      for (let k = 8; k > 0; k -= 2)
        S[4] ^= a(S[0] + S[12], 7), S[8] ^= a(S[4] + S[0], 9), S[12] ^= a(S[8] + S[4], 13), S[0] ^= a(S[12] + S[8], 18), S[9] ^= a(S[5] + S[1], 7), S[13] ^= a(S[9] + S[5], 9), S[1] ^= a(S[13] + S[9], 13), S[5] ^= a(S[1] + S[13], 18), S[14] ^= a(S[10] + S[6], 7), S[2] ^= a(S[14] + S[10], 9), S[6] ^= a(S[2] + S[14], 13), S[10] ^= a(S[6] + S[2], 18), S[3] ^= a(S[15] + S[11], 7), S[7] ^= a(S[3] + S[15], 9), S[11] ^= a(S[7] + S[3], 13), S[15] ^= a(S[11] + S[7], 18), S[1] ^= a(S[0] + S[3], 7), S[2] ^= a(S[1] + S[0], 9), S[3] ^= a(S[2] + S[1], 13), S[0] ^= a(S[3] + S[2], 18), S[6] ^= a(S[5] + S[4], 7), S[7] ^= a(S[6] + S[5], 9), S[4] ^= a(S[7] + S[6], 13), S[5] ^= a(S[4] + S[7], 18), S[11] ^= a(S[10] + S[9], 7), S[8] ^= a(S[11] + S[10], 9), S[9] ^= a(S[8] + S[11], 13), S[10] ^= a(S[9] + S[8], 18), S[12] ^= a(S[15] + S[14], 7), S[13] ^= a(S[12] + S[15], 9), S[14] ^= a(S[13] + S[12], 13), S[15] ^= a(S[14] + S[13], 18);
      for (let k = 0; k < 16; ++k)
        C[k] += S[k];
    }
    function l(C, S, k, O) {
      for (let L = 0; L < O; L++)
        k[L] ^= C[S + L];
    }
    function f(C, S, k, O, L) {
      for (; L--; )
        k[O++] = C[S++];
    }
    function p(C) {
      if (!C || typeof C.length != "number")
        return !1;
      for (let S = 0; S < C.length; S++) {
        const k = C[S];
        if (typeof k != "number" || k % 1 || k < 0 || k >= 256)
          return !1;
      }
      return !0;
    }
    function b(C, S) {
      if (typeof C != "number" || C % 1)
        throw new Error("invalid " + S);
      return C;
    }
    function w(C, S, k, O, L, B, N) {
      if (k = b(k, "N"), O = b(O, "r"), L = b(L, "p"), B = b(B, "dkLen"), k === 0 || (k & k - 1) !== 0)
        throw new Error("N must be power of 2");
      if (k > 2147483647 / 128 / O)
        throw new Error("N too large");
      if (O > 2147483647 / 128 / L)
        throw new Error("r too large");
      if (!p(C))
        throw new Error("password must be an array or buffer");
      if (C = Array.prototype.slice.call(C), !p(S))
        throw new Error("salt must be an array or buffer");
      S = Array.prototype.slice.call(S);
      let j = s(C, S, L * 128 * O);
      const q = new Uint32Array(L * 32 * O);
      for (let I = 0; I < q.length; I++) {
        const d = I * 4;
        q[I] = (j[d + 3] & 255) << 24 | (j[d + 2] & 255) << 16 | (j[d + 1] & 255) << 8 | (j[d + 0] & 255) << 0;
      }
      const K = new Uint32Array(64 * O), X = new Uint32Array(32 * O * k), ce = 32 * O, ee = new Uint32Array(16), be = new Uint32Array(16), _ = L * k * 2;
      let u = 0, g = null, x = !1, y = 0, E = 0, P, R;
      const m = N ? parseInt(1e3 / O) : 4294967295, h = typeof setImmediate < "u" ? setImmediate : setTimeout, v = function() {
        if (x)
          return N(new Error("cancelled"), u / _);
        let I;
        switch (y) {
          case 0:
            R = E * 32 * O, f(q, R, K, 0, ce), y = 1, P = 0;
          case 1:
            I = k - P, I > m && (I = m);
            for (let T = 0; T < I; T++)
              f(K, 0, X, (P + T) * ce, ce), o(K, ce, O, ee, be);
            if (P += I, u += I, N) {
              const T = parseInt(1e3 * u / _);
              if (T !== g) {
                if (x = N(null, u / _), x)
                  break;
                g = T;
              }
            }
            if (P < k)
              break;
            P = 0, y = 2;
          case 2:
            I = k - P, I > m && (I = m);
            for (let T = 0; T < I; T++) {
              const $ = (2 * O - 1) * 16, D = K[$] & k - 1;
              l(X, D * ce, K, ce), o(K, ce, O, ee, be);
            }
            if (P += I, u += I, N) {
              const T = parseInt(1e3 * u / _);
              if (T !== g) {
                if (x = N(null, u / _), x)
                  break;
                g = T;
              }
            }
            if (P < k)
              break;
            if (f(K, 0, q, R, ce), E++, E < L) {
              y = 0;
              break;
            }
            j = [];
            for (let T = 0; T < q.length; T++)
              j.push(q[T] >> 0 & 255), j.push(q[T] >> 8 & 255), j.push(q[T] >> 16 & 255), j.push(q[T] >> 24 & 255);
            const d = s(C, j, B);
            return N && N(null, 1, d), d;
        }
        N && h(v);
      };
      if (!N)
        for (; ; ) {
          const I = v();
          if (I != null)
            return I;
        }
      v();
    }
    const A = {
      scrypt: function(C, S, k, O, L, B, N) {
        return new Promise(function(j, q) {
          let K = 0;
          N && N(0), w(C, S, k, O, L, B, function(X, ce, ee) {
            if (X)
              q(X);
            else if (ee)
              N && K !== 1 && N(1), j(new Uint8Array(ee));
            else if (N && ce !== K)
              return K = ce, N(ce);
          });
        });
      },
      syncScrypt: function(C, S, k, O, L, B) {
        return new Uint8Array(w(C, S, k, O, L, B));
      }
    };
    r.exports = A;
  })();
})(Lw);
const jI = Lw.exports;
var WI = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const HI = new M($w);
const O9 = "wallet/5.7.0";
var GI = globalThis && globalThis.__awaiter || function(r, e, t, n) {
  function i(s) {
    return s instanceof t ? s : new t(function(o) {
      o(s);
    });
  }
  return new (t || (t = Promise))(function(s, o) {
    function a(f) {
      try {
        l(n.next(f));
      } catch (p) {
        o(p);
      }
    }
    function c(f) {
      try {
        l(n.throw(f));
      } catch (p) {
        o(p);
      }
    }
    function l(f) {
      f.done ? s(f.value) : i(f.value).then(a, c);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
const KI = new M(O9);
const N9 = "units/5.7.0", D9 = new M(N9), Fw = [
  "wei",
  "kwei",
  "mwei",
  "gwei",
  "szabo",
  "finney",
  "ether"
];
function B9(r, e) {
  if (typeof e == "string") {
    const t = Fw.indexOf(e);
    t !== -1 && (e = 3 * t);
  }
  return jl(r, e ?? 18);
}
function $9(r, e) {
  if (typeof r != "string" && D9.throwArgumentError("value must be a string", "value", r), typeof e == "string") {
    const t = Fw.indexOf(e);
    t !== -1 && (e = 3 * t);
  }
  return In(r, e ?? 18);
}
const L9 = "ethers/5.7.2";
new M(L9);
const F9 = new M("CeloNetworks"), ax = [
  {
    name: "celo",
    chainId: 42220
  },
  {
    name: "alfajores",
    chainId: 44787
  },
  {
    name: "baklava",
    chainId: 62320
  }
];
function Ed(r) {
  {
    if (r == null)
      return null;
    if (typeof r == "number") {
      const e = ax.filter((t) => t.chainId === r);
      return e.length ? { name: e[0].name, chainId: e[0].chainId } : {
        name: "unknown",
        chainId: r
      };
    }
    if (typeof r == "string") {
      const e = ax.filter((t) => t.name === r);
      return e.length ? { name: e[0].name, chainId: e[0].chainId } : null;
    }
    if (typeof r.name == "string" && typeof r.chainId == "number") {
      const e = Ed(r.name), t = Ed(r.chainId);
      if (e == null && t == null)
        return {
          name: r.name,
          chainId: r.chainId
        };
      if (e && t && e.name === t.name && e.chainId === t.chainId)
        return e;
    }
    return F9.throwArgumentError("network chainId mismatch", "network", r);
  }
}
const U9 = new M("celo/transactions");
function V9(r) {
  const e = uh(r);
  e.length !== 12 && e.length !== 9 && U9.throwArgumentError("invalid raw transaction", "rawTransaction", r);
  const t = {
    nonce: Na(e[0]).toNumber(),
    gasPrice: Na(e[1]),
    gasLimit: Na(e[2]),
    feeCurrency: Tf(e[3]),
    gatewayFeeRecipient: Tf(e[4]),
    gatewayFee: Na(e[5]),
    to: Tf(e[6]),
    value: Na(e[7]),
    data: e[8],
    chainId: 0
  };
  if (e.length === 9)
    return t;
  try {
    t.v = V.from(e[9]).toNumber();
  } catch (n) {
    return console.log(n), t;
  }
  if (t.r = Le(e[10], 32), t.s = Le(e[11], 32), V.from(t.r).isZero() && V.from(t.s).isZero())
    t.chainId = t.v, t.v = 0;
  else {
    t.chainId = Math.floor((t.v - 35) / 2), t.chainId < 0 && (t.chainId = 0);
    let n = t.v - 27;
    const i = e.slice(0, 6);
    t.chainId !== 0 && (i.push(re(t.chainId)), i.push("0x"), i.push("0x"), n -= t.chainId * 2 + 8);
    const s = Rt(Zc(i));
    try {
      t.from = q0(s, {
        r: re(t.r),
        s: re(t.s),
        recoveryParam: n
      });
    } catch (o) {
      console.log(o);
    }
    t.hash = Rt(r);
  }
  return t;
}
function Tf(r) {
  if (r !== "0x")
    try {
      return Tt(r);
    } catch {
      return r;
    }
}
function Na(r) {
  return r === "0x" ? j0 : V.from(r);
}
const j9 = new M("CeloProvider");
class W9 extends J0 {
  constructor(e, t) {
    super(e, t);
    const n = this.formatter.formats.block;
    n.gasLimit = () => V.from(0), n.nonce = () => "", n.difficulty = () => 0;
    const i = this.formatter.formats.blockWithTransactions;
    i.gasLimit = () => V.from(0), i.nonce = () => "", i.difficulty = () => 0;
  }
  async sendTransaction(e) {
    await this.getNetwork();
    const t = await Promise.resolve(e), n = re(t), i = V9(t);
    try {
      const s = await this.perform("sendTransaction", {
        signedTransaction: n
      });
      return this._wrapTransaction(i, s);
    } catch (s) {
      throw s.transaction = i, s.transactionHash = i.hash, s;
    }
  }
  async getGasPrice(e) {
    await this.getNetwork();
    const t = e ? { feeCurrencyAddress: e } : {};
    return V.from(await this.perform("getGasPrice", t));
  }
  prepareRequest(e, t) {
    return e === "getGasPrice" ? ["eth_gasPrice", t.feeCurrencyAddress ? [t.feeCurrencyAddress] : []] : super.prepareRequest(e, t);
  }
  static getNetwork(e) {
    const t = Ed(e ?? "celo");
    return t ?? j9.throwError(`unknown network: ${JSON.stringify(t)}`, M.errors.UNSUPPORTED_OPERATION, {
      operation: "getNetwork",
      value: e
    });
  }
}
const zI = new M("CeloWallet"), qI = [
  M.errors.INSUFFICIENT_FUNDS,
  M.errors.NONCE_EXPIRED,
  M.errors.REPLACEMENT_UNDERPRICED
];
const H9 = "@kolektivo/dapp", G9 = "A collection of institutional technologies that open up new opportunities for local communities to govern and finance their own regenerative economies.", K9 = "1.0.0", z9 = {
  type: "git",
  url: "https://github.com/Kolektivo/dapp"
}, q9 = "CL Cybernetix GmbH", Q9 = "./", J9 = "MIT", Y9 = {
  node: ">=16.0.0"
}, X9 = {
  http: !1
}, Z9 = {
  "lint:js": "eslint src --ext .js,.ts",
  "lint:fix": "eslint src  --fix",
  "lint:scss:fix": 'stylelint "src/**/*.scss" --fix',
  "lint:scss": 'stylelint "src/**/*.scss"',
  "lint:html": "htmlhint -c .htmlhintrc src design-system ",
  lint: "npm run lint:js && npm run lint:html && npm run lint:scss",
  clean: "npx -y rimraf node_modules package-lock.json && npm i",
  dev: "vite",
  start: "vite",
  build: "tsc && vite build",
  "build:chart-data-script": "vite build --config vite.config-lib.ts",
  "build:dev:chart-data-script": "vite build --config vite.config-lib.ts --mode development",
  "build:dev": "vite build --mode development",
  "preview-build": "vite preview --open",
  postinstall: "node build/postinstall/index.js",
  test: "vitest --no-threads",
  "test:ui": "vitest --ui",
  coverage: "vitest run --coverage",
  e2e: "playwright test",
  "e2e:watch": "playwright test --watch",
  "e2e:ci": "URL=$npm_config_url playwright test",
  "vercel:deploy": "vercel --token $npm_config_token",
  "vercel:deploy:production": "vercel --prod --token $npm_config_token",
  "vercel:alias": "vercel alias set $npm_config_deployment $npm_config_branch --token $npm_config_token --scope $npm_config_scope"
}, e_ = {
  "@aurelia/i18n": "dev",
  "@aurelia/validation-html": "dev",
  "@celo-tools/celo-ethers-wrapper": "^0.3.0",
  "@dethcrypto/eth-sdk": "^0.3.3",
  "@dethcrypto/eth-sdk-client": "^0.1.6",
  "@material-design-icons/svg": "^0.13.0",
  "@metamask/detect-provider": "^2.0.0",
  "@metamask/providers": "^10.0.0",
  "@walletconnect/web3-provider": "^1.8.0",
  aurelia: "dev",
  "browserify-zlib": "^0.2.0",
  buffer: "^6.0.3",
  "chart.js": "^3.9.1",
  cids: "^1.1.9",
  ethers: "^5.7.2",
  events: "^3.3.0",
  firebase: "^9.12.1",
  "i18next-chained-backend": "^4.0.0",
  "i18next-http-backend": "^2.0.0",
  "i18next-intervalplural-postprocessor": "^3.0.0",
  "i18next-localstorage-backend": "^4.0.0",
  "ipfs-core": "^0.16.1",
  "ipfs-http-client": "^58.0.1",
  "lit-js-sdk": "^1.2.17",
  process: "^0.11.10",
  "stream-browserify": "^3.0.0",
  uint8arrays: "^4.0.2",
  util: "^0.12.5",
  web3modal: "^1.9.9"
}, t_ = {
  "@aurelia/plugin-conventions": "dev",
  "@aurelia/testing": "dev",
  "@esbuild-plugins/node-globals-polyfill": "^0.1.1",
  "@playwright/test": "^1.27.1",
  "@rollup/plugin-inject": "^5.0.2",
  "@typechain/ethers-v5": "^10.1.0",
  "@types/node": "^18.11.4",
  "@typescript-eslint/eslint-plugin": "^5.40.1",
  "@typescript-eslint/parser": "^5.40.1",
  "@vitest/ui": "^0.24.3",
  "cross-env": "^7.0.3",
  eslint: "^8.26.0",
  "eslint-config-prettier": "^8.5.0",
  "eslint-import-resolver-typescript": "^3.5.2",
  "eslint-plugin-cypress": "^2.12.1",
  "eslint-plugin-import": "^2.26.0",
  "eslint-plugin-prettier": "^4.2.1",
  "eslint-plugin-sort-imports-es6-autofix": "^0.6.0",
  "eslint-plugin-unused-imports": "^2.0.0",
  "fs-extra": "^10.1.0",
  glob: "^8.0.3",
  "happy-dom": "^7.6.0",
  "html-loader": "^4.2.0",
  htmlhint: "^1.1.4",
  "http-browserify": "1.7.0",
  "https-browserify": "^1.0.0",
  postcss: "^8.4.18",
  "postcss-loader": "^7.0.1",
  "rollup-plugin-html": "^0.2.1",
  "rollup-plugin-polyfill-node": "^0.10.2",
  "rollup-plugin-swc": "^0.2.1",
  "rollup-plugin-visualizer": "^5.8.3",
  "rollup-pluginutils": "^2.8.2",
  sass: "^1.55.0",
  stylelint: "^14.14.0",
  "stylelint-config-prettier": "^9.0.3",
  "stylelint-config-standard": "^29.0.0",
  "stylelint-config-standard-scss": "^5.0.0",
  "stylelint-prettier": "^2.0.0",
  tslib: "^2.4.0",
  typescript: "~4.8.4",
  "unplugin-swc": "^1.3.2",
  vercel: "^28.4.12",
  vite: "^3.1.8",
  "vite-svg-loader": "^3.6.0",
  "vite-tsconfig-paths": "^3.5.2",
  vitest: "^0.24.3",
  "vitest-mock-extended": "^1.0.2"
}, r_ = {
  terser: "npm:@swc/core"
}, n_ = {
  name: H9,
  description: G9,
  version: K9,
  repository: z9,
  author: q9,
  homepage: Q9,
  license: J9,
  engines: Y9,
  browser: X9,
  scripts: Z9,
  dependencies: e_,
  devDependencies: t_,
  resolutions: r_
}, xh = pe.createInterface("BrowserStorageService");
class Y0 {
  addVersion(e, t) {
    return {
      data: e,
      _version: t
    };
  }
  getKey(e) {
    return `${n_.name}.${e}`;
  }
  set(e, t, n, i) {
    const s = typeof i == "string" ? this.addVersion(n, i) : n;
    e.setItem(this.getKey(t), JSON.stringify(s));
  }
  get(e, t, n, i) {
    const s = e.getItem(this.getKey(t));
    if (typeof s == "string")
      try {
        const o = JSON.parse(s);
        if (typeof i == "string") {
          const a = o;
          return a._version === i ? a.data : n;
        } else
          return o;
      } catch {
        return n;
      }
    return n;
  }
  remove(e, t) {
    e.removeItem(this.getKey(t));
  }
  lsSet(e, t, n) {
    this.set(localStorage, e, t, n);
  }
  lsGet(e, t, n) {
    return this.get(localStorage, e, t, n);
  }
  lsRemove(e) {
    this.remove(localStorage, e);
  }
  ssSet(e, t, n) {
    this.set(sessionStorage, e, t, n);
  }
  ssGet(e, t, n) {
    return this.get(sessionStorage, e, t, n);
  }
  ssRemove(e) {
    this.remove(sessionStorage, e);
  }
  static register(e) {
    fe.singleton(xh, Y0).register(e);
  }
}
const vh = pe.createInterface();
function i_() {
  return fe.instance(vh, {
    ipfsGateway: H7,
    network: K7,
    isDevelopment: W7,
    etherscanLink: z7
  });
}
var xn = /* @__PURE__ */ ((r) => (r[r["1h"] = 0] = "1h", r[r["1d"] = 1] = "1d", r[r["1w"] = 2] = "1w", r[r["1m"] = 3] = "1m", r[r["1y"] = 4] = "1y", r))(xn || {});
function s_(r, e) {
  if (typeof r != "number" || Number.isInteger(r) || isNaN(r))
    return r;
  const t = r.toString().split(".");
  return Number(`${t[0]}.${t[1].slice(0, e)}`);
}
function Va(r) {
  switch (r) {
    case xn["1d"]:
      return "hour";
    case xn["1h"]:
      return "minute";
    case xn["1m"]:
    case xn["1w"]:
    case xn["1y"]:
      return "day";
  }
}
function ja(r) {
  const e = new Date();
  switch (r) {
    case xn["1h"]:
      e.setMinutes(e.getMinutes() - 60);
      break;
    case xn["1d"]:
      e.setHours(e.getHours() - 24);
      break;
    case xn["1w"]:
      e.setDate(e.getDate() - 7);
      break;
    case xn["1m"]:
      e.setMonth(e.getMonth() - 1);
      break;
    case xn["1y"]:
      e.setFullYear(e.getFullYear() - 1);
      break;
  }
  return e.getTime();
}
var Uo = /* @__PURE__ */ ((r) => (r.Celo = "Celo", r.Alfajores = "Alfajores", r))(Uo || {});
const Uw = pe.createInterface();
var o_ = Object.defineProperty, a_ = Object.getOwnPropertyDescriptor, c_ = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? a_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && o_(e, t, i), i;
}, l_ = (r, e) => (t, n) => e(t, n, r);
const Vw = pe.createInterface();
let cx = class {
  constructor(r) {
    this.walletConnector = r;
  }
  provider;
  async connect(r) {
    this.provider = r ? await this.walletConnector.connectTo(r) : await this.walletConnector.connect();
  }
};
cx = c_([
  l_(0, Uw)
], cx);
function X0(r) {
  return function(e, t, n) {
    const i = `${e.constructor.name}_${t}`, s = n.value;
    return n.value = function(...o) {
      const { storage: a } = r.call(this), c = `${i}_${JSON.stringify(o)}`;
      let l = a.getItem(c);
      return l || (l = s?.apply(this, o), a.setItem(c, l), l);
    }, n;
  };
}
const lx = /* @__PURE__ */ new Map([
  [Uo.Celo, 42220],
  [Uo.Alfajores, 44787]
]);
function u_({ mustBeMetaMask: r = !1, silent: e = !1, timeout: t = 3e3 } = {}) {
  i();
  let n = !1;
  return new Promise((s) => {
    window.ethereum ? o() : (window.addEventListener("ethereum#initialized", o, { once: !0 }), setTimeout(() => {
      o();
    }, t));
    function o() {
      if (n)
        return;
      n = !0, window.removeEventListener("ethereum#initialized", o);
      const { ethereum: a } = window;
      a && (!r || a.isMetaMask) ? s(a) : (!e && console.error("@metamask/detect-provider:", r && a ? "Non-MetaMask window.ethereum detected." : "Unable to detect window.ethereum."), s(null));
    }
  });
  function i() {
    if (typeof r != "boolean")
      throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");
    if (typeof e != "boolean")
      throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");
    if (typeof t != "number")
      throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.");
  }
}
var h_ = u_, f_ = Object.defineProperty, d_ = Object.getOwnPropertyDescriptor, jw = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? d_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && f_(e, t, i), i;
}, So = (r, e) => (t, n) => e(t, n, r);
const il = pe.createInterface("EthereumService");
let Yo = class {
  constructor(r, e, t, n, i, s) {
    this.eventAggregator = r, this.storageService = e, this.logger = t, this.configuration = n, this.cacheService = i, this.walletProvider = s, this.logger = t.scopeTo("EthereumService"), this.initialize();
  }
  static register(r) {
    fe.singleton(il, Yo).register(r);
  }
  targetedNetwork = null;
  targetedChainId;
  lastBlock;
  readOnlyProvider = {};
  providerForCeloWithEthers = {};
  currentProvider;
  defaultAccountAddress = null;
  defaultAccount;
  endpoints = {
    Celo: "https://celo.rpcs.dev:8545",
    Alfajores: "https://alfajores.rpcs.dev:8545"
  };
  initialize() {
    if (typeof this.configuration.network != "string")
      throw new Error("Ethereum.initialize: network must be specified");
    if (this.targetedNetwork = this.configuration.network, this.targetedChainId = lx.get(this.targetedNetwork), !lx.get(this.configuration.network))
      throw new Error("Ethereum.initialize: `unsupported network");
    if (typeof this.endpoints[this.targetedNetwork] != "string")
      throw new Error(`Please connect your wallet to either ${Uo.Celo} or ${Uo.Alfajores}`);
    this.readOnlyProvider = new J0(
      { url: this.endpoints[this.targetedNetwork], skipFetchSetup: !0 },
      {
        name: this.targetedNetwork.toLowerCase(),
        chainId: this.targetedChainId ?? 0
      }
    ), this.providerForCeloWithEthers = new W9(
      { url: this.endpoints[this.targetedNetwork], skipFetchSetup: !0 },
      {
        name: this.targetedNetwork.toLowerCase(),
        chainId: this.targetedChainId ?? 0
      }
    );
  }
  async getCurrentAccountFromProvider(r) {
    let e;
    if (ns.isSigner(r))
      e = r;
    else {
      const t = await r.listAccounts();
      t?.length ? e = Tt(t[0]) : e = null;
    }
    return e;
  }
  fireAccountsChangedHandler(r) {
    this.logger.info(`account changed: ${r ?? "null"}`), this.eventAggregator.publish("Network.Changed.Account", r);
  }
  fireChainChangedHandler(r) {
    this.logger.info(`chain changed: ${r.chainId ?? "undefined"}`), this.eventAggregator.publish("Network.Changed.Id", r);
  }
  fireConnectHandler(r) {
    this.logger.info(`connected: ${r.chainName ?? "undefined"}`), this.eventAggregator.publish("Network.Changed.Connected", r);
  }
  fireDisconnectHandler(r) {
    this.logger.info(`disconnected: ${r.code}: ${r.message}`), this.eventAggregator.publish("Network.Changed.Disconnect", r);
  }
  async getDefaultAccountAddress() {
    if (!this.defaultAccount)
      throw new Error("getDefaultAccountAddress: no defaultAccount");
    return ns.isSigner(this.defaultAccount) ? await this.defaultAccount.getAddress() : Tt(this.defaultAccount);
  }
  createSignerOrProvider() {
    return this.createSignerOrProviderForAddress(this.defaultAccountAddress);
  }
  createSignerOrProviderForAddress(r) {
    let e;
    return r && this.currentProvider ? e = ns.isSigner(r) ? r : this.currentProvider.getSigner(r) : e = this.readOnlyProvider, e;
  }
  getDefaultSigner() {
    if (!this.defaultAccountAddress)
      throw new Error("getDefaultSigner: no defaultAccountAddress");
    if (!this.currentProvider)
      throw new Error("getDefaultSigner: no walletProvider");
    return this.currentProvider.getSigner(this.defaultAccountAddress);
  }
  async connect() {
    await this.walletProvider.connect(), this.setProvider();
  }
  async connectKolektivoWallet() {
    await this.walletProvider.connect("walletconnect"), this.setProvider();
  }
  ensureConnected() {
    return this.defaultAccountAddress ? !0 : (this.connect(), !1);
  }
  async connectToConnectedProvider() {
    const r = await h_({ mustBeMetaMask: !0 });
    if (!(!r || !await r._metamask.isUnlocked() || Number(await r.request({ method: "eth_chainId" })) !== this.targetedChainId) && !!(await r.request({ method: "eth_accounts" })).length)
      return this.walletProvider.provider = r, this.setProvider();
  }
  cleanNetworkName(r) {
    if (r) {
      const e = Object.assign(r);
      return e.name === "homestead" ? e.name = "Ethereum Mainnet" : e.name === "unknown" && (e.chainId == this.targetedChainId ? e.name = this.targetedNetwork ?? "" : e.name = ""), e;
    }
    return null;
  }
  async getNetwork(r) {
    const e = await r.getNetwork();
    return this.cleanNetworkName(e);
  }
  async setProvider() {
    try {
      if (!this.walletProvider.provider)
        return;
      const r = new _9(this.walletProvider.provider), e = await this.getNetwork(r);
      if (!e)
        return;
      e.chainId !== this.targetedChainId ? this.eventAggregator.publish("Network.wrongNetwork", {
        connectedTo: e.name,
        need: this.targetedNetwork
      }) : (this.currentProvider = r, this.defaultAccount = await this.getCurrentAccountFromProvider(this.currentProvider), this.defaultAccountAddress = await this.getDefaultAccountAddress(), this.fireConnectHandler({ chainId: e.chainId, chainName: e.name, provider: this.currentProvider }), this.fireAccountsChangedHandler(this.defaultAccountAddress), this.walletProvider.provider.on("accountsChanged", (t) => void this.handleAccountsChanged(t)), this.walletProvider.provider.on("chainChanged", this.handleChainChanged), this.walletProvider.provider.on("disconnect", (t) => this.handleDisconnect(t)));
    } catch (r) {
      this.logger.error(`Error connecting to wallet provider ${r?.message}`), alert(`Error connecting to wallet provider ${r?.message}`);
    }
  }
  async handleAccountsChanged(r) {
    this.currentProvider && (this.defaultAccount = await this.getCurrentAccountFromProvider(this.currentProvider), this.defaultAccountAddress = await this.getDefaultAccountAddress(), this.fireAccountsChangedHandler(r?.length ? Tt(r[0]) : null));
  }
  handleChainChanged = (r) => {
    let e = kw(Number(r));
    if (e = this.cleanNetworkName(e), !!e)
      if (e.chainId !== this.targetedChainId) {
        this.eventAggregator.publish("Network.wrongNetwork", {
          connectedTo: e.name,
          need: this.targetedNetwork
        });
        return;
      } else
        this.fireChainChangedHandler({ chainId: e.chainId, chainName: e.name, provider: this.currentProvider ?? null });
  };
  handleDisconnect = (r) => {
    this.disconnect(r);
  };
  disconnect(r) {
    this.walletProvider.provider?.removeListener("accountsChanged", (e) => void this.handleAccountsChanged(e)), this.walletProvider.provider?.removeListener("chainChanged", this.handleChainChanged), this.walletProvider.provider?.removeListener("disconnect", this.handleDisconnect), this.defaultAccount = void 0, this.defaultAccountAddress = null, this.fireAccountsChangedHandler(null), this.currentProvider = void 0, this.fireDisconnectHandler(r);
  }
  async switchToTargetedNetwork() {
    if (typeof this.targetedChainId != "number")
      return !1;
    const r = `0x${this.targetedChainId.toString(16)}`;
    try {
      return await this.walletProvider.provider?.request?.({
        method: "wallet_switchEthereumChain",
        params: [{ chainId: r }]
      }), await this.setProvider(), !0;
    } catch (e) {
      if (e.code !== 4001) {
        if (e.code === 4902)
          throw new Error(`The ${this.targetedNetwork ?? "unknown"} network is not installed in your Metamask configuration`);
      }
    }
    return !1;
  }
  async addTokenToMetamask(r, e, t, n) {
    let i = !1;
    if (this.currentProvider) {
      if (this.getMetamaskHasToken(r))
        return !0;
      try {
        i = await this.walletProvider.provider?.request?.({
          method: "wallet_watchAsset",
          params: [
            {
              type: "ERC20",
              options: {
                address: r,
                symbol: e,
                decimals: t,
                image: n
              }
            }
          ]
        }), i && this.setMetamaskHasToken(r);
      } catch (s) {
        this.logger.error(s);
      }
    }
    return i;
  }
  getMetamaskHasToken(r) {
    if (!this.defaultAccountAddress)
      throw new Error("metamaskHasToken: no account");
    return !!this.storageService.lsGet(this.getKeyForMetamaskHasToken(r));
  }
  getKeyForMetamaskHasToken(r) {
    if (!this.defaultAccountAddress)
      throw new Error("getKeyForMetamaskHasToken: no account");
    return `${this.defaultAccountAddress}_${r}`;
  }
  setMetamaskHasToken(r) {
    if (!this.defaultAccountAddress)
      throw new Error("metamaskHasToken: no account");
    this.storageService.lsSet(this.getKeyForMetamaskHasToken(r), !0);
  }
  async getBlock(r) {
    const e = await this.providerForCeloWithEthers.getBlock(r);
    return e.blockDate = new Date(e.timestamp * 1e3), e;
  }
  getEtherscanLink(r, e = !1) {
    return r ? this.targetedNetwork === Uo.Celo ? `https://celoscan.io/${e ? "tx" : "address"}/${r}` : `https://alfajores-blockscout.celo-testnet.org/${e ? "tx" : "address"}/${r}` : "";
  }
  getEnsForAddress(r) {
    return this.readOnlyProvider.lookupAddress(r).catch(() => null);
  }
  getAddressForEns(r) {
    return this.readOnlyProvider.resolveName(r).catch(() => null);
  }
};
jw([
  X0(function() {
    return { storage: this.cacheService };
  })
], Yo.prototype, "createSignerOrProviderForAddress", 1);
Yo = jw([
  So(0, Zu),
  So(1, xh),
  So(2, oo),
  So(3, vh),
  So(4, ga),
  So(5, Vw)
], Yo);
const ux = (r, e) => {
  const t = typeof r;
  return (t === "string" || t === "number") && (r = s_(Number(r), Number(e))), $9(r.toString(), e);
}, zt = (r, e) => B9(r.toString(), e);
var p_ = Object.defineProperty, g_ = Object.getOwnPropertyDescriptor, Ww = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? g_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && p_(e, t, i), i;
}, hx = (r, e) => (t, n) => e(t, n, r);
const Aa = pe.createInterface();
let Xo = class {
  constructor(r, e) {
    this.cacheService = r, this.ethereumService = e;
  }
  static register(r) {
    fe.singleton(Aa, Xo).register(r);
  }
  callPopulateTransaction(r, e, ...t) {
    return r.populateTransaction[e].call(t);
  }
  getContract(r, e, t) {
    return this.getContractForAccount(this.ethereumService.defaultAccountAddress, r, e, t);
  }
  async getContractForProvider(r, e, t, n) {
    const o = (await sb(/* @__PURE__ */ Object.assign({ "../../contracts/governance/alfajores.json": () => import("./alfajores.01032903.mjs"), "../../contracts/map/alfajores.json": () => import("./alfajores.194ba57c.mjs"), "../../contracts/monetary/alfajores.json": () => import("./alfajores.3b3f55eb.mjs") }), `../../contracts/${e}/alfajores.json`)).contracts[t];
    let a = o.abi;
    if (typeof a == "string") {
      const c = a;
      a = await this.getSharedAbi(e, c);
    }
    if (n = n ?? o.address, !n)
      throw new Error(`ContractService: requested contract has no address: ${t}`);
    return new Pw(n, a, r);
  }
  async getSharedAbi(r, e) {
    return (await sb(/* @__PURE__ */ Object.assign({ "../../contracts/governance/sharedAbis.json": () => import("./sharedAbis.244cda69.mjs"), "../../contracts/map/sharedAbis.json": () => import("./sharedAbis.7a0399f1.mjs"), "../../contracts/monetary/sharedAbis.json": () => import("./sharedAbis.e21feac2.mjs") }), `../../contracts/${r}/sharedAbis.json`))[e];
  }
  getContractForAccount(r, e, t, n) {
    const i = this.ethereumService.createSignerOrProviderForAddress(r);
    return this.getContractForProvider(i, e, t, n);
  }
};
Ww([
  X0(function() {
    return { storage: this.cacheService };
  })
], Xo.prototype, "getContractForAccount", 1);
Xo = Ww([
  hx(0, ga),
  hx(1, il)
], Xo);
var Ji = /* @__PURE__ */ ((r) => (r[r.NonStablecoin = 0] = "NonStablecoin", r[r.Stablecoin = 1] = "Stablecoin", r[r.Ecological = 2] = "Ecological", r))(Ji || {});
const Hw = pe.createInterface();
var _d = /* @__PURE__ */ ((r) => (r[r.MONETARY_CONTROLLER = 1] = "MONETARY_CONTROLLER", r[r.RESERVE_DELEGATE = 2] = "RESERVE_DELEGATE", r[r.RESERVE_VETO_DELEGATE = 3] = "RESERVE_VETO_DELEGATE", r[r.TOPOLOGY_DELEGATE = 4] = "TOPOLOGY_DELEGATE", r[r.ECOLOGY_DELEGATE = 5] = "ECOLOGY_DELEGATE", r[r.ECOLOGY_DELEGATE_PROPOSER = 6] = "ECOLOGY_DELEGATE_PROPOSER", r[r.RESERVE_ARBITRAGEUR = 7] = "RESERVE_ARBITRAGEUR", r[r.LOCAL_MULTI_SIG_MEMBER = 8] = "LOCAL_MULTI_SIG_MEMBER", r[r.TREASURY_DELEGATE = 101] = "TREASURY_DELEGATE", r[r.TREASURY_VETO_DELEGATE = 102] = "TREASURY_VETO_DELEGATE", r[r.TREASURY_ARBITRAGEUR = 103] = "TREASURY_ARBITRAGEUR", r[r.KOLEKTIVO_MULTI_SIG_MEMBER = 104] = "KOLEKTIVO_MULTI_SIG_MEMBER", r))(_d || {});
const m_ = pe.createInterface();
var b_ = Object.defineProperty, x_ = Object.getOwnPropertyDescriptor, v_ = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? x_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && b_(e, t, i), i;
}, If = (r, e) => (t, n) => e(t, n, r);
const Gw = pe.createInterface("EncryptionService");
let ku = class {
  constructor(r, e, t) {
    this.logger = r, this.ethereumService = e, this.container = t;
  }
  client;
  static register(r) {
    fe.singleton(Gw, ku).register(r);
  }
  authSig;
  encryptedSymmetricKey;
  badgerContractAddress = "";
  get chain() {
    return this.ethereumService.targetedNetwork?.toLowerCase() ?? "";
  }
  getAccessControlConditions(r) {
    return [
      {
        contractAddress: r,
        standardContractType: "ERC1155",
        chain: this.chain,
        method: "balanceOfBatch",
        parameters: [":userAddress,:userAddress", `${_d.RESERVE_DELEGATE},${_d.ECOLOGY_DELEGATE_PROPOSER}`],
        returnValueTest: {
          comparator: ">",
          value: "0"
        }
      }
    ];
  }
  async connect() {
    if (this.client)
      return;
    const r = await this.container.get(m_);
    return this.client = r, await this.client.connect();
  }
  async encrypt(r) {
    if (!this.ethereumService.currentProvider || !this.ethereumService.defaultAccountAddress || !this.ethereumService.targetedChainId || (await this.connect(), !this.client))
      return;
    const e = {
      web3: this.ethereumService.currentProvider,
      account: this.ethereumService.defaultAccountAddress,
      chainId: this.ethereumService.targetedChainId,
      expiration: new Date(Date.now() + 3e5)
    };
    this.authSig = await this.client.getAuthSig(e);
    const { encryptedString: t, symmetricKey: n } = await this.client.encryptString(r);
    return this.encryptedSymmetricKey = this.client.uint8arrayToString(
      await this.client.saveEncryptionKey({
        accessControlConditions: this.getAccessControlConditions(this.badgerContractAddress),
        symmetricKey: n,
        authSig: this.authSig,
        chain: this.chain
      }),
      "base16"
    ), { encryptedString: t, symmetricKey: n };
  }
  async decryptAs(r) {
    if (await this.connect(), !this.client)
      throw new Error("No encryption client connected");
    const e = await this.client.getEncryptionKey({
      accessControlConditions: this.getAccessControlConditions(this.badgerContractAddress),
      toDecrypt: this.encryptedSymmetricKey,
      chain: this.chain,
      authSig: this.authSig
    }), t = await this.client.decryptString(r, e);
    try {
      return JSON.parse(t);
    } catch {
      this.logger.info("Failed to parse data from LIT");
    }
    return t;
  }
};
ku = v_([
  If(0, oo),
  If(1, il),
  If(2, oa)
], ku);
var y_ = Object.defineProperty, w_ = Object.getOwnPropertyDescriptor, A_ = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? w_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && y_(e, t, i), i;
}, S_ = (r, e) => (t, n) => e(t, n, r);
const Kw = pe.createInterface(), Z0 = pe.createInterface();
let Sc = class {
  constructor(r) {
    this.container = r;
  }
  static register(r) {
    r.register(fe.singleton(Z0, Sc));
  }
  fireStore;
  async connect() {
    const { getFirestore: r } = await import("./index.esm.60df232f.mjs");
    return this.fireStore ??= r(await this.container.get(Kw)), this.fireStore;
  }
  async getDocs(r, e, t, n) {
    const { getDocs: i, query: s, collection: o, where: a, orderBy: c } = await import("./index.esm.60df232f.mjs");
    return (await i(
      s(o(await this.connect(), r), a(n.fieldPath, n.opStr, n.value), c(e, t))
    )).docs.map((f) => f.data());
  }
};
Sc = A_([
  S_(0, oa)
], Sc);
var C_ = Object.defineProperty, E_ = Object.getOwnPropertyDescriptor, __ = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? E_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && C_(e, t, i), i;
}, P_ = (r, e) => (t, n) => e(t, n, r);
const zw = pe.createInterface("HttpService"), qw = { accept: "application/json" }, k_ = { "content-type": "application/json", ...qw };
let Ru = class {
  constructor(r) {
    this.logger = r, this.logger = r.scopeTo("HttpService");
  }
  static register(r) {
    r.register(fe.singleton(zw, Ru));
  }
  async call(r, e, t) {
    const n = await fetch(r, {
      body: e,
      method: e ? "POST" : "GET",
      headers: e ? k_ : qw,
      ...t
    });
    if (n.ok)
      return await n.json();
    const i = new Error(await n.text());
    return this.logger.error({ response: n, error: i }), Promise.reject(i);
  }
};
Ru = __([
  P_(0, oo)
], Ru);
const R_ = pe.createInterface();
var T_ = Object.defineProperty, I_ = Object.getOwnPropertyDescriptor, M_ = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? I_(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && T_(e, t, i), i;
}, O_ = (r, e) => (t, n) => e(t, n, r);
const ep = pe.createInterface();
let Tu = class {
  constructor(r) {
    this.client = r;
  }
  static register(r) {
    r.register(fe.singleton(ep, Tu));
  }
  async all(r) {
    const e = [];
    for await (const t of r)
      e.push(t);
    return e;
  }
  save(r, e = !0) {
    return typeof r == "string" ? this.client.add(
      { content: r },
      {
        pin: e
      }
    ).then((t) => t.cid) : this.client.dag.put(r, {
      pin: e
    });
  }
  async get(r, e = !1, t) {
    const n = (await import("./cid.1ab52c49.mjs")).CID.asCID(r);
    if (!!n) {
      if (!e) {
        const i = this.client.cat(r), s = (await import("./concat.27dc04fc.mjs")).concat(await this.all(i));
        return (await import("./to-string.46c53bee.mjs")).toString(s);
      }
      return JSON.stringify((await this.client.dag.get(n, { path: t })).value);
    }
  }
};
Tu = M_([
  O_(0, R_)
], Tu);
function is(r) {
  return is = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e) {
    return typeof e;
  } : function(e) {
    return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
  }, is(r);
}
function N_(r, e, t) {
  return e in r ? Object.defineProperty(r, e, {
    value: t,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : r[e] = t, r;
}
function _r(r) {
  for (var e = 1; e < arguments.length; e++) {
    var t = arguments[e] != null ? Object(arguments[e]) : {}, n = Object.keys(t);
    typeof Object.getOwnPropertySymbols == "function" && n.push.apply(n, Object.getOwnPropertySymbols(t).filter(function(i) {
      return Object.getOwnPropertyDescriptor(t, i).enumerable;
    })), n.forEach(function(i) {
      N_(r, i, t[i]);
    });
  }
  return r;
}
function Oi(r, e) {
  if (!(r instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function fx(r, e) {
  for (var t = 0; t < e.length; t++) {
    var n = e[t];
    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(r, n.key, n);
  }
}
function Ni(r, e, t) {
  return e && fx(r.prototype, e), t && fx(r, t), Object.defineProperty(r, "prototype", {
    writable: !1
  }), r;
}
function Xs(r) {
  if (r === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return r;
}
function Cc(r, e) {
  if (e && (is(e) === "object" || typeof e == "function"))
    return e;
  if (e !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Xs(r);
}
function Zo(r) {
  return Zo = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t) {
    return t.__proto__ || Object.getPrototypeOf(t);
  }, Zo(r);
}
function Pd(r, e) {
  return Pd = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Pd(r, e);
}
function yh(r, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function");
  r.prototype = Object.create(e && e.prototype, {
    constructor: {
      value: r,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(r, "prototype", {
    writable: !1
  }), e && Pd(r, e);
}
function kd(r, e) {
  (e == null || e > r.length) && (e = r.length);
  for (var t = 0, n = new Array(e); t < e; t++)
    n[t] = r[t];
  return n;
}
function D_(r) {
  if (Array.isArray(r))
    return kd(r);
}
function B_(r) {
  if (typeof Symbol < "u" && r[Symbol.iterator] != null || r["@@iterator"] != null)
    return Array.from(r);
}
function Qw(r, e) {
  if (!!r) {
    if (typeof r == "string")
      return kd(r, e);
    var t = Object.prototype.toString.call(r).slice(8, -1);
    if (t === "Object" && r.constructor && (t = r.constructor.name), t === "Map" || t === "Set")
      return Array.from(r);
    if (t === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))
      return kd(r, e);
  }
}
function $_() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function L_(r) {
  return D_(r) || B_(r) || Qw(r) || $_();
}
function F_(r) {
  if (Array.isArray(r))
    return r;
}
function U_(r, e) {
  var t = r == null ? null : typeof Symbol < "u" && r[Symbol.iterator] || r["@@iterator"];
  if (t != null) {
    var n = [], i = !0, s = !1, o, a;
    try {
      for (t = t.call(r); !(i = (o = t.next()).done) && (n.push(o.value), !(e && n.length === e)); i = !0)
        ;
    } catch (c) {
      s = !0, a = c;
    } finally {
      try {
        !i && t.return != null && t.return();
      } finally {
        if (s)
          throw a;
      }
    }
    return n;
  }
}
function V_() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function dx(r, e) {
  return F_(r) || U_(r, e) || Qw(r, e) || V_();
}
var j_ = {
  type: "logger",
  log: function(e) {
    this.output("log", e);
  },
  warn: function(e) {
    this.output("warn", e);
  },
  error: function(e) {
    this.output("error", e);
  },
  output: function(e, t) {
    var n;
    console && console[e] && (n = console)[e].apply(n, L_(t));
  }
}, W_ = /* @__PURE__ */ function() {
  function r(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Oi(this, r), this.init(e, t);
  }
  return Ni(r, [{
    key: "init",
    value: function(t) {
      var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      this.prefix = n.prefix || "i18next:", this.logger = t || j_, this.options = n, this.debug = n.debug;
    }
  }, {
    key: "setDebug",
    value: function(t) {
      this.debug = t;
    }
  }, {
    key: "log",
    value: function() {
      for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
        n[i] = arguments[i];
      return this.forward(n, "log", "", !0);
    }
  }, {
    key: "warn",
    value: function() {
      for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
        n[i] = arguments[i];
      return this.forward(n, "warn", "", !0);
    }
  }, {
    key: "error",
    value: function() {
      for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
        n[i] = arguments[i];
      return this.forward(n, "error", "");
    }
  }, {
    key: "deprecate",
    value: function() {
      for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)
        n[i] = arguments[i];
      return this.forward(n, "warn", "WARNING DEPRECATED: ", !0);
    }
  }, {
    key: "forward",
    value: function(t, n, i, s) {
      return s && !this.debug ? null : (typeof t[0] == "string" && (t[0] = "".concat(i).concat(this.prefix, " ").concat(t[0])), this.logger[n](t));
    }
  }, {
    key: "create",
    value: function(t) {
      return new r(this.logger, _r({}, {
        prefix: "".concat(this.prefix, ":").concat(t, ":")
      }, this.options));
    }
  }]), r;
}(), fi = new W_(), us = /* @__PURE__ */ function() {
  function r() {
    Oi(this, r), this.observers = {};
  }
  return Ni(r, [{
    key: "on",
    value: function(t, n) {
      var i = this;
      return t.split(" ").forEach(function(s) {
        i.observers[s] = i.observers[s] || [], i.observers[s].push(n);
      }), this;
    }
  }, {
    key: "off",
    value: function(t, n) {
      if (!!this.observers[t]) {
        if (!n) {
          delete this.observers[t];
          return;
        }
        this.observers[t] = this.observers[t].filter(function(i) {
          return i !== n;
        });
      }
    }
  }, {
    key: "emit",
    value: function(t) {
      for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), s = 1; s < n; s++)
        i[s - 1] = arguments[s];
      if (this.observers[t]) {
        var o = [].concat(this.observers[t]);
        o.forEach(function(c) {
          c.apply(void 0, i);
        });
      }
      if (this.observers["*"]) {
        var a = [].concat(this.observers["*"]);
        a.forEach(function(c) {
          c.apply(c, [t].concat(i));
        });
      }
    }
  }]), r;
}();
function Da() {
  var r, e, t = new Promise(function(n, i) {
    r = n, e = i;
  });
  return t.resolve = r, t.reject = e, t;
}
function Mf(r) {
  return r == null ? "" : "" + r;
}
function H_(r, e, t) {
  r.forEach(function(n) {
    e[n] && (t[n] = e[n]);
  });
}
function tp(r, e, t) {
  function n(a) {
    return a && a.indexOf("###") > -1 ? a.replace(/###/g, ".") : a;
  }
  function i() {
    return !r || typeof r == "string";
  }
  for (var s = typeof e != "string" ? [].concat(e) : e.split("."); s.length > 1; ) {
    if (i())
      return {};
    var o = n(s.shift());
    !r[o] && t && (r[o] = new t()), r = r[o];
  }
  return i() ? {} : {
    obj: r,
    k: n(s.shift())
  };
}
function px(r, e, t) {
  var n = tp(r, e, Object), i = n.obj, s = n.k;
  i[s] = t;
}
function G_(r, e, t, n) {
  var i = tp(r, e, Object), s = i.obj, o = i.k;
  s[o] = s[o] || [], n && (s[o] = s[o].concat(t)), n || s[o].push(t);
}
function Iu(r, e) {
  var t = tp(r, e), n = t.obj, i = t.k;
  if (!!n)
    return n[i];
}
function gx(r, e, t) {
  var n = Iu(r, t);
  return n !== void 0 ? n : Iu(e, t);
}
function Jw(r, e, t) {
  for (var n in e)
    n in r ? typeof r[n] == "string" || r[n] instanceof String || typeof e[n] == "string" || e[n] instanceof String ? t && (r[n] = e[n]) : Jw(r[n], e[n], t) : r[n] = e[n];
  return r;
}
function Co(r) {
  return r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
}
var K_ = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;"
};
function z_(r) {
  return typeof r == "string" ? r.replace(/[&<>"'\/]/g, function(e) {
    return K_[e];
  }) : r;
}
var q_ = /* @__PURE__ */ function(r) {
  yh(e, r);
  function e(t) {
    var n, i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
      ns: ["translation"],
      defaultNS: "translation"
    };
    return Oi(this, e), n = Cc(this, Zo(e).call(this)), us.call(Xs(n)), n.data = t || {}, n.options = i, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n;
  }
  return Ni(e, [{
    key: "addNamespaces",
    value: function(n) {
      this.options.ns.indexOf(n) < 0 && this.options.ns.push(n);
    }
  }, {
    key: "removeNamespaces",
    value: function(n) {
      var i = this.options.ns.indexOf(n);
      i > -1 && this.options.ns.splice(i, 1);
    }
  }, {
    key: "getResource",
    value: function(n, i, s) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, a = o.keySeparator !== void 0 ? o.keySeparator : this.options.keySeparator, c = [n, i];
      return s && typeof s != "string" && (c = c.concat(s)), s && typeof s == "string" && (c = c.concat(a ? s.split(a) : s)), n.indexOf(".") > -1 && (c = n.split(".")), Iu(this.data, c);
    }
  }, {
    key: "addResource",
    value: function(n, i, s, o) {
      var a = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {
        silent: !1
      }, c = this.options.keySeparator;
      c === void 0 && (c = ".");
      var l = [n, i];
      s && (l = l.concat(c ? s.split(c) : s)), n.indexOf(".") > -1 && (l = n.split("."), o = i, i = l[1]), this.addNamespaces(i), px(this.data, l, o), a.silent || this.emit("added", n, i, s, o);
    }
  }, {
    key: "addResources",
    value: function(n, i, s) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {
        silent: !1
      };
      for (var a in s)
        (typeof s[a] == "string" || Object.prototype.toString.apply(s[a]) === "[object Array]") && this.addResource(n, i, a, s[a], {
          silent: !0
        });
      o.silent || this.emit("added", n, i, s);
    }
  }, {
    key: "addResourceBundle",
    value: function(n, i, s, o, a) {
      var c = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {
        silent: !1
      }, l = [n, i];
      n.indexOf(".") > -1 && (l = n.split("."), o = s, s = i, i = l[1]), this.addNamespaces(i);
      var f = Iu(this.data, l) || {};
      o ? Jw(f, s, a) : f = _r({}, f, s), px(this.data, l, f), c.silent || this.emit("added", n, i, s);
    }
  }, {
    key: "removeResourceBundle",
    value: function(n, i) {
      this.hasResourceBundle(n, i) && delete this.data[n][i], this.removeNamespaces(i), this.emit("removed", n, i);
    }
  }, {
    key: "hasResourceBundle",
    value: function(n, i) {
      return this.getResource(n, i) !== void 0;
    }
  }, {
    key: "getResourceBundle",
    value: function(n, i) {
      return i || (i = this.options.defaultNS), this.options.compatibilityAPI === "v1" ? _r({}, {}, this.getResource(n, i)) : this.getResource(n, i);
    }
  }, {
    key: "getDataByLanguage",
    value: function(n) {
      return this.data[n];
    }
  }, {
    key: "toJSON",
    value: function() {
      return this.data;
    }
  }]), e;
}(us), Yw = {
  processors: {},
  addPostProcessor: function(e) {
    this.processors[e.name] = e;
  },
  handle: function(e, t, n, i, s) {
    var o = this;
    return e.forEach(function(a) {
      o.processors[a] && (t = o.processors[a].process(t, n, i, s));
    }), t;
  }
}, mx = /* @__PURE__ */ function(r) {
  yh(e, r);
  function e(t) {
    var n, i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    return Oi(this, e), n = Cc(this, Zo(e).call(this)), us.call(Xs(n)), H_(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], t, Xs(n)), n.options = i, n.options.keySeparator === void 0 && (n.options.keySeparator = "."), n.logger = fi.create("translator"), n;
  }
  return Ni(e, [{
    key: "changeLanguage",
    value: function(n) {
      n && (this.language = n);
    }
  }, {
    key: "exists",
    value: function(n) {
      var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
        interpolation: {}
      }, s = this.resolve(n, i);
      return s && s.res !== void 0;
    }
  }, {
    key: "extractFromKey",
    value: function(n, i) {
      var s = i.nsSeparator || this.options.nsSeparator;
      s === void 0 && (s = ":");
      var o = i.keySeparator !== void 0 ? i.keySeparator : this.options.keySeparator, a = i.ns || this.options.defaultNS;
      if (s && n.indexOf(s) > -1) {
        var c = n.split(s);
        (s !== o || s === o && this.options.ns.indexOf(c[0]) > -1) && (a = c.shift()), n = c.join(o);
      }
      return typeof a == "string" && (a = [a]), {
        key: n,
        namespaces: a
      };
    }
  }, {
    key: "translate",
    value: function(n, i) {
      var s = this;
      if (is(i) !== "object" && this.options.overloadTranslationOptionHandler && (i = this.options.overloadTranslationOptionHandler(arguments)), i || (i = {}), n == null)
        return "";
      Array.isArray(n) || (n = [String(n)]);
      var o = i.keySeparator !== void 0 ? i.keySeparator : this.options.keySeparator, a = this.extractFromKey(n[n.length - 1], i), c = a.key, l = a.namespaces, f = l[l.length - 1], p = i.lng || this.language, b = i.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
      if (p && p.toLowerCase() === "cimode") {
        if (b) {
          var w = i.nsSeparator || this.options.nsSeparator;
          return f + w + c;
        }
        return c;
      }
      var A = this.resolve(n, i), C = A && A.res, S = A && A.usedKey || c, k = A && A.exactUsedKey || c, O = Object.prototype.toString.apply(C), L = ["[object Number]", "[object Function]", "[object RegExp]"], B = i.joinArrays !== void 0 ? i.joinArrays : this.options.joinArrays, N = !this.i18nFormat || this.i18nFormat.handleAsObject, j = typeof C != "string" && typeof C != "boolean" && typeof C != "number";
      if (N && C && j && L.indexOf(O) < 0 && !(typeof B == "string" && O === "[object Array]")) {
        if (!i.returnObjects && !this.options.returnObjects)
          return this.logger.warn("accessing an object - but returnObjects options is not enabled!"), this.options.returnedObjectHandler ? this.options.returnedObjectHandler(S, C, i) : "key '".concat(c, " (").concat(this.language, ")' returned an object instead of string.");
        if (o) {
          var q = O === "[object Array]", K = q ? [] : {}, X = q ? k : S;
          for (var ce in C)
            if (Object.prototype.hasOwnProperty.call(C, ce)) {
              var ee = "".concat(X).concat(o).concat(ce);
              K[ce] = this.translate(ee, _r({}, i, {
                joinArrays: !1,
                ns: l
              })), K[ce] === ee && (K[ce] = C[ce]);
            }
          C = K;
        }
      } else if (N && typeof B == "string" && O === "[object Array]")
        C = C.join(B), C && (C = this.extendTranslation(C, n, i));
      else {
        var be = !1, _ = !1;
        if (!this.isValidLookup(C) && i.defaultValue !== void 0) {
          if (be = !0, i.count !== void 0) {
            var u = this.pluralResolver.getSuffix(p, i.count);
            C = i["defaultValue".concat(u)];
          }
          C || (C = i.defaultValue);
        }
        this.isValidLookup(C) || (_ = !0, C = c);
        var g = i.defaultValue && i.defaultValue !== C && this.options.updateMissing;
        if (_ || be || g) {
          this.logger.log(g ? "updateKey" : "missingKey", p, f, c, g ? i.defaultValue : C);
          var x = [], y = this.languageUtils.getFallbackCodes(this.options.fallbackLng, i.lng || this.language);
          if (this.options.saveMissingTo === "fallback" && y && y[0])
            for (var E = 0; E < y.length; E++)
              x.push(y[E]);
          else
            this.options.saveMissingTo === "all" ? x = this.languageUtils.toResolveHierarchy(i.lng || this.language) : x.push(i.lng || this.language);
          var P = function(h, v) {
            s.options.missingKeyHandler ? s.options.missingKeyHandler(h, f, v, g ? i.defaultValue : C, g, i) : s.backendConnector && s.backendConnector.saveMissing && s.backendConnector.saveMissing(h, f, v, g ? i.defaultValue : C, g, i), s.emit("missingKey", h, f, v, C);
          };
          if (this.options.saveMissing) {
            var R = i.count !== void 0 && typeof i.count != "string";
            this.options.saveMissingPlurals && R ? x.forEach(function(m) {
              var h = s.pluralResolver.getPluralFormsOfKey(m, c);
              h.forEach(function(v) {
                return P([m], v);
              });
            }) : P(x, c);
          }
        }
        C = this.extendTranslation(C, n, i, A), _ && C === c && this.options.appendNamespaceToMissingKey && (C = "".concat(f, ":").concat(c)), _ && this.options.parseMissingKeyHandler && (C = this.options.parseMissingKeyHandler(C));
      }
      return C;
    }
  }, {
    key: "extendTranslation",
    value: function(n, i, s, o) {
      var a = this;
      if (this.i18nFormat && this.i18nFormat.parse)
        n = this.i18nFormat.parse(n, s, o.usedLng, o.usedNS, o.usedKey, {
          resolved: o
        });
      else if (!s.skipInterpolation) {
        s.interpolation && this.interpolator.init(_r({}, s, {
          interpolation: _r({}, this.options.interpolation, s.interpolation)
        }));
        var c = s.replace && typeof s.replace != "string" ? s.replace : s;
        this.options.interpolation.defaultVariables && (c = _r({}, this.options.interpolation.defaultVariables, c)), n = this.interpolator.interpolate(n, c, s.lng || this.language, s), s.nest !== !1 && (n = this.interpolator.nest(n, function() {
          return a.translate.apply(a, arguments);
        }, s)), s.interpolation && this.interpolator.reset();
      }
      var l = s.postProcess || this.options.postProcess, f = typeof l == "string" ? [l] : l;
      return n != null && f && f.length && s.applyPostProcessor !== !1 && (n = Yw.handle(f, n, i, this.options && this.options.postProcessPassResolved ? _r({
        i18nResolved: o
      }, s) : s, this)), n;
    }
  }, {
    key: "resolve",
    value: function(n) {
      var i = this, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, o, a, c, l, f;
      return typeof n == "string" && (n = [n]), n.forEach(function(p) {
        if (!i.isValidLookup(o)) {
          var b = i.extractFromKey(p, s), w = b.key;
          a = w;
          var A = b.namespaces;
          i.options.fallbackNS && (A = A.concat(i.options.fallbackNS));
          var C = s.count !== void 0 && typeof s.count != "string", S = s.context !== void 0 && typeof s.context == "string" && s.context !== "", k = s.lngs ? s.lngs : i.languageUtils.toResolveHierarchy(s.lng || i.language, s.fallbackLng);
          A.forEach(function(O) {
            i.isValidLookup(o) || (f = O, i.utils && i.utils.hasLoadedNamespace && !i.utils.hasLoadedNamespace(f) && i.logger.warn('key "'.concat(a, '" for namespace "').concat(f, `" won't get resolved as namespace was not yet loaded`), "This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"), k.forEach(function(L) {
              if (!i.isValidLookup(o)) {
                l = L;
                var B = w, N = [B];
                if (i.i18nFormat && i.i18nFormat.addLookupKeys)
                  i.i18nFormat.addLookupKeys(N, w, L, O, s);
                else {
                  var j;
                  C && (j = i.pluralResolver.getSuffix(L, s.count)), C && S && N.push(B + j), S && N.push(B += "".concat(i.options.contextSeparator).concat(s.context)), C && N.push(B += j);
                }
                for (var q; q = N.pop(); )
                  i.isValidLookup(o) || (c = q, o = i.getResource(L, O, q, s));
              }
            }));
          });
        }
      }), {
        res: o,
        usedKey: a,
        exactUsedKey: c,
        usedLng: l,
        usedNS: f
      };
    }
  }, {
    key: "isValidLookup",
    value: function(n) {
      return n !== void 0 && !(!this.options.returnNull && n === null) && !(!this.options.returnEmptyString && n === "");
    }
  }, {
    key: "getResource",
    value: function(n, i, s) {
      var o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
      return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(n, i, s, o) : this.resourceStore.getResource(n, i, s, o);
    }
  }]), e;
}(us);
function Of(r) {
  return r.charAt(0).toUpperCase() + r.slice(1);
}
var Q_ = /* @__PURE__ */ function() {
  function r(e) {
    Oi(this, r), this.options = e, this.whitelist = this.options.whitelist || !1, this.logger = fi.create("languageUtils");
  }
  return Ni(r, [{
    key: "getScriptPartFromCode",
    value: function(t) {
      if (!t || t.indexOf("-") < 0)
        return null;
      var n = t.split("-");
      return n.length === 2 ? null : (n.pop(), this.formatLanguageCode(n.join("-")));
    }
  }, {
    key: "getLanguagePartFromCode",
    value: function(t) {
      if (!t || t.indexOf("-") < 0)
        return t;
      var n = t.split("-");
      return this.formatLanguageCode(n[0]);
    }
  }, {
    key: "formatLanguageCode",
    value: function(t) {
      if (typeof t == "string" && t.indexOf("-") > -1) {
        var n = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"], i = t.split("-");
        return this.options.lowerCaseLng ? i = i.map(function(s) {
          return s.toLowerCase();
        }) : i.length === 2 ? (i[0] = i[0].toLowerCase(), i[1] = i[1].toUpperCase(), n.indexOf(i[1].toLowerCase()) > -1 && (i[1] = Of(i[1].toLowerCase()))) : i.length === 3 && (i[0] = i[0].toLowerCase(), i[1].length === 2 && (i[1] = i[1].toUpperCase()), i[0] !== "sgn" && i[2].length === 2 && (i[2] = i[2].toUpperCase()), n.indexOf(i[1].toLowerCase()) > -1 && (i[1] = Of(i[1].toLowerCase())), n.indexOf(i[2].toLowerCase()) > -1 && (i[2] = Of(i[2].toLowerCase()))), i.join("-");
      }
      return this.options.cleanCode || this.options.lowerCaseLng ? t.toLowerCase() : t;
    }
  }, {
    key: "isWhitelisted",
    value: function(t) {
      return (this.options.load === "languageOnly" || this.options.nonExplicitWhitelist) && (t = this.getLanguagePartFromCode(t)), !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(t) > -1;
    }
  }, {
    key: "getFallbackCodes",
    value: function(t, n) {
      if (!t)
        return [];
      if (typeof t == "string" && (t = [t]), Object.prototype.toString.apply(t) === "[object Array]")
        return t;
      if (!n)
        return t.default || [];
      var i = t[n];
      return i || (i = t[this.getScriptPartFromCode(n)]), i || (i = t[this.formatLanguageCode(n)]), i || (i = t.default), i || [];
    }
  }, {
    key: "toResolveHierarchy",
    value: function(t, n) {
      var i = this, s = this.getFallbackCodes(n || this.options.fallbackLng || [], t), o = [], a = function(l) {
        !l || (i.isWhitelisted(l) ? o.push(l) : i.logger.warn("rejecting non-whitelisted language code: ".concat(l)));
      };
      return typeof t == "string" && t.indexOf("-") > -1 ? (this.options.load !== "languageOnly" && a(this.formatLanguageCode(t)), this.options.load !== "languageOnly" && this.options.load !== "currentOnly" && a(this.getScriptPartFromCode(t)), this.options.load !== "currentOnly" && a(this.getLanguagePartFromCode(t))) : typeof t == "string" && a(this.formatLanguageCode(t)), s.forEach(function(c) {
        o.indexOf(c) < 0 && a(i.formatLanguageCode(c));
      }), o;
    }
  }]), r;
}(), J_ = [{
  lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "ti", "tr", "uz", "wa"],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ["ay", "bo", "cgg", "fa", "id", "ja", "jbo", "ka", "kk", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
  nr: [1],
  fc: 3
}, {
  lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ["ar"],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ["cs", "sk"],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ["csb", "pl"],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ["cy"],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ["fr"],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ["ga"],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ["gd"],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ["is"],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ["jv"],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ["kw"],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ["lt"],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ["lv"],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ["mk"],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ["mnk"],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ["mt"],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ["or"],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ["ro"],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ["sl"],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ["he"],
  nr: [1, 2, 20, 21],
  fc: 22
}], Y_ = {
  1: function(e) {
    return Number(e > 1);
  },
  2: function(e) {
    return Number(e != 1);
  },
  3: function(e) {
    return 0;
  },
  4: function(e) {
    return Number(e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2);
  },
  5: function(e) {
    return Number(e === 0 ? 0 : e == 1 ? 1 : e == 2 ? 2 : e % 100 >= 3 && e % 100 <= 10 ? 3 : e % 100 >= 11 ? 4 : 5);
  },
  6: function(e) {
    return Number(e == 1 ? 0 : e >= 2 && e <= 4 ? 1 : 2);
  },
  7: function(e) {
    return Number(e == 1 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2);
  },
  8: function(e) {
    return Number(e == 1 ? 0 : e == 2 ? 1 : e != 8 && e != 11 ? 2 : 3);
  },
  9: function(e) {
    return Number(e >= 2);
  },
  10: function(e) {
    return Number(e == 1 ? 0 : e == 2 ? 1 : e < 7 ? 2 : e < 11 ? 3 : 4);
  },
  11: function(e) {
    return Number(e == 1 || e == 11 ? 0 : e == 2 || e == 12 ? 1 : e > 2 && e < 20 ? 2 : 3);
  },
  12: function(e) {
    return Number(e % 10 != 1 || e % 100 == 11);
  },
  13: function(e) {
    return Number(e !== 0);
  },
  14: function(e) {
    return Number(e == 1 ? 0 : e == 2 ? 1 : e == 3 ? 2 : 3);
  },
  15: function(e) {
    return Number(e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2);
  },
  16: function(e) {
    return Number(e % 10 == 1 && e % 100 != 11 ? 0 : e !== 0 ? 1 : 2);
  },
  17: function(e) {
    return Number(e == 1 || e % 10 == 1 ? 0 : 1);
  },
  18: function(e) {
    return Number(e == 0 ? 0 : e == 1 ? 1 : 2);
  },
  19: function(e) {
    return Number(e == 1 ? 0 : e === 0 || e % 100 > 1 && e % 100 < 11 ? 1 : e % 100 > 10 && e % 100 < 20 ? 2 : 3);
  },
  20: function(e) {
    return Number(e == 1 ? 0 : e === 0 || e % 100 > 0 && e % 100 < 20 ? 1 : 2);
  },
  21: function(e) {
    return Number(e % 100 == 1 ? 1 : e % 100 == 2 ? 2 : e % 100 == 3 || e % 100 == 4 ? 3 : 0);
  },
  22: function(e) {
    return Number(e === 1 ? 0 : e === 2 ? 1 : (e < 0 || e > 10) && e % 10 == 0 ? 2 : 3);
  }
};
function X_() {
  var r = {};
  return J_.forEach(function(e) {
    e.lngs.forEach(function(t) {
      r[t] = {
        numbers: e.nr,
        plurals: Y_[e.fc]
      };
    });
  }), r;
}
var Z_ = /* @__PURE__ */ function() {
  function r(e) {
    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    Oi(this, r), this.languageUtils = e, this.options = t, this.logger = fi.create("pluralResolver"), this.rules = X_();
  }
  return Ni(r, [{
    key: "addRule",
    value: function(t, n) {
      this.rules[t] = n;
    }
  }, {
    key: "getRule",
    value: function(t) {
      return this.rules[t] || this.rules[this.languageUtils.getLanguagePartFromCode(t)];
    }
  }, {
    key: "needsPlural",
    value: function(t) {
      var n = this.getRule(t);
      return n && n.numbers.length > 1;
    }
  }, {
    key: "getPluralFormsOfKey",
    value: function(t, n) {
      var i = this, s = [], o = this.getRule(t);
      return o && o.numbers.forEach(function(a) {
        var c = i.getSuffix(t, a);
        s.push("".concat(n).concat(c));
      }), s;
    }
  }, {
    key: "getSuffix",
    value: function(t, n) {
      var i = this, s = this.getRule(t);
      if (s) {
        var o = s.noAbs ? s.plurals(n) : s.plurals(Math.abs(n)), a = s.numbers[o];
        this.options.simplifyPluralSuffix && s.numbers.length === 2 && s.numbers[0] === 1 && (a === 2 ? a = "plural" : a === 1 && (a = ""));
        var c = function() {
          return i.options.prepend && a.toString() ? i.options.prepend + a.toString() : a.toString();
        };
        return this.options.compatibilityJSON === "v1" ? a === 1 ? "" : typeof a == "number" ? "_plural_".concat(a.toString()) : c() : this.options.compatibilityJSON === "v2" || this.options.simplifyPluralSuffix && s.numbers.length === 2 && s.numbers[0] === 1 ? c() : this.options.prepend && o.toString() ? this.options.prepend + o.toString() : o.toString();
      }
      return this.logger.warn("no plural rule found for: ".concat(t)), "";
    }
  }]), r;
}(), eP = /* @__PURE__ */ function() {
  function r() {
    var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    Oi(this, r), this.logger = fi.create("interpolator"), this.options = e, this.format = e.interpolation && e.interpolation.format || function(t) {
      return t;
    }, this.init(e);
  }
  return Ni(r, [{
    key: "init",
    value: function() {
      var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      t.interpolation || (t.interpolation = {
        escapeValue: !0
      });
      var n = t.interpolation;
      this.escape = n.escape !== void 0 ? n.escape : z_, this.escapeValue = n.escapeValue !== void 0 ? n.escapeValue : !0, this.useRawValueToEscape = n.useRawValueToEscape !== void 0 ? n.useRawValueToEscape : !1, this.prefix = n.prefix ? Co(n.prefix) : n.prefixEscaped || "{{", this.suffix = n.suffix ? Co(n.suffix) : n.suffixEscaped || "}}", this.formatSeparator = n.formatSeparator ? n.formatSeparator : n.formatSeparator || ",", this.unescapePrefix = n.unescapeSuffix ? "" : n.unescapePrefix || "-", this.unescapeSuffix = this.unescapePrefix ? "" : n.unescapeSuffix || "", this.nestingPrefix = n.nestingPrefix ? Co(n.nestingPrefix) : n.nestingPrefixEscaped || Co("$t("), this.nestingSuffix = n.nestingSuffix ? Co(n.nestingSuffix) : n.nestingSuffixEscaped || Co(")"), this.maxReplaces = n.maxReplaces ? n.maxReplaces : 1e3, this.resetRegExp();
    }
  }, {
    key: "reset",
    value: function() {
      this.options && this.init(this.options);
    }
  }, {
    key: "resetRegExp",
    value: function() {
      var t = "".concat(this.prefix, "(.+?)").concat(this.suffix);
      this.regexp = new RegExp(t, "g");
      var n = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
      this.regexpUnescape = new RegExp(n, "g");
      var i = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
      this.nestingRegexp = new RegExp(i, "g");
    }
  }, {
    key: "interpolate",
    value: function(t, n, i, s) {
      var o = this, a, c, l, f = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
      function p(S) {
        return S.replace(/\$/g, "$$$$");
      }
      var b = function(k) {
        if (k.indexOf(o.formatSeparator) < 0)
          return gx(n, f, k);
        var O = k.split(o.formatSeparator), L = O.shift().trim(), B = O.join(o.formatSeparator).trim();
        return o.format(gx(n, f, L), B, i);
      };
      this.resetRegExp();
      var w = s && s.missingInterpolationHandler || this.options.missingInterpolationHandler;
      for (l = 0; a = this.regexpUnescape.exec(t); ) {
        if (c = b(a[1].trim()), c === void 0)
          if (typeof w == "function") {
            var A = w(t, a, s);
            c = typeof A == "string" ? A : "";
          } else
            this.logger.warn("missed to pass in variable ".concat(a[1], " for interpolating ").concat(t)), c = "";
        else
          typeof c != "string" && !this.useRawValueToEscape && (c = Mf(c));
        if (t = t.replace(a[0], p(c)), this.regexpUnescape.lastIndex = 0, l++, l >= this.maxReplaces)
          break;
      }
      for (l = 0; a = this.regexp.exec(t); ) {
        if (c = b(a[1].trim()), c === void 0)
          if (typeof w == "function") {
            var C = w(t, a, s);
            c = typeof C == "string" ? C : "";
          } else
            this.logger.warn("missed to pass in variable ".concat(a[1], " for interpolating ").concat(t)), c = "";
        else
          typeof c != "string" && !this.useRawValueToEscape && (c = Mf(c));
        if (c = this.escapeValue ? p(this.escape(c)) : p(c), t = t.replace(a[0], c), this.regexp.lastIndex = 0, l++, l >= this.maxReplaces)
          break;
      }
      return t;
    }
  }, {
    key: "nest",
    value: function(t, n) {
      var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, s, o, a = _r({}, i);
      a.applyPostProcessor = !1, delete a.defaultValue;
      function c(l, f) {
        if (l.indexOf(",") < 0)
          return l;
        var p = l.split(",");
        l = p.shift();
        var b = p.join(",");
        b = this.interpolate(b, a), b = b.replace(/'/g, '"');
        try {
          a = JSON.parse(b), f && (a = _r({}, f, a));
        } catch (w) {
          this.logger.error("failed parsing options string in nesting for key ".concat(l), w);
        }
        return delete a.defaultValue, l;
      }
      for (; s = this.nestingRegexp.exec(t); ) {
        if (o = n(c.call(this, s[1].trim(), a), a), o && s[0] === t && typeof o != "string")
          return o;
        typeof o != "string" && (o = Mf(o)), o || (this.logger.warn("missed to resolve ".concat(s[1], " for nesting ").concat(t)), o = ""), t = t.replace(s[0], o), this.regexp.lastIndex = 0;
      }
      return t;
    }
  }]), r;
}();
function tP(r, e) {
  for (var t = r.indexOf(e); t !== -1; )
    r.splice(t, 1), t = r.indexOf(e);
}
var rP = /* @__PURE__ */ function(r) {
  yh(e, r);
  function e(t, n, i) {
    var s, o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
    return Oi(this, e), s = Cc(this, Zo(e).call(this)), us.call(Xs(s)), s.backend = t, s.store = n, s.services = i, s.languageUtils = i.languageUtils, s.options = o, s.logger = fi.create("backendConnector"), s.state = {}, s.queue = [], s.backend && s.backend.init && s.backend.init(i, o.backend, o), s;
  }
  return Ni(e, [{
    key: "queueLoad",
    value: function(n, i, s, o) {
      var a = this, c = [], l = [], f = [], p = [];
      return n.forEach(function(b) {
        var w = !0;
        i.forEach(function(A) {
          var C = "".concat(b, "|").concat(A);
          !s.reload && a.store.hasResourceBundle(b, A) ? a.state[C] = 2 : a.state[C] < 0 || (a.state[C] === 1 ? l.indexOf(C) < 0 && l.push(C) : (a.state[C] = 1, w = !1, l.indexOf(C) < 0 && l.push(C), c.indexOf(C) < 0 && c.push(C), p.indexOf(A) < 0 && p.push(A)));
        }), w || f.push(b);
      }), (c.length || l.length) && this.queue.push({
        pending: l,
        loaded: {},
        errors: [],
        callback: o
      }), {
        toLoad: c,
        pending: l,
        toLoadLanguages: f,
        toLoadNamespaces: p
      };
    }
  }, {
    key: "loaded",
    value: function(n, i, s) {
      var o = n.split("|"), a = dx(o, 2), c = a[0], l = a[1];
      i && this.emit("failedLoading", c, l, i), s && this.store.addResourceBundle(c, l, s), this.state[n] = i ? -1 : 2;
      var f = {};
      this.queue.forEach(function(p) {
        G_(p.loaded, [c], l), tP(p.pending, n), i && p.errors.push(i), p.pending.length === 0 && !p.done && (Object.keys(p.loaded).forEach(function(b) {
          f[b] || (f[b] = []), p.loaded[b].length && p.loaded[b].forEach(function(w) {
            f[b].indexOf(w) < 0 && f[b].push(w);
          });
        }), p.done = !0, p.errors.length ? p.callback(p.errors) : p.callback());
      }), this.emit("loaded", f), this.queue = this.queue.filter(function(p) {
        return !p.done;
      });
    }
  }, {
    key: "read",
    value: function(n, i, s) {
      var o = this, a = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0, c = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 250, l = arguments.length > 5 ? arguments[5] : void 0;
      return n.length ? this.backend[s](n, i, function(f, p) {
        if (f && p && a < 5) {
          setTimeout(function() {
            o.read.call(o, n, i, s, a + 1, c * 2, l);
          }, c);
          return;
        }
        l(f, p);
      }) : l(null, {});
    }
  }, {
    key: "prepareLoading",
    value: function(n, i) {
      var s = this, o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, a = arguments.length > 3 ? arguments[3] : void 0;
      if (!this.backend)
        return this.logger.warn("No backend was added via i18next.use. Will not load resources."), a && a();
      typeof n == "string" && (n = this.languageUtils.toResolveHierarchy(n)), typeof i == "string" && (i = [i]);
      var c = this.queueLoad(n, i, o, a);
      if (!c.toLoad.length)
        return c.pending.length || a(), null;
      c.toLoad.forEach(function(l) {
        s.loadOne(l);
      });
    }
  }, {
    key: "load",
    value: function(n, i, s) {
      this.prepareLoading(n, i, {}, s);
    }
  }, {
    key: "reload",
    value: function(n, i, s) {
      this.prepareLoading(n, i, {
        reload: !0
      }, s);
    }
  }, {
    key: "loadOne",
    value: function(n) {
      var i = this, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "", o = n.split("|"), a = dx(o, 2), c = a[0], l = a[1];
      this.read(c, l, "read", null, null, function(f, p) {
        f && i.logger.warn("".concat(s, "loading namespace ").concat(l, " for language ").concat(c, " failed"), f), !f && p && i.logger.log("".concat(s, "loaded namespace ").concat(l, " for language ").concat(c), p), i.loaded(n, f, p);
      });
    }
  }, {
    key: "saveMissing",
    value: function(n, i, s, o, a) {
      var c = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : {};
      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(i)) {
        this.logger.warn('did not save key "'.concat(s, '" for namespace "').concat(i, '" as the namespace was not yet loaded'), "This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");
        return;
      }
      this.backend && this.backend.create && this.backend.create(
        n,
        i,
        s,
        o,
        null,
        _r({}, c, {
          isUpdate: a
        })
      ), !(!n || !n[0]) && this.store.addResource(n[0], i, s, o);
    }
  }]), e;
}(us);
function nP() {
  return {
    debug: !1,
    initImmediate: !0,
    ns: ["translation"],
    defaultNS: ["translation"],
    fallbackLng: ["dev"],
    fallbackNS: !1,
    whitelist: !1,
    nonExplicitWhitelist: !1,
    load: "all",
    preload: !1,
    simplifyPluralSuffix: !0,
    keySeparator: ".",
    nsSeparator: ":",
    pluralSeparator: "_",
    contextSeparator: "_",
    partialBundledLanguages: !1,
    saveMissing: !1,
    updateMissing: !1,
    saveMissingTo: "fallback",
    saveMissingPlurals: !0,
    missingKeyHandler: !1,
    missingInterpolationHandler: !1,
    postProcess: !1,
    postProcessPassResolved: !1,
    returnNull: !0,
    returnEmptyString: !0,
    returnObjects: !1,
    joinArrays: !1,
    returnedObjectHandler: !1,
    parseMissingKeyHandler: !1,
    appendNamespaceToMissingKey: !1,
    appendNamespaceToCIMode: !1,
    overloadTranslationOptionHandler: function(e) {
      var t = {};
      if (is(e[1]) === "object" && (t = e[1]), typeof e[1] == "string" && (t.defaultValue = e[1]), typeof e[2] == "string" && (t.tDescription = e[2]), is(e[2]) === "object" || is(e[3]) === "object") {
        var n = e[3] || e[2];
        Object.keys(n).forEach(function(i) {
          t[i] = n[i];
        });
      }
      return t;
    },
    interpolation: {
      escapeValue: !0,
      format: function(e, t, n) {
        return e;
      },
      prefix: "{{",
      suffix: "}}",
      formatSeparator: ",",
      unescapePrefix: "-",
      nestingPrefix: "$t(",
      nestingSuffix: ")",
      maxReplaces: 1e3
    }
  };
}
function bx(r) {
  return typeof r.ns == "string" && (r.ns = [r.ns]), typeof r.fallbackLng == "string" && (r.fallbackLng = [r.fallbackLng]), typeof r.fallbackNS == "string" && (r.fallbackNS = [r.fallbackNS]), r.whitelist && r.whitelist.indexOf("cimode") < 0 && (r.whitelist = r.whitelist.concat(["cimode"])), r;
}
function _l() {
}
var iP = /* @__PURE__ */ function(r) {
  yh(e, r);
  function e() {
    var t, n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, i = arguments.length > 1 ? arguments[1] : void 0;
    if (Oi(this, e), t = Cc(this, Zo(e).call(this)), us.call(Xs(t)), t.options = bx(n), t.services = {}, t.logger = fi, t.modules = {
      external: []
    }, i && !t.isInitialized && !n.isClone) {
      if (!t.options.initImmediate)
        return t.init(n, i), Cc(t, Xs(t));
      setTimeout(function() {
        t.init(n, i);
      }, 0);
    }
    return t;
  }
  return Ni(e, [{
    key: "init",
    value: function() {
      var n = this, i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, s = arguments.length > 1 ? arguments[1] : void 0;
      typeof i == "function" && (s = i, i = {}), this.options = _r({}, nP(), this.options, bx(i)), this.format = this.options.interpolation.format, s || (s = _l);
      function o(b) {
        return b ? typeof b == "function" ? new b() : b : null;
      }
      if (!this.options.isClone) {
        this.modules.logger ? fi.init(o(this.modules.logger), this.options) : fi.init(null, this.options);
        var a = new Q_(this.options);
        this.store = new q_(this.options.resources, this.options);
        var c = this.services;
        c.logger = fi, c.resourceStore = this.store, c.languageUtils = a, c.pluralResolver = new Z_(a, {
          prepend: this.options.pluralSeparator,
          compatibilityJSON: this.options.compatibilityJSON,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix
        }), c.interpolator = new eP(this.options), c.utils = {
          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
        }, c.backendConnector = new rP(o(this.modules.backend), c.resourceStore, c, this.options), c.backendConnector.on("*", function(b) {
          for (var w = arguments.length, A = new Array(w > 1 ? w - 1 : 0), C = 1; C < w; C++)
            A[C - 1] = arguments[C];
          n.emit.apply(n, [b].concat(A));
        }), this.modules.languageDetector && (c.languageDetector = o(this.modules.languageDetector), c.languageDetector.init(c, this.options.detection, this.options)), this.modules.i18nFormat && (c.i18nFormat = o(this.modules.i18nFormat), c.i18nFormat.init && c.i18nFormat.init(this)), this.translator = new mx(this.services, this.options), this.translator.on("*", function(b) {
          for (var w = arguments.length, A = new Array(w > 1 ? w - 1 : 0), C = 1; C < w; C++)
            A[C - 1] = arguments[C];
          n.emit.apply(n, [b].concat(A));
        }), this.modules.external.forEach(function(b) {
          b.init && b.init(n);
        });
      }
      var l = ["getResource", "addResource", "addResources", "addResourceBundle", "removeResourceBundle", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"];
      l.forEach(function(b) {
        n[b] = function() {
          var w;
          return (w = n.store)[b].apply(w, arguments);
        };
      });
      var f = Da(), p = function() {
        n.changeLanguage(n.options.lng, function(w, A) {
          n.isInitialized = !0, n.logger.log("initialized", n.options), n.emit("initialized", n.options), f.resolve(A), s(w, A);
        });
      };
      return this.options.resources || !this.options.initImmediate ? p() : setTimeout(p, 0), f;
    }
  }, {
    key: "loadResources",
    value: function() {
      var n = this, i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _l;
      if (!this.options.resources || this.options.partialBundledLanguages) {
        if (this.language && this.language.toLowerCase() === "cimode")
          return i();
        var s = [], o = function(l) {
          if (!!l) {
            var f = n.services.languageUtils.toResolveHierarchy(l);
            f.forEach(function(p) {
              s.indexOf(p) < 0 && s.push(p);
            });
          }
        };
        if (this.language)
          o(this.language);
        else {
          var a = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
          a.forEach(function(c) {
            return o(c);
          });
        }
        this.options.preload && this.options.preload.forEach(function(c) {
          return o(c);
        }), this.services.backendConnector.load(s, this.options.ns, i);
      } else
        i(null);
    }
  }, {
    key: "reloadResources",
    value: function(n, i, s) {
      var o = Da();
      return n || (n = this.languages), i || (i = this.options.ns), s || (s = _l), this.services.backendConnector.reload(n, i, function(a) {
        o.resolve(), s(a);
      }), o;
    }
  }, {
    key: "use",
    value: function(n) {
      return n.type === "backend" && (this.modules.backend = n), (n.type === "logger" || n.log && n.warn && n.error) && (this.modules.logger = n), n.type === "languageDetector" && (this.modules.languageDetector = n), n.type === "i18nFormat" && (this.modules.i18nFormat = n), n.type === "postProcessor" && Yw.addPostProcessor(n), n.type === "3rdParty" && this.modules.external.push(n), this;
    }
  }, {
    key: "changeLanguage",
    value: function(n, i) {
      var s = this, o = Da();
      this.emit("languageChanging", n);
      var a = function(f, p) {
        s.translator.changeLanguage(p), p && (s.emit("languageChanged", p), s.logger.log("languageChanged", p)), o.resolve(function() {
          return s.t.apply(s, arguments);
        }), i && i(f, function() {
          return s.t.apply(s, arguments);
        });
      }, c = function(f) {
        f && (s.language = f, s.languages = s.services.languageUtils.toResolveHierarchy(f), s.translator.language || s.translator.changeLanguage(f), s.services.languageDetector && s.services.languageDetector.cacheUserLanguage(f)), s.loadResources(function(p) {
          a(p, f);
        });
      };
      return !n && this.services.languageDetector && !this.services.languageDetector.async ? c(this.services.languageDetector.detect()) : !n && this.services.languageDetector && this.services.languageDetector.async ? this.services.languageDetector.detect(c) : c(n), o;
    }
  }, {
    key: "getFixedT",
    value: function(n, i) {
      var s = this, o = function a(c, l) {
        var f;
        if (is(l) !== "object") {
          for (var p = arguments.length, b = new Array(p > 2 ? p - 2 : 0), w = 2; w < p; w++)
            b[w - 2] = arguments[w];
          f = s.options.overloadTranslationOptionHandler([c, l].concat(b));
        } else
          f = _r({}, l);
        return f.lng = f.lng || a.lng, f.lngs = f.lngs || a.lngs, f.ns = f.ns || a.ns, s.t(c, f);
      };
      return typeof n == "string" ? o.lng = n : o.lngs = n, o.ns = i, o;
    }
  }, {
    key: "t",
    value: function() {
      var n;
      return this.translator && (n = this.translator).translate.apply(n, arguments);
    }
  }, {
    key: "exists",
    value: function() {
      var n;
      return this.translator && (n = this.translator).exists.apply(n, arguments);
    }
  }, {
    key: "setDefaultNamespace",
    value: function(n) {
      this.options.defaultNS = n;
    }
  }, {
    key: "hasLoadedNamespace",
    value: function(n) {
      var i = this;
      if (!this.isInitialized)
        return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages), !1;
      if (!this.languages || !this.languages.length)
        return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages), !1;
      var s = this.languages[0], o = this.options ? this.options.fallbackLng : !1, a = this.languages[this.languages.length - 1];
      if (s.toLowerCase() === "cimode")
        return !0;
      var c = function(f, p) {
        var b = i.services.backendConnector.state["".concat(f, "|").concat(p)];
        return b === -1 || b === 2;
      };
      return !!(this.hasResourceBundle(s, n) || !this.services.backendConnector.backend || c(s, n) && (!o || c(a, n)));
    }
  }, {
    key: "loadNamespaces",
    value: function(n, i) {
      var s = this, o = Da();
      return this.options.ns ? (typeof n == "string" && (n = [n]), n.forEach(function(a) {
        s.options.ns.indexOf(a) < 0 && s.options.ns.push(a);
      }), this.loadResources(function(a) {
        o.resolve(), i && i(a);
      }), o) : (i && i(), Promise.resolve());
    }
  }, {
    key: "loadLanguages",
    value: function(n, i) {
      var s = Da();
      typeof n == "string" && (n = [n]);
      var o = this.options.preload || [], a = n.filter(function(c) {
        return o.indexOf(c) < 0;
      });
      return a.length ? (this.options.preload = o.concat(a), this.loadResources(function(c) {
        s.resolve(), i && i(c);
      }), s) : (i && i(), Promise.resolve());
    }
  }, {
    key: "dir",
    value: function(n) {
      if (n || (n = this.languages && this.languages.length > 0 ? this.languages[0] : this.language), !n)
        return "rtl";
      var i = ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam"];
      return i.indexOf(this.services.languageUtils.getLanguagePartFromCode(n)) >= 0 ? "rtl" : "ltr";
    }
  }, {
    key: "createInstance",
    value: function() {
      var n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, i = arguments.length > 1 ? arguments[1] : void 0;
      return new e(n, i);
    }
  }, {
    key: "cloneInstance",
    value: function() {
      var n = this, i = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _l, o = _r({}, this.options, i, {
        isClone: !0
      }), a = new e(o), c = ["store", "services", "language"];
      return c.forEach(function(l) {
        a[l] = n[l];
      }), a.translator = new mx(a.services, a.options), a.translator.on("*", function(l) {
        for (var f = arguments.length, p = new Array(f > 1 ? f - 1 : 0), b = 1; b < f; b++)
          p[b - 1] = arguments[b];
        a.emit.apply(a, [l].concat(p));
      }), a.init(o, s), a.translator.options = a.options, a;
    }
  }]), e;
}(us);
new iP();
function Nr(r, e, t, n) {
  var i = arguments.length, s = i < 3 ? e : n === null ? n = Object.getOwnPropertyDescriptor(e, t) : n, o;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    s = Reflect.decorate(r, e, t, n);
  else
    for (var a = r.length - 1; a >= 0; a--)
      (o = r[a]) && (s = (i < 3 ? o(s) : i > 3 ? o(e, t, s) : o(e, t)) || s);
  return i > 3 && s && Object.defineProperty(e, t, s), s;
}
function Zi(r, e) {
  return function(t, n) {
    e(t, n, r);
  };
}
var xx;
(function(r) {
  r.I18N_EA_CHANNEL = "i18n:locale:changed", r.I18N_SIGNAL = "aurelia-translation-signal", r.RT_SIGNAL = "aurelia-relativetime-signal";
})(xx || (xx = {}));
var vx;
(function(r) {
  r.translationValueConverterName = "t", r.dateFormatValueConverterName = "df", r.numberFormatValueConverterName = "nf", r.relativeTimeValueConverterName = "rt";
})(vx || (vx = {}));
function rp(r, e) {
  const t = e.ast.expression;
  if (!(t instanceof lc)) {
    const n = new lc(t, r, e.ast.args);
    e.ast.expression = n;
  }
}
let yx = class {
  bind(e, t) {
    rp("df", t);
  }
};
yx = Nr([Mr("df")], yx);
const sP = pe.createInterface("I18nInitOptions"), oP = pe.createInterface("I18nextWrapper");
var wx;
(function(r) {
  r[r.Second = 1e3] = "Second", r[r.Minute = 6e4] = "Minute", r[r.Hour = 36e5] = "Hour", r[r.Day = 864e5] = "Day", r[r.Week = 6048e5] = "Week", r[r.Month = 2592e6] = "Month", r[r.Year = 31536e6] = "Year";
})(wx || (wx = {}));
class aP {
  constructor(e) {
    this.value = void 0;
    const t = /\[([a-z\-, ]*)\]/gi;
    this.attributes = [];
    const n = t.exec(e);
    n && (e = e.replace(n[0], ""), this.attributes = n[1].split(",")), this.key = e;
  }
}
const go = pe.createInterface("I18N");
let Ax = class {
  constructor(e, t, n, i) {
    this.ea = n, this.i = /* @__PURE__ */ new Set(), this.i18next = e.i18next, this.initPromise = this.h(t), this.u = i;
  }
  evaluate(e, t) {
    const n = e.split(";"), i = [];
    for (const s of n) {
      const o = new aP(s), a = o.key, c = this.tr(a, t);
      this.options.skipTranslationOnMissingKey && c === a ? console.warn(`Couldn't find translation for key: ${a}`) : (o.value = c, i.push(o));
    }
    return i;
  }
  tr(e, t) {
    return this.i18next.t(e, t);
  }
  getLocale() {
    return this.i18next.language;
  }
  async setLocale(e) {
    const n = {
      oldLocale: this.getLocale(),
      newLocale: e
    };
    await this.i18next.changeLanguage(e), this.ea.publish("i18n:locale:changed", n), this.i.forEach((i) => i.handleLocaleChange(n)), this.u.dispatchSignal("aurelia-translation-signal");
  }
  createNumberFormat(e, t) {
    return Intl.NumberFormat(t || this.getLocale(), e);
  }
  nf(e, t, n) {
    return this.createNumberFormat(t, n).format(e);
  }
  createDateTimeFormat(e, t) {
    return Intl.DateTimeFormat(t || this.getLocale(), e);
  }
  df(e, t, n) {
    return this.createDateTimeFormat(t, n).format(e);
  }
  uf(e, t) {
    const n = this.nf(3333.3333333333335, void 0, t);
    let i = n[1];
    const s = n[5];
    i === "." && (i = "\\.");
    const o = e.replace(new RegExp(i, "g"), "").replace(/[^\d.,-]/g, "").replace(s, ".");
    return Number(o);
  }
  createRelativeTimeFormat(e, t) {
    return new Intl.RelativeTimeFormat(t || this.getLocale(), e);
  }
  rt(e, t, n) {
    let i = e.getTime() - this.now();
    const s = this.options.rtEpsilon * (i > 0 ? 1 : 0), o = this.createRelativeTimeFormat(t, n);
    let a = i / 31536e6;
    return Math.abs(a + s) >= 1 ? o.format(Math.round(a), "year") : (a = i / 2592e6, Math.abs(a + s) >= 1 ? o.format(Math.round(a), "month") : (a = i / 6048e5, Math.abs(a + s) >= 1 ? o.format(Math.round(a), "week") : (a = i / 864e5, Math.abs(a + s) >= 1 ? o.format(Math.round(a), "day") : (a = i / 36e5, Math.abs(a + s) >= 1 ? o.format(Math.round(a), "hour") : (a = i / 6e4, Math.abs(a + s) >= 1 ? o.format(Math.round(a), "minute") : (i = Math.abs(i) < 1e3 ? 1e3 : i, a = i / 1e3, o.format(Math.round(a), "second")))))));
  }
  subscribeLocaleChange(e) {
    this.i.add(e);
  }
  now() {
    return new Date().getTime();
  }
  async h(e) {
    const t = {
      lng: "en",
      fallbackLng: ["en"],
      debug: !1,
      plugins: [],
      rtEpsilon: 0.01,
      skipTranslationOnMissingKey: !1
    };
    this.options = {
      ...t,
      ...e
    };
    for (const n of this.options.plugins)
      this.i18next.use(n);
    await this.i18next.init(this.options);
  }
};
Ax = Nr([Zi(0, oP), Zi(1, sP), Zi(2, Zu), Zi(3, c0)], Ax);
let Sx = class {
  constructor(e) {
    this.i18n = e, this.signals = ["aurelia-translation-signal"];
  }
  toView(e, t, n) {
    if (!e && e !== 0 || typeof e == "string" && e.trim() === "")
      return e;
    if (typeof e == "string") {
      const i = Number(e), s = new Date(Number.isInteger(i) ? i : e);
      if (isNaN(s.getTime()))
        return e;
      e = s;
    }
    return this.i18n.df(e, t, n);
  }
};
Sx = Nr([Wc("df"), Zi(0, go)], Sx);
let Cx = class {
  bind(e, t) {
    rp("nf", t);
  }
};
Cx = Nr([Mr("nf")], Cx);
let Ex = class {
  constructor(e) {
    this.i18n = e, this.signals = ["aurelia-translation-signal"];
  }
  toView(e, t, n) {
    return typeof e != "number" ? e : this.i18n.nf(e, t, n);
  }
};
Ex = Nr([Wc("nf"), Zi(0, go)], Ex);
let _x = class {
  bind(e, t) {
    rp("rt", t);
  }
};
_x = Nr([Mr("rt")], _x);
let Px = class {
  constructor(e) {
    this.i18n = e, this.signals = ["aurelia-translation-signal", "aurelia-relativetime-signal"];
  }
  toView(e, t, n) {
    return e instanceof Date ? this.i18n.rt(e, t, n) : e;
  }
};
Px = Nr([Wc("rt"), Zi(0, go)], Px);
let kx = class {
  bind(e, t) {
    const n = t.ast.expression;
    if (!(n instanceof lc)) {
      const i = new lc(n, "t", t.ast.args);
      t.ast.expression = i;
    }
  }
};
kx = Nr([Mr("t")], kx);
const cP = ["textContent", "innerHTML", "prepend", "append"], lP = /* @__PURE__ */ new Map([["text", "textContent"], ["html", "innerHTML"]]), uP = {
  optional: !0
}, hP = {
  reusable: !1,
  preempt: !0
};
class Ci {
  constructor(e, t, n, i, s) {
    this.isBound = !1, this.T = cP, this.B = null, this.parameter = null, this.boundFn = !1, this.l = t, this.C = e, this.target = s, this.i18n = t.get(go), this.p = i, this.I = /* @__PURE__ */ new Set(), this.oL = n, this.i18n.subscribeLocaleChange(this), this.P = i.domWriteQueue;
  }
  static create({ parser: e, observerLocator: t, context: n, controller: i, target: s, instruction: o, platform: a, isParameterContext: c }) {
    const l = this.M({
      observerLocator: t,
      context: n,
      controller: i,
      target: s,
      platform: a
    }), f = typeof o.from == "string" ? e.parse(o.from, 16) : o.from;
    if (c)
      l.useParameter(f);
    else {
      const p = f instanceof Jd ? e.parse(f.value, 1) : void 0;
      l.ast = p || f;
    }
  }
  static M({ observerLocator: e, context: t, controller: n, target: i, platform: s }) {
    let o = n.bindings && n.bindings.find((a) => a instanceof Ci && a.target === i);
    return o || (o = new Ci(n, t, e, s, i), n.addBinding(o)), o;
  }
  bind(e) {
    if (!this.isBound) {
      if (!this.ast)
        throw new Error("key expression is missing");
      this.s = e, this.A = this.ast instanceof V1, this.L = U(this.ast, e, this, this), this.R(), this.parameter?.bind(e), this.updateTranslations(), this.isBound = !0;
    }
  }
  unbind() {
    !this.isBound || (tn(this.ast, this.s, this), this.parameter?.unbind(), this.I.clear(), this.B !== null && (this.B.cancel(), this.B = null), this.s = void 0, this.obs.clearAll());
  }
  handleChange(e, t) {
    this.obs.version++, this.L = this.A ? U(this.ast, this.s, this, this) : e, this.obs.clear(), this.R(), this.updateTranslations();
  }
  handleLocaleChange() {
    this.updateTranslations();
  }
  useParameter(e) {
    if (this.parameter != null)
      throw new Error("This translation parameter has already been specified.");
    this.parameter = new np(this, e, () => this.updateTranslations());
  }
  updateTranslations() {
    const e = this.i18n.evaluate(this.L, this.parameter?.value), t = /* @__PURE__ */ Object.create(null), n = [], i = this.B;
    this.I.clear();
    for (const o of e) {
      const a = o.value, c = this.N(o.attributes);
      for (const l of c)
        if (this.O(l))
          t[l] = a;
        else {
          const f = Do.for(this.target, uP), p = f?.viewModel ? this.oL.getAccessor(f.viewModel, l) : this.oL.getAccessor(this.target, l);
          this.C.state !== 1 && (4 & p.type) > 0 ? n.push(new fP(p, a, this.target, l)) : p.setValue(a, this.target, l), this.I.add(p);
        }
    }
    let s = !1;
    Object.keys(t).length > 0 && (s = this.C.state !== 1, s || this.V(t)), (n.length > 0 || s) && (this.B = this.P.queueTask(() => {
      this.B = null;
      for (const o of n)
        o.run();
      s && this.V(t);
    }, hP)), i?.cancel();
  }
  N(e) {
    e.length === 0 && (e = this.target.tagName === "IMG" ? ["src"] : ["textContent"]);
    for (const [t, n] of lP) {
      const i = e.findIndex((s) => s === t);
      i > -1 && e.splice(i, 1, n);
    }
    return e;
  }
  O(e) {
    return this.T.includes(e);
  }
  V(e) {
    const t = Gh(this.target.childNodes), n = [], i = "au-i18n";
    for (const o of t)
      Reflect.get(o, i) || n.push(o);
    const s = this._(e, i, n);
    this.target.innerHTML = "";
    for (const o of Gh(s.content.childNodes))
      this.target.appendChild(o);
  }
  _(e, t, n) {
    const i = this.p.document.createElement("template");
    if (this.F(i, e.prepend, t), !this.F(i, e.innerHTML ?? e.textContent, t))
      for (const s of n)
        i.content.append(s);
    return this.F(i, e.append, t), i;
  }
  F(e, t, n) {
    if (t != null) {
      const i = this.p.document.createElement("div");
      i.innerHTML = t;
      for (const s of Gh(i.childNodes))
        Reflect.set(s, n, !0), e.content.append(s);
      return !0;
    }
    return !1;
  }
  R() {
    const e = this.L ?? (this.L = ""), t = typeof e;
    if (t !== "string")
      throw new Error(`Expected the i18n key to be a string, but got ${e} of type ${t}`);
  }
}
kn(Ci);
Yn(!0)(Ci);
uo(Ci, () => "updateTranslations");
class fP {
  constructor(e, t, n, i) {
    this.accessor = e, this.v = t, this.el = n, this.attr = i;
  }
  run() {
    this.accessor.setValue(this.v, this.el, this.attr);
  }
}
class np {
  constructor(e, t, n) {
    this.owner = e, this.ast = t, this.updater = n, this.isBound = !1, this.boundFn = !1, this.oL = e.oL, this.l = e.l;
  }
  handleChange(e, t) {
    !this.isBound || (this.obs.version++, this.value = U(this.ast, this.s, this, this), this.obs.clear(), this.updater());
  }
  bind(e) {
    this.isBound || (this.s = e, An(this.ast, e, this), this.value = U(this.ast, e, this, this), this.isBound = !0);
  }
  unbind() {
    !this.isBound || (tn(this.ast, this.s, this), this.s = void 0, this.obs.clearAll());
  }
}
kn(np);
Yn(!0)(np);
const Xw = "tpt", Ec = "t-params.bind";
let Rx = class {
  [Ec](e, t, n) {
    return new sn(e, t, "", Ec);
  }
};
Rx = Nr([ki({
  pattern: Ec,
  symbols: ""
})], Rx);
class dP {
  constructor(e, t) {
    this.from = e, this.to = t, this.type = Xw, this.mode = 2;
  }
}
let Tx = class {
  constructor() {
    this.type = 0;
  }
  get name() {
    return Ec;
  }
  build(e, t, n) {
    const i = e.attr;
    let s = i.target;
    return e.bindable == null ? s = n.map(e.node, s) ?? Hr(s) : s = e.bindable.property, new dP(t.parse(i.rawValue, 16), s);
  }
};
Tx = Nr([Or(Ec)], Tx);
let Ix = class {
  render(e, t, n, i, s, o) {
    Ci.create({
      parser: s,
      observerLocator: o,
      context: e.container,
      controller: e,
      target: t,
      instruction: n,
      isParameterContext: !0,
      platform: i
    });
  }
};
Ix = Nr([Dt(Xw)], Ix);
const pP = "tt";
let Mx = class {
  render(e, t, n, i, s, o) {
    Ci.create({
      parser: s,
      observerLocator: o,
      context: e.container,
      controller: e,
      target: t,
      instruction: n,
      platform: i
    });
  }
};
Mx = Nr([Dt(pP)], Mx);
const gP = "tbt";
let Ox = class {
  render(e, t, n, i, s, o) {
    Ci.create({
      parser: s,
      observerLocator: o,
      context: e.container,
      controller: e,
      target: t,
      instruction: n,
      platform: i
    });
  }
};
Ox = Nr([Dt(gP)], Ox);
let Nx = class {
  constructor(e) {
    this.i18n = e, this.signals = ["aurelia-translation-signal"];
  }
  toView(e, t) {
    return this.i18n.tr(e, t);
  }
};
Nx = Nr([Wc("t"), Zi(0, go)], Nx);
var mP = Object.defineProperty, bP = Object.getOwnPropertyDescriptor, xP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? bP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && mP(e, t, i), i;
}, vP = (r, e) => (t, n) => e(t, n, r);
const sl = pe.createInterface("NumberService");
let _c = class {
  constructor(r) {
    this.i18n = r;
  }
  static register(r) {
    r.register(fe.singleton(sl, _c));
  }
  toString(r, e) {
    if (r === null || typeof r > "u" || typeof r == "string")
      return r;
    if (V.isBigNumber(r) && (r = r.toNumber()), Number.isNaN(r))
      return "NaN";
    const t = e?.useGrouping ?? !0, n = e?.isPercentage ?? !1, i = e?.isCurrency ?? !1;
    let s = this.fromString(e?.fractionDigits);
    isNaN(s) && (s = 2);
    const o = i ? { style: "currency", currency: "USD" } : n ? { style: "percent" } : { style: "decimal" };
    return this.i18n.nf(
      r,
      Object.assign(o, {
        useGrouping: t,
        minimumFractionDigits: s,
        maximumFractionDigits: s
      })
    );
  }
  fromString(r) {
    return r === null || typeof r > "u" ? NaN : typeof r == "number" ? r : this.i18n.uf(r);
  }
};
_c = xP([
  vP(0, go)
], _c);
var yP = Object.defineProperty, wP = Object.getOwnPropertyDescriptor, AP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? wP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && yP(e, t, i), i;
}, Dx = (r, e) => (t, n) => e(t, n, r);
const Zw = pe.createInterface("ObserverService");
let Mu = class {
  constructor(r, e) {
    this.locator = r, this.cacheService = e;
  }
  static register(r) {
    r.register(fe.singleton(Zw, Mu));
  }
  listen(r, e, t) {
    const n = this.locator.getObserver(r, e), i = {
      handleChange: t
    };
    return n.subscribe(i), () => n.unsubscribe(i);
  }
};
Mu = AP([
  Dx(0, ao),
  Dx(1, ga)
], Mu);
var SP = Object.defineProperty, CP = Object.getOwnPropertyDescriptor, EP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? CP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && SP(e, t, i), i;
}, _P = (r, e) => (t, n) => e(t, n, r);
const e2 = pe.createInterface("TimingService");
let Ou = class {
  constructor(r) {
    this.config = r;
  }
  static register(r) {
    fe.singleton(e2, Ou).register(r);
  }
  startTimer(r) {
    this.config.isDevelopment && console.time(r);
  }
  endTimer(r) {
    this.config.isDevelopment && console.timeEnd(r);
  }
};
Ou = EP([
  _P(0, vh)
], Ou);
var PP = Object.defineProperty, kP = Object.getOwnPropertyDescriptor, t2 = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? kP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && PP(e, t, i), i;
}, Nf = (r, e) => (t, n) => e(t, n, r);
const ip = pe.createInterface();
let ea = class {
  constructor(r, e, t) {
    this.cacheService = r, this.ethereumService = e, this.contractService = t;
  }
  static register(r) {
    fe.singleton(ip, ea).register(r);
  }
  async getTokenContract(r, e) {
    return this.getTokenContractForAccount(this.ethereumService.defaultAccountAddress, r, e);
  }
  async getTokenContractForProvider(r, e, t) {
    const n = t ? await this.contractService.getSharedAbi("monetary", "ERC721") : await this.contractService.getSharedAbi("monetary", "ERC20");
    return new Pw(e, n, r);
  }
  getTokenContractForAccount(r, e, t) {
    const n = this.ethereumService.createSignerOrProviderForAddress(r);
    return this.getTokenContractForProvider(n, e, t);
  }
};
t2([
  X0(function() {
    return { storage: this.cacheService };
  })
], ea.prototype, "getTokenContractForAccount", 1);
ea = t2([
  Nf(0, ga),
  Nf(1, il),
  Nf(2, Aa)
], ea);
var RP = Object.defineProperty, TP = Object.getOwnPropertyDescriptor, IP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? TP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && RP(e, t, i), i;
}, Yr = (r, e) => (t, n) => e(t, n, r);
const MP = pe.createInterface();
let Rd = class {
  constructor(r, e, t, n, i, s, o, a, c, l, f, p) {
    this.httpService = r, this.numberService = e, this.ethereumService = t, this.browserStorageService = n, this.timingService = i, this.cacheService = s, this.observerService = o, this.encryptionService = a, this.contractService = c, this.tokenService = l, this.ipfsService = f, this.configuration = p;
  }
  static register(r) {
    r.register(fe.singleton(MP, Rd)).register(Mu).register(Ou).register(ch).register(Sc).register(Ru).register(_c).register(Yo).register(ku).register(Y0).register(Tu).register(Xo).register(ea);
  }
};
Rd = IP([
  Yr(0, zw),
  Yr(1, sl),
  Yr(2, il),
  Yr(3, xh),
  Yr(4, e2),
  Yr(5, ga),
  Yr(6, Zw),
  Yr(7, Gw),
  Yr(8, Aa),
  Yr(9, ip),
  Yr(10, ep),
  Yr(11, vh)
], Rd);
pe.createInterface("DateServiceIntl");
var OP = Object.defineProperty, NP = Object.getOwnPropertyDescriptor, DP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? NP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && OP(e, t, i), i;
};
let Bx = class {
  disposables;
  constructor() {
    this.disposables = new Array();
  }
  push(r) {
    return this.disposables.push(r);
  }
  dispose(r) {
    if (r)
      this._dispose(r);
    else {
      for (r of this.disposables)
        r.dispose();
      this.disposables.length = 0;
    }
  }
  _dispose(r) {
    r.dispose(), this.disposables.splice(this.disposables.indexOf(r), 1);
  }
};
Bx = DP([
  M1()
], Bx);
var BP = Object.defineProperty, $P = Object.getOwnPropertyDescriptor, LP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? $P(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && BP(e, t, i), i;
}, FP = (r, e) => (t, n) => e(t, n, r);
const UP = pe.createInterface("TransactionsService");
let Nu = class {
  constructor(r) {
    this.eventAggregator = r;
  }
  static blocksToConfirm = 1;
  static register(r) {
    fe.singleton(UP, Nu).register(r);
  }
  async send(r) {
    let e;
    try {
      this.eventAggregator.publish("transaction.sending");
      const t = await r();
      return this.eventAggregator.publish("transaction.sent", t), e = await t.wait(1), this.eventAggregator.publish("transaction.mined", { message: "Transaction was mined", receipt: e }), e = await t.wait(Nu.blocksToConfirm), this.eventAggregator.publish("transaction.confirmed", { message: "Transaction was confirmed", receipt: e }), e;
    } catch (t) {
      return this.eventAggregator.publish("transaction.failed", t), null;
    }
  }
};
Nu = LP([
  FP(0, Zu)
], Nu);
var VP = Object.defineProperty, jP = Object.getOwnPropertyDescriptor, WP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? jP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && VP(e, t, i), i;
}, Ba = (r, e) => (t, n) => e(t, n, r);
const sp = pe.createInterface("IContractStore");
let Du = class {
  constructor(r, e, t, n, i) {
    this.contractService = r, this.tokenService = e, this.logger = t, this.numberService = n, this.tokenInfo = i;
  }
  static register(r) {
    r.register(fe.singleton(sp, Du));
  }
  async getAsset(r, e, t, n, i, s) {
    let o;
    e && (o = Number(e));
    const c = (await this.tokenInfo.tokens).find((S) => S.address === r && S.id == o);
    if (!c) {
      this.logger.error(`No token info was found for ${r}`);
      return;
    }
    const l = await this.tokenService.getTokenContract(r, c.id);
    if (s || (c.id ? s = await t.oraclePerERC721Id(r, c.id) : s = await t.oraclePerERC20(r)), !s || V.from(s).isZero())
      return;
    const p = await (await this.contractService.getContract("monetary", "Oracle", s)).getData();
    if (!p[1])
      return;
    c.price = this.numberService.fromString(zt(p[0], 18));
    let b = ux(1, 18), w;
    c.id || (w = await l.totalSupply(), b = await l.balanceOf(n));
    let A;
    c.id ? A = Ji.Ecological : A = await t.assetTypeOfERC20(r), i && this.populateTransactionsForAsset(i, l, n, c);
    const C = {
      quantity: b,
      token: c,
      total: 0,
      type: A,
      totalSupply: w
    };
    return C.total = c.id ? c.price : this.numberService.fromString(zt(C.quantity, 18)) * c.price, C;
  }
  async populateTransactionsForAsset(r, e, t, n) {
    const i = await e.queryFilter(e.filters.Transfer(void 0, t)), s = await this.mapTransactions(i, "deposit", n);
    r.push(...s);
    const o = await e.queryFilter(e.filters.Transfer(t)), a = await this.mapTransactions(o, "withdrawl", n);
    r.push(...a);
  }
  async mapTransactions(r, e, t) {
    return await Promise.all(
      r.map(async (n) => {
        const i = await n.getBlock();
        return {
          address: e === "deposit" ? n.args.from : n.args.to,
          amount: "amount" in n.args ? n.args.amount : ux(1, 18),
          date: i.timestamp,
          id: n.transactionHash,
          token: t,
          type: e
        };
      })
    );
  }
};
Du = WP([
  Ba(0, Aa),
  Ba(1, ip),
  Ba(2, oo),
  Ba(3, sl),
  Ba(4, Hw)
], Du);
var HP = Object.defineProperty, GP = Object.getOwnPropertyDescriptor, KP = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? GP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && HP(e, t, i), i;
}, zP = (r, e) => (t, n) => e(t, n, r);
const op = pe.createInterface("DataStore");
let Bu = class {
  constructor(r) {
    this.firebaseService = r;
  }
  static register(r) {
    r.register(fe.singleton(op, Bu));
  }
  async getDocs(...r) {
    return this.firebaseService.getDocs(...r);
  }
};
Bu = KP([
  zP(0, Z0)
], Bu);
var Yl = /* @__PURE__ */ ((r) => (r.low = "Low Risk", r.moderate = "Moderate Risk", r.high = "High Risk", r))(Yl || {});
function ap(r = "") {
  const e = /* @__PURE__ */ new WeakMap();
  return function(t, n, i) {
    const s = t[n];
    if (typeof s != "function")
      throw { ALLUSERSPROFILE: "C:\\ProgramData", AMDRMPATH: "C:\\Program Files\\AMD\\RyzenMaster\\", ANDROID_HOME: "C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk", APPDATA: "C:\\Users\\Brandon\\AppData\\Roaming", CHROME_CRASHPAD_PIPE_NAME: "\\\\.\\pipe\\crashpad_7100_ULEJTCVXINGYBZSQ", CLASSPATH: ".;", COLOR: "1", COLORTERM: "truecolor", COMMONPROGRAMFILES: "C:\\Program Files\\Common Files", COMPUTERNAME: "DESKTOP-72OQKP6", COMSPEC: "C:\\WINDOWS\\system32\\cmd.exe", ChocolateyInstall: "C:\\ProgramData\\chocolatey", ChocolateyLastPathUpdate: "132215198773539171", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", CommonProgramW6432: "C:\\Program Files\\Common Files", DriverData: "C:\\Windows\\System32\\Drivers\\DriverData", EDITOR: "notepad.exe", EXEPATH: "C:\\Program Files\\Git\\bin", FPS_BROWSER_APP_PROFILE_STRING: "Internet Explorer", FPS_BROWSER_USER_PROFILE_STRING: "Default", GIT_ASKPASS: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh", HOME: "C:\\Users\\Brandon", HOMEDRIVE: "C:", HOMEPATH: "\\Users\\Brandon", INIT_CWD: "C:\\Users\\Brandon\\source\\repos\\dapp", INTEL_DEV_REDIST: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\", JAVA_HOME: "C:\\Program Files\\Java\\jdk1.8.0_231", LANG: "en_US.UTF-8", LOCALAPPDATA: "C:\\Users\\Brandon\\AppData\\Local", LOGONSERVER: "\\\\DESKTOP-72OQKP6", MIC_LD_LIBRARY_PATH: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic", MSYSTEM: "MINGW64", MYSQLCONNECTOR_ASSEMBLIESPATH: "C:\\Program Files (x86)\\MySQL\\Connector NET 8.0\\Assemblies\\v4.5.2", NODE: "C:\\Program Files\\nodejs\\node.exe", NUMBER_OF_PROCESSORS: "32", NVM_HOME: "C:\\Users\\Brandon\\AppData\\Roaming\\nvm", NVM_SYMLINK: "C:\\Program Files\\nodejs", ORIGINAL_XDG_CURRENT_DESKTOP: "undefined", OS: "Windows_NT", OcpApimSubscriptionKey: "15752dea34354b65bb7b54bca0da1b8d", OneDrive: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", OneDriveCommercial: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", PAC_CLI_LAUNCHER_AGENT: "powerplatform-vscode/1.0.21", PATH: "C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Brandon\\bin;C:\\Users\\Brandon\\source\\repos\\dapp\\node_modules\\.bin;C:\\Users\\Brandon\\source\\repos\\node_modules\\.bin;C:\\Users\\Brandon\\source\\node_modules\\.bin;C:\\Users\\Brandon\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Brandon\\AppData\\Roaming\\Code\\User\\globalStorage\\microsoft-isvexptools.powerplatform-vscode\\pac\\tools;C:\\Program Files (x86)\\Razer Chroma SDK\\bin;C:\\Program Files\\Razer Chroma SDK\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\Python39\\Scripts;C:\\Python39;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Python27;C:\\Python27\\Scripts;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\dotnet;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\130\\DTS\\Binn;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn;C:\\Program Files\\Microsoft VS Code Insiders\\bin;C:\\Program Files\\Java\\jdk1.8.0_231\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\platform-tools;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn;C:\\Program Files\\gradle-6.3\\bin;C:\\flutter\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\tools;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\Program Files\\Microsoft\\Azure Functions Core Tools;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHu;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\npm;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\L;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files (x8;C:\\Program Files (x86)\\dotnet;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Brandon\\AppData\\Local\\JetBrains\\Toolbox\\scripts;%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps", PATHEXT: ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL", PLINK_PROTOCOL: "ssh", PREFERRED_WORKSPACE_MANAGER: "yarn", PROCESSOR_ARCHITECTURE: "AMD64", PROCESSOR_IDENTIFIER: "AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD", PROCESSOR_LEVEL: "23", PROCESSOR_REVISION: "7100", PROGRAMFILES: "C:\\Program Files", PSModulePath: "C:\\Users\\Brandon\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\PowerShell\\Modules\\", PUBLIC: "C:\\Users\\Public", PWD: "C:/Users/Brandon/source/repos/dapp", ProgramData: "C:\\ProgramData", "ProgramFiles(x86)": "C:\\Program Files (x86)", ProgramW6432: "C:\\Program Files", SESSIONNAME: "Console", SHLVL: "0", SYSTEMDRIVE: "C:", SYSTEMROOT: "C:\\WINDOWS", TEMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", TERM: "xterm-256color", TERM_PROGRAM: "vscode", TERM_PROGRAM_VERSION: "1.72.2", TMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", USERDOMAIN: "DESKTOP-72OQKP6", USERDOMAIN_ROAMINGPROFILE: "DESKTOP-72OQKP6", USERNAME: "Brandon", USERPROFILE: "C:\\Users\\Brandon", VS160PROCOMNTOOLS: "C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\Common7\\Tools\\", VSCODE_GIT_ASKPASS_EXTRA_ARGS: "--ms-enable-electron-run-as-node", VSCODE_GIT_ASKPASS_MAIN: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js", VSCODE_GIT_ASKPASS_NODE: "C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe", VSCODE_GIT_IPC_HANDLE: "\\\\.\\pipe\\vscode-git-b178cbeab5-sock", WINDIR: "C:\\WINDOWS", "asl.log": "Destination=file", npm_command: "run-script", npm_config_cache: "C:\\Users\\Brandon\\AppData\\Local\\npm-cache", npm_config_global_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_globalconfig: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\etc\\npmrc", npm_config_init_module: "C:\\Users\\Brandon\\.npm-init.js", npm_config_local_prefix: "C:\\Users\\Brandon\\source\\repos\\dapp", npm_config_metrics_registry: "https://registry.npmjs.org/", npm_config_node_gyp: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js", npm_config_noproxy: "", npm_config_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_script_shell: "C:\\Program Files\\git\\bin\\bash.exe", npm_config_shamefully_hoist: "true", npm_config_user_agent: "npm/8.6.0 node/v19.0.1 win32 x64 workspaces/false", npm_config_userconfig: "C:\\Users\\Brandon\\.npmrc", npm_execpath: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js", npm_lifecycle_event: "build:dev:chart-data-script", npm_lifecycle_script: "vite build --config vite.config-lib.ts --mode development", npm_node_execpath: "C:\\Program Files\\nodejs\\node.exe", npm_package_engines_node: ">=16.0.0", npm_package_json: "C:\\Users\\Brandon\\source\\repos\\dapp\\package.json", npm_package_name: "@kolektivo/dapp", npm_package_version: "1.0.0" }.NODE_ENV !== "production" ? new Error(`ER: @callOnce: Invalid decorator target: "${String(n)}", can only be used on a method.`) : new Error(`ER: @callOnce: > ${String(n)}`);
    i.value = function(...o) {
      if (e.has(this))
        return { ALLUSERSPROFILE: "C:\\ProgramData", AMDRMPATH: "C:\\Program Files\\AMD\\RyzenMaster\\", ANDROID_HOME: "C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk", APPDATA: "C:\\Users\\Brandon\\AppData\\Roaming", CHROME_CRASHPAD_PIPE_NAME: "\\\\.\\pipe\\crashpad_7100_ULEJTCVXINGYBZSQ", CLASSPATH: ".;", COLOR: "1", COLORTERM: "truecolor", COMMONPROGRAMFILES: "C:\\Program Files\\Common Files", COMPUTERNAME: "DESKTOP-72OQKP6", COMSPEC: "C:\\WINDOWS\\system32\\cmd.exe", ChocolateyInstall: "C:\\ProgramData\\chocolatey", ChocolateyLastPathUpdate: "132215198773539171", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", CommonProgramW6432: "C:\\Program Files\\Common Files", DriverData: "C:\\Windows\\System32\\Drivers\\DriverData", EDITOR: "notepad.exe", EXEPATH: "C:\\Program Files\\Git\\bin", FPS_BROWSER_APP_PROFILE_STRING: "Internet Explorer", FPS_BROWSER_USER_PROFILE_STRING: "Default", GIT_ASKPASS: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh", HOME: "C:\\Users\\Brandon", HOMEDRIVE: "C:", HOMEPATH: "\\Users\\Brandon", INIT_CWD: "C:\\Users\\Brandon\\source\\repos\\dapp", INTEL_DEV_REDIST: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\", JAVA_HOME: "C:\\Program Files\\Java\\jdk1.8.0_231", LANG: "en_US.UTF-8", LOCALAPPDATA: "C:\\Users\\Brandon\\AppData\\Local", LOGONSERVER: "\\\\DESKTOP-72OQKP6", MIC_LD_LIBRARY_PATH: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic", MSYSTEM: "MINGW64", MYSQLCONNECTOR_ASSEMBLIESPATH: "C:\\Program Files (x86)\\MySQL\\Connector NET 8.0\\Assemblies\\v4.5.2", NODE: "C:\\Program Files\\nodejs\\node.exe", NUMBER_OF_PROCESSORS: "32", NVM_HOME: "C:\\Users\\Brandon\\AppData\\Roaming\\nvm", NVM_SYMLINK: "C:\\Program Files\\nodejs", ORIGINAL_XDG_CURRENT_DESKTOP: "undefined", OS: "Windows_NT", OcpApimSubscriptionKey: "15752dea34354b65bb7b54bca0da1b8d", OneDrive: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", OneDriveCommercial: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", PAC_CLI_LAUNCHER_AGENT: "powerplatform-vscode/1.0.21", PATH: "C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Brandon\\bin;C:\\Users\\Brandon\\source\\repos\\dapp\\node_modules\\.bin;C:\\Users\\Brandon\\source\\repos\\node_modules\\.bin;C:\\Users\\Brandon\\source\\node_modules\\.bin;C:\\Users\\Brandon\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Brandon\\AppData\\Roaming\\Code\\User\\globalStorage\\microsoft-isvexptools.powerplatform-vscode\\pac\\tools;C:\\Program Files (x86)\\Razer Chroma SDK\\bin;C:\\Program Files\\Razer Chroma SDK\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\Python39\\Scripts;C:\\Python39;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Python27;C:\\Python27\\Scripts;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\dotnet;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\130\\DTS\\Binn;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn;C:\\Program Files\\Microsoft VS Code Insiders\\bin;C:\\Program Files\\Java\\jdk1.8.0_231\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\platform-tools;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn;C:\\Program Files\\gradle-6.3\\bin;C:\\flutter\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\tools;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\Program Files\\Microsoft\\Azure Functions Core Tools;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHu;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\npm;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\L;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files (x8;C:\\Program Files (x86)\\dotnet;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Brandon\\AppData\\Local\\JetBrains\\Toolbox\\scripts;%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps", PATHEXT: ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL", PLINK_PROTOCOL: "ssh", PREFERRED_WORKSPACE_MANAGER: "yarn", PROCESSOR_ARCHITECTURE: "AMD64", PROCESSOR_IDENTIFIER: "AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD", PROCESSOR_LEVEL: "23", PROCESSOR_REVISION: "7100", PROGRAMFILES: "C:\\Program Files", PSModulePath: "C:\\Users\\Brandon\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\PowerShell\\Modules\\", PUBLIC: "C:\\Users\\Public", PWD: "C:/Users/Brandon/source/repos/dapp", ProgramData: "C:\\ProgramData", "ProgramFiles(x86)": "C:\\Program Files (x86)", ProgramW6432: "C:\\Program Files", SESSIONNAME: "Console", SHLVL: "0", SYSTEMDRIVE: "C:", SYSTEMROOT: "C:\\WINDOWS", TEMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", TERM: "xterm-256color", TERM_PROGRAM: "vscode", TERM_PROGRAM_VERSION: "1.72.2", TMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", USERDOMAIN: "DESKTOP-72OQKP6", USERDOMAIN_ROAMINGPROFILE: "DESKTOP-72OQKP6", USERNAME: "Brandon", USERPROFILE: "C:\\Users\\Brandon", VS160PROCOMNTOOLS: "C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\Common7\\Tools\\", VSCODE_GIT_ASKPASS_EXTRA_ARGS: "--ms-enable-electron-run-as-node", VSCODE_GIT_ASKPASS_MAIN: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js", VSCODE_GIT_ASKPASS_NODE: "C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe", VSCODE_GIT_IPC_HANDLE: "\\\\.\\pipe\\vscode-git-b178cbeab5-sock", WINDIR: "C:\\WINDOWS", "asl.log": "Destination=file", npm_command: "run-script", npm_config_cache: "C:\\Users\\Brandon\\AppData\\Local\\npm-cache", npm_config_global_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_globalconfig: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\etc\\npmrc", npm_config_init_module: "C:\\Users\\Brandon\\.npm-init.js", npm_config_local_prefix: "C:\\Users\\Brandon\\source\\repos\\dapp", npm_config_metrics_registry: "https://registry.npmjs.org/", npm_config_node_gyp: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js", npm_config_noproxy: "", npm_config_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_script_shell: "C:\\Program Files\\git\\bin\\bash.exe", npm_config_shamefully_hoist: "true", npm_config_user_agent: "npm/8.6.0 node/v19.0.1 win32 x64 workspaces/false", npm_config_userconfig: "C:\\Users\\Brandon\\.npmrc", npm_execpath: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js", npm_lifecycle_event: "build:dev:chart-data-script", npm_lifecycle_script: "vite build --config vite.config-lib.ts --mode development", npm_node_execpath: "C:\\Program Files\\nodejs\\node.exe", npm_package_engines_node: ">=16.0.0", npm_package_json: "C:\\Users\\Brandon\\source\\repos\\dapp\\package.json", npm_package_name: "@kolektivo/dapp", npm_package_version: "1.0.0" }.NODE_ENV !== "production" && r && (console.warn(`Warning: @callOnce: ${String(n)} ${r}`), console.warn(new Error().stack)), e.get(this);
      const a = s.apply(this, o);
      return e.set(this, a), a;
    };
  };
}
var qP = Object.defineProperty, QP = Object.getOwnPropertyDescriptor, cp = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? QP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && qP(e, t, i), i;
}, Pl = (r, e) => (t, n) => e(t, n, r);
const r2 = pe.createInterface("ReserveStore");
let ta = class {
  constructor(r, e, t, n) {
    this.contractStore = r, this.contractService = e, this.numberService = t, this.dataStore = n;
  }
  reserveValue;
  kCurMarketCap;
  backing;
  kCurPrice;
  kCurSupply;
  transactions = [];
  reserveAssets = [];
  kCurReserveDistribution;
  kCurMentoDistribution;
  kCurPrimaryPoolDistribution;
  minBacking;
  static register(r) {
    r.register(fe.singleton(r2, ta));
  }
  get kCurCirculatingDistribution() {
    return !this.kCurReserveDistribution || !this.kCurMentoDistribution || !this.kCurPrimaryPoolDistribution ? 0 : 1 - (this.kCurReserveDistribution + this.kCurMentoDistribution + this.kCurPrimaryPoolDistribution);
  }
  get currentCollateralizationRatio() {
    return this.numberService.fromString(zt(this.backing ?? 0, 2));
  }
  get currentLeverageRatio() {
    return this.backing ? this.calculateLeverage(this.backing) : 0;
  }
  get maxLeverageRatio() {
    return 1 / this.numberService.fromString(zt(this.minBacking ?? 0, 4)) * 100;
  }
  get minCollateralizationRatio() {
    return this.numberService.fromString(zt(this.minBacking ?? 0, 4));
  }
  get minCollateralizationValue() {
    return this.kCurMarketCap ? this.minCollateralizationRatio * this.numberService.fromString(zt(this.kCurMarketCap, 18)) : 0;
  }
  get maxLeverageMultiplier() {
    return `${Math.round(this.maxLeverageRatio / 100 * 100) / 100}x`;
  }
  get kCurTotalValue() {
    return this.numberService.fromString(zt(this.kCurMarketCap ?? 0, 18));
  }
  get kCurPriceFloor() {
    return !this.reserveValue || !this.kCurSupply ? 0 : this.numberService.fromString(zt(this.reserveValue, 18)) / this.numberService.fromString(zt(this.kCurSupply, 18));
  }
  get kCurPriceCeiling() {
    return !this.reserveValue || !this.kCurSupply ? 0 : this.kCurPriceFloor * 1.9;
  }
  get lowRiskAssets() {
    return this.reserveAssets?.filter((r) => r.type === Ji.Stablecoin) ?? [];
  }
  get moderateRiskAssets() {
    return this.reserveAssets?.filter((r) => r.type === Ji.NonStablecoin) ?? [];
  }
  get highRiskAssets() {
    return this.reserveAssets?.filter((r) => r.type === Ji.Ecological) ?? [];
  }
  getRiskClass(r) {
    switch (r) {
      case Ji.Ecological:
        return Yl.high;
      case Ji.NonStablecoin:
        return Yl.moderate;
      case Ji.Stablecoin:
        return Yl.low;
    }
  }
  async loadAssets() {
    const r = await this.getReserveContract(), e = r.address;
    if (!e)
      return;
    const t = (await Promise.all([
      r.allRegisteredERC20s().then((i) => i.map((s) => ({ tokenId: void 0, address: s }))),
      r.allRegisteredERC721Ids().then((i) => i.map((s) => ({ tokenId: s.id, address: s.erc721 })))
    ])).flatMap((i) => i);
    this.reserveAssets = (await Promise.all(
      t.map(
        (i) => this.contractStore.getAsset(i.address, i.tokenId, r, e, this.transactions).catch()
      )
    )).filter(Boolean), this.loadkCurData();
    const n = await r.reserveStatus();
    this.reserveValue = n[0], this.kCurMarketCap = n[1], this.backing = n[2], this.minBacking = await r.minBacking();
  }
  async loadkCur() {
    await this.loadkCurData();
    const r = await this.getReserveContract();
    if (!this.kCurSupply)
      return;
    const t = await (await this.contractService.getContract("monetary", "Kolektivo Curacao Token")).balanceOf(r.address);
    this.kCurReserveDistribution = this.numberService.fromString(zt(t, 18)) / this.numberService.fromString(zt(this.kCurSupply, 18)), this.kCurMentoDistribution = 0.3, this.kCurPrimaryPoolDistribution = 0.4;
  }
  async loadkCurData() {
    if (this.kCurPrice || this.kCurSupply)
      return;
    const r = await this.getReserveContract(), e = await r.token();
    if (!e)
      return;
    const t = r.address;
    if (!t)
      return;
    const n = await r.tokenOracle();
    if (!n)
      return;
    const i = await this.contractStore.getAsset(e, void 0, r, t, void 0, n);
    this.kCurPrice = i?.token.price, this.kCurSupply = i?.totalSupply;
  }
  getReserveContract() {
    return this.contractService.getContract("monetary", "Reserve");
  }
  async getReserveValueOverTime(r) {
    const e = ja(r), n = (await this.dataStore.getDocs(
      `chartData/reserve/${Va(r)}`,
      "createdAt",
      "desc",
      { fieldPath: "createdAt", opStr: ">=", value: e }
    )).map((o) => ({
      createdAt: new Date(o.createdAt),
      value: this.numberService.fromString(zt(o.value, 18))
    }));
    n.sort((o, a) => new Date(o.createdAt).getTime() - new Date(a.createdAt).getTime());
    const s = await (await this.getReserveContract()).reserveStatus();
    return n.push({
      createdAt: new Date(),
      value: this.numberService.fromString(zt(s[0], 18))
    }), n;
  }
  async getLeverageRatioValueOverTime(r) {
    const e = ja(r), t = await this.dataStore.getDocs(
      `chartData/kCurRatio/${Va(r)}`,
      "createdAt",
      "desc",
      { fieldPath: "createdAt", opStr: ">=", value: e }
    );
    t.sort((o, a) => new Date(o.createdAt).getTime() - new Date(a.createdAt).getTime());
    const n = await this.getReserveContract(), i = await n.reserveStatus(), s = await n.minBacking();
    return t.push({
      createdAt: new Date(),
      currentLeverageRatio: this.calculateLeverage(i[2]),
      maxLeverageRatio: 1 / (this.numberService.fromString(zt(s, 2)) / 100) * 100
    }), t;
  }
  async getkCurPriceOverTime(r) {
    const e = ja(r), t = await this.dataStore.getDocs(
      `chartData/kCurPrice/${Va(r)}`,
      "createdAt",
      "desc",
      { fieldPath: "createdAt", opStr: ">=", value: e }
    );
    return t.sort((n, i) => new Date(n.createdAt).getTime() - new Date(i.createdAt).getTime()), await this.loadkCurData(), await this.loadAssets(), t.push({
      createdAt: new Date(),
      kCurPrice: this.kCurPrice,
      kCurPriceCeiling: this.kCurPriceCeiling,
      kCurPriceFloor: this.kCurPriceFloor
    }), t;
  }
  async getRiskOverTime(r) {
    const e = ja(r), t = await this.dataStore.getDocs(
      `chartData/risk/${Va(r)}`,
      "createdAt",
      "desc",
      { fieldPath: "createdAt", opStr: ">=", value: e }
    );
    t.sort((f, p) => new Date(f.createdAt).getTime() - new Date(p.createdAt).getTime()), await this.loadAssets();
    const n = await this.getReserveContract(), i = await n.reserveStatus();
    this.kCurMarketCap = i[1], this.minBacking = await n.minBacking();
    const s = this.minCollateralizationValue, o = this.kCurTotalValue, a = this.lowRiskAssets.map((f) => f.total).sum(), c = this.moderateRiskAssets.map((f) => f.total).sum(), l = this.highRiskAssets.map((f) => f.total).sum();
    return t.push({
      createdAt: new Date(),
      minCollateralValue: s,
      marketCap: o,
      lowRisk: a,
      moderateRisk: c,
      highRisk: l
    }), t;
  }
  calculateLeverage(r) {
    return 1 / this.numberService.fromString(zt(r, 4)) * 100;
  }
};
cp([
  ap()
], ta.prototype, "loadAssets", 1);
cp([
  ap()
], ta.prototype, "loadkCur", 1);
ta = cp([
  Pl(0, sp),
  Pl(1, Aa),
  Pl(2, sl),
  Pl(3, op)
], ta);
var JP = Object.defineProperty, YP = Object.getOwnPropertyDescriptor, n2 = (r, e, t, n) => {
  for (var i = n > 1 ? void 0 : n ? YP(e, t) : e, s = r.length - 1, o; s >= 0; s--)
    (o = r[s]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && JP(e, t, i), i;
}, kl = (r, e) => (t, n) => e(t, n, r);
const i2 = pe.createInterface("TreasuryStore");
let Pc = class {
  constructor(r, e, t, n) {
    this.numberService = r, this.contractStore = e, this.contractService = t, this.dataStore = n;
  }
  totalSupply;
  totalValuation;
  treasuryDistribution;
  reservesDistribution;
  treasuryContract;
  lastRebaseTime;
  treasuryAssets = [];
  transactions = [];
  static register(r) {
    r.register(fe.singleton(i2, Pc));
  }
  get treasuryValue() {
    return this.treasuryAssets?.length === 0 ? 0 : this.treasuryAssets?.map((r) => r?.total ?? 0).sum() ?? 0;
  }
  async loadTokenData() {
    if (this.totalValuation && this.totalSupply)
      return;
    const r = await this.getTreasuryContract();
    this.totalValuation = await r.totalValuation(), this.totalSupply = await r.totalSupply(), this.treasuryDistribution = (await this.getDistributionPercentage("Treasury")).toNumber() / 100, this.reservesDistribution = (await this.getDistributionPercentage("Reserve")).toNumber() / 100;
  }
  async loadAssets() {
    const r = await this.getTreasuryContract(), e = r.address;
    if (!e)
      return;
    const t = (await Promise.all([
      r.allRegisteredERC20s().then((n) => n.map((i) => ({ tokenId: void 0, address: i }))),
      r.allRegisteredERC721Ids().then((n) => n.map((i) => ({ tokenId: i.id, address: i.erc721 })))
    ])).flatMap((n) => n);
    this.treasuryAssets = (await Promise.all(
      t.map(
        (n) => this.contractStore.getAsset(n.address, n.tokenId, r, e, this.transactions).catch()
      )
    )).filter(Boolean);
  }
  async getValueOverTime(r) {
    const e = ja(r), n = (await this.dataStore.getDocs(
      `chartData/ktt/${Va(r)}`,
      "createdAt",
      "desc",
      { fieldPath: "createdAt", opStr: ">=", value: e }
    )).map((o) => ({
      createdAt: new Date(o.createdAt),
      value: this.numberService.fromString(zt(o.value, 18))
    }));
    n.sort((o, a) => new Date(o.createdAt).getTime() - new Date(a.createdAt).getTime());
    const s = await (await this.getTreasuryContract()).totalValuation();
    return n.push({
      createdAt: new Date(),
      value: this.numberService.fromString(zt(s, 18))
    }), n;
  }
  async getLastRebaseTime() {
    const r = await this.getTreasuryContract(), e = await r.queryFilter(r.filters.Rebase());
    e.sort((t, n) => n.blockNumber - t.blockNumber), this.lastRebaseTime = e[0] && new Date((await e[0].getBlock()).timestamp * 1e3);
  }
  get circulatingDistribution() {
    return this.treasuryDistribution == null || this.reservesDistribution == null ? 0 : 1 - (this.treasuryDistribution + this.reservesDistribution);
  }
  get currentPrice() {
    return !this.totalSupply || !this.totalValuation ? V.from(0) : this.totalSupply.div(this.totalValuation);
  }
  async getTreasuryContract() {
    return this.treasuryContract ? this.treasuryContract : (this.treasuryContract = await this.contractService.getContract("monetary", "Treasury"), this.treasuryContract);
  }
  async getDistributionPercentage(r) {
    const e = (await this.contractService.getContract("monetary", r)).address;
    return !e || !this.totalSupply ? V.from(0) : (await (await this.getTreasuryContract()).balanceOf(e)).div(this.totalSupply);
  }
};
n2([
  ap()
], Pc.prototype, "loadAssets", 1);
Pc = n2([
  kl(0, sl),
  kl(1, sp),
  kl(2, Aa),
  kl(3, op)
], Pc);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s2 = function(r) {
  const e = [];
  let t = 0;
  for (let n = 0; n < r.length; n++) {
    let i = r.charCodeAt(n);
    i < 128 ? e[t++] = i : i < 2048 ? (e[t++] = i >> 6 | 192, e[t++] = i & 63 | 128) : (i & 64512) === 55296 && n + 1 < r.length && (r.charCodeAt(n + 1) & 64512) === 56320 ? (i = 65536 + ((i & 1023) << 10) + (r.charCodeAt(++n) & 1023), e[t++] = i >> 18 | 240, e[t++] = i >> 12 & 63 | 128, e[t++] = i >> 6 & 63 | 128, e[t++] = i & 63 | 128) : (e[t++] = i >> 12 | 224, e[t++] = i >> 6 & 63 | 128, e[t++] = i & 63 | 128);
  }
  return e;
}, XP = function(r) {
  const e = [];
  let t = 0, n = 0;
  for (; t < r.length; ) {
    const i = r[t++];
    if (i < 128)
      e[n++] = String.fromCharCode(i);
    else if (i > 191 && i < 224) {
      const s = r[t++];
      e[n++] = String.fromCharCode((i & 31) << 6 | s & 63);
    } else if (i > 239 && i < 365) {
      const s = r[t++], o = r[t++], a = r[t++], c = ((i & 7) << 18 | (s & 63) << 12 | (o & 63) << 6 | a & 63) - 65536;
      e[n++] = String.fromCharCode(55296 + (c >> 10)), e[n++] = String.fromCharCode(56320 + (c & 1023));
    } else {
      const s = r[t++], o = r[t++];
      e[n++] = String.fromCharCode((i & 15) << 12 | (s & 63) << 6 | o & 63);
    }
  }
  return e.join("");
}, o2 = {
  byteToCharMap_: null,
  charToByteMap_: null,
  byteToCharMapWebSafe_: null,
  charToByteMapWebSafe_: null,
  ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
  get ENCODED_VALS() {
    return this.ENCODED_VALS_BASE + "+/=";
  },
  get ENCODED_VALS_WEBSAFE() {
    return this.ENCODED_VALS_BASE + "-_.";
  },
  HAS_NATIVE_SUPPORT: typeof atob == "function",
  encodeByteArray(r, e) {
    if (!Array.isArray(r))
      throw Error("encodeByteArray takes an array as a parameter");
    this.init_();
    const t = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, n = [];
    for (let i = 0; i < r.length; i += 3) {
      const s = r[i], o = i + 1 < r.length, a = o ? r[i + 1] : 0, c = i + 2 < r.length, l = c ? r[i + 2] : 0, f = s >> 2, p = (s & 3) << 4 | a >> 4;
      let b = (a & 15) << 2 | l >> 6, w = l & 63;
      c || (w = 64, o || (b = 64)), n.push(t[f], t[p], t[b], t[w]);
    }
    return n.join("");
  },
  encodeString(r, e) {
    return this.HAS_NATIVE_SUPPORT && !e ? btoa(r) : this.encodeByteArray(s2(r), e);
  },
  decodeString(r, e) {
    return this.HAS_NATIVE_SUPPORT && !e ? atob(r) : XP(this.decodeStringToByteArray(r, e));
  },
  decodeStringToByteArray(r, e) {
    this.init_();
    const t = e ? this.charToByteMapWebSafe_ : this.charToByteMap_, n = [];
    for (let i = 0; i < r.length; ) {
      const s = t[r.charAt(i++)], a = i < r.length ? t[r.charAt(i)] : 0;
      ++i;
      const l = i < r.length ? t[r.charAt(i)] : 64;
      ++i;
      const p = i < r.length ? t[r.charAt(i)] : 64;
      if (++i, s == null || a == null || l == null || p == null)
        throw Error();
      const b = s << 2 | a >> 4;
      if (n.push(b), l !== 64) {
        const w = a << 4 & 240 | l >> 2;
        if (n.push(w), p !== 64) {
          const A = l << 6 & 192 | p;
          n.push(A);
        }
      }
    }
    return n;
  },
  init_() {
    if (!this.byteToCharMap_) {
      this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {};
      for (let r = 0; r < this.ENCODED_VALS.length; r++)
        this.byteToCharMap_[r] = this.ENCODED_VALS.charAt(r), this.charToByteMap_[this.byteToCharMap_[r]] = r, this.byteToCharMapWebSafe_[r] = this.ENCODED_VALS_WEBSAFE.charAt(r), this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]] = r, r >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)] = r, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)] = r);
    }
  }
}, ZP = function(r) {
  const e = s2(r);
  return o2.encodeByteArray(e, !0);
}, $u = function(r) {
  return ZP(r).replace(/\./g, "");
}, ek = function(r) {
  try {
    return o2.decodeString(r, !0);
  } catch (e) {
    console.error("base64Decode failed: ", e);
  }
  return null;
};
function tk() {
  return typeof indexedDB == "object";
}
function rk() {
  return new Promise((r, e) => {
    try {
      let t = !0;
      const n = "validate-browser-context-for-indexeddb-analytics-module", i = self.indexedDB.open(n);
      i.onsuccess = () => {
        i.result.close(), t || self.indexedDB.deleteDatabase(n), r(!0);
      }, i.onupgradeneeded = () => {
        t = !1;
      }, i.onerror = () => {
        var s;
        e(((s = i.error) === null || s === void 0 ? void 0 : s.message) || "");
      };
    } catch (t) {
      e(t);
    }
  });
}
function nk() {
  if (typeof self < "u")
    return self;
  if (typeof window < "u")
    return window;
  if (typeof Qs < "u")
    return Qs;
  throw new Error("Unable to locate global object.");
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ik = () => nk().__FIREBASE_DEFAULTS__, sk = () => {
  if (typeof Gl > "u" || typeof { ALLUSERSPROFILE: "C:\\ProgramData", AMDRMPATH: "C:\\Program Files\\AMD\\RyzenMaster\\", ANDROID_HOME: "C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk", APPDATA: "C:\\Users\\Brandon\\AppData\\Roaming", CHROME_CRASHPAD_PIPE_NAME: "\\\\.\\pipe\\crashpad_7100_ULEJTCVXINGYBZSQ", CLASSPATH: ".;", COLOR: "1", COLORTERM: "truecolor", COMMONPROGRAMFILES: "C:\\Program Files\\Common Files", COMPUTERNAME: "DESKTOP-72OQKP6", COMSPEC: "C:\\WINDOWS\\system32\\cmd.exe", ChocolateyInstall: "C:\\ProgramData\\chocolatey", ChocolateyLastPathUpdate: "132215198773539171", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", CommonProgramW6432: "C:\\Program Files\\Common Files", DriverData: "C:\\Windows\\System32\\Drivers\\DriverData", EDITOR: "notepad.exe", EXEPATH: "C:\\Program Files\\Git\\bin", FPS_BROWSER_APP_PROFILE_STRING: "Internet Explorer", FPS_BROWSER_USER_PROFILE_STRING: "Default", GIT_ASKPASS: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh", HOME: "C:\\Users\\Brandon", HOMEDRIVE: "C:", HOMEPATH: "\\Users\\Brandon", INIT_CWD: "C:\\Users\\Brandon\\source\\repos\\dapp", INTEL_DEV_REDIST: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\", JAVA_HOME: "C:\\Program Files\\Java\\jdk1.8.0_231", LANG: "en_US.UTF-8", LOCALAPPDATA: "C:\\Users\\Brandon\\AppData\\Local", LOGONSERVER: "\\\\DESKTOP-72OQKP6", MIC_LD_LIBRARY_PATH: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic", MSYSTEM: "MINGW64", MYSQLCONNECTOR_ASSEMBLIESPATH: "C:\\Program Files (x86)\\MySQL\\Connector NET 8.0\\Assemblies\\v4.5.2", NODE: "C:\\Program Files\\nodejs\\node.exe", NUMBER_OF_PROCESSORS: "32", NVM_HOME: "C:\\Users\\Brandon\\AppData\\Roaming\\nvm", NVM_SYMLINK: "C:\\Program Files\\nodejs", ORIGINAL_XDG_CURRENT_DESKTOP: "undefined", OS: "Windows_NT", OcpApimSubscriptionKey: "15752dea34354b65bb7b54bca0da1b8d", OneDrive: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", OneDriveCommercial: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", PAC_CLI_LAUNCHER_AGENT: "powerplatform-vscode/1.0.21", PATH: "C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Brandon\\bin;C:\\Users\\Brandon\\source\\repos\\dapp\\node_modules\\.bin;C:\\Users\\Brandon\\source\\repos\\node_modules\\.bin;C:\\Users\\Brandon\\source\\node_modules\\.bin;C:\\Users\\Brandon\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Brandon\\AppData\\Roaming\\Code\\User\\globalStorage\\microsoft-isvexptools.powerplatform-vscode\\pac\\tools;C:\\Program Files (x86)\\Razer Chroma SDK\\bin;C:\\Program Files\\Razer Chroma SDK\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\Python39\\Scripts;C:\\Python39;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Python27;C:\\Python27\\Scripts;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\dotnet;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\130\\DTS\\Binn;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn;C:\\Program Files\\Microsoft VS Code Insiders\\bin;C:\\Program Files\\Java\\jdk1.8.0_231\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\platform-tools;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn;C:\\Program Files\\gradle-6.3\\bin;C:\\flutter\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\tools;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\Program Files\\Microsoft\\Azure Functions Core Tools;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHu;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\npm;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\L;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files (x8;C:\\Program Files (x86)\\dotnet;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Brandon\\AppData\\Local\\JetBrains\\Toolbox\\scripts;%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps", PATHEXT: ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL", PLINK_PROTOCOL: "ssh", PREFERRED_WORKSPACE_MANAGER: "yarn", PROCESSOR_ARCHITECTURE: "AMD64", PROCESSOR_IDENTIFIER: "AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD", PROCESSOR_LEVEL: "23", PROCESSOR_REVISION: "7100", PROGRAMFILES: "C:\\Program Files", PSModulePath: "C:\\Users\\Brandon\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\PowerShell\\Modules\\", PUBLIC: "C:\\Users\\Public", PWD: "C:/Users/Brandon/source/repos/dapp", ProgramData: "C:\\ProgramData", "ProgramFiles(x86)": "C:\\Program Files (x86)", ProgramW6432: "C:\\Program Files", SESSIONNAME: "Console", SHLVL: "0", SYSTEMDRIVE: "C:", SYSTEMROOT: "C:\\WINDOWS", TEMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", TERM: "xterm-256color", TERM_PROGRAM: "vscode", TERM_PROGRAM_VERSION: "1.72.2", TMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", USERDOMAIN: "DESKTOP-72OQKP6", USERDOMAIN_ROAMINGPROFILE: "DESKTOP-72OQKP6", USERNAME: "Brandon", USERPROFILE: "C:\\Users\\Brandon", VS160PROCOMNTOOLS: "C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\Common7\\Tools\\", VSCODE_GIT_ASKPASS_EXTRA_ARGS: "--ms-enable-electron-run-as-node", VSCODE_GIT_ASKPASS_MAIN: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js", VSCODE_GIT_ASKPASS_NODE: "C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe", VSCODE_GIT_IPC_HANDLE: "\\\\.\\pipe\\vscode-git-b178cbeab5-sock", WINDIR: "C:\\WINDOWS", "asl.log": "Destination=file", npm_command: "run-script", npm_config_cache: "C:\\Users\\Brandon\\AppData\\Local\\npm-cache", npm_config_global_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_globalconfig: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\etc\\npmrc", npm_config_init_module: "C:\\Users\\Brandon\\.npm-init.js", npm_config_local_prefix: "C:\\Users\\Brandon\\source\\repos\\dapp", npm_config_metrics_registry: "https://registry.npmjs.org/", npm_config_node_gyp: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js", npm_config_noproxy: "", npm_config_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_script_shell: "C:\\Program Files\\git\\bin\\bash.exe", npm_config_shamefully_hoist: "true", npm_config_user_agent: "npm/8.6.0 node/v19.0.1 win32 x64 workspaces/false", npm_config_userconfig: "C:\\Users\\Brandon\\.npmrc", npm_execpath: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js", npm_lifecycle_event: "build:dev:chart-data-script", npm_lifecycle_script: "vite build --config vite.config-lib.ts --mode development", npm_node_execpath: "C:\\Program Files\\nodejs\\node.exe", npm_package_engines_node: ">=16.0.0", npm_package_json: "C:\\Users\\Brandon\\source\\repos\\dapp\\package.json", npm_package_name: "@kolektivo/dapp", npm_package_version: "1.0.0" } > "u")
    return;
  const r = { ALLUSERSPROFILE: "C:\\ProgramData", AMDRMPATH: "C:\\Program Files\\AMD\\RyzenMaster\\", ANDROID_HOME: "C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk", APPDATA: "C:\\Users\\Brandon\\AppData\\Roaming", CHROME_CRASHPAD_PIPE_NAME: "\\\\.\\pipe\\crashpad_7100_ULEJTCVXINGYBZSQ", CLASSPATH: ".;", COLOR: "1", COLORTERM: "truecolor", COMMONPROGRAMFILES: "C:\\Program Files\\Common Files", COMPUTERNAME: "DESKTOP-72OQKP6", COMSPEC: "C:\\WINDOWS\\system32\\cmd.exe", ChocolateyInstall: "C:\\ProgramData\\chocolatey", ChocolateyLastPathUpdate: "132215198773539171", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", CommonProgramW6432: "C:\\Program Files\\Common Files", DriverData: "C:\\Windows\\System32\\Drivers\\DriverData", EDITOR: "notepad.exe", EXEPATH: "C:\\Program Files\\Git\\bin", FPS_BROWSER_APP_PROFILE_STRING: "Internet Explorer", FPS_BROWSER_USER_PROFILE_STRING: "Default", GIT_ASKPASS: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh", HOME: "C:\\Users\\Brandon", HOMEDRIVE: "C:", HOMEPATH: "\\Users\\Brandon", INIT_CWD: "C:\\Users\\Brandon\\source\\repos\\dapp", INTEL_DEV_REDIST: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\", JAVA_HOME: "C:\\Program Files\\Java\\jdk1.8.0_231", LANG: "en_US.UTF-8", LOCALAPPDATA: "C:\\Users\\Brandon\\AppData\\Local", LOGONSERVER: "\\\\DESKTOP-72OQKP6", MIC_LD_LIBRARY_PATH: "C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic", MSYSTEM: "MINGW64", MYSQLCONNECTOR_ASSEMBLIESPATH: "C:\\Program Files (x86)\\MySQL\\Connector NET 8.0\\Assemblies\\v4.5.2", NODE: "C:\\Program Files\\nodejs\\node.exe", NUMBER_OF_PROCESSORS: "32", NVM_HOME: "C:\\Users\\Brandon\\AppData\\Roaming\\nvm", NVM_SYMLINK: "C:\\Program Files\\nodejs", ORIGINAL_XDG_CURRENT_DESKTOP: "undefined", OS: "Windows_NT", OcpApimSubscriptionKey: "15752dea34354b65bb7b54bca0da1b8d", OneDrive: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", OneDriveCommercial: "C:\\Users\\Brandon\\OneDrive - Grey & Co Salon", PAC_CLI_LAUNCHER_AGENT: "powerplatform-vscode/1.0.21", PATH: "C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\Brandon\\bin;C:\\Users\\Brandon\\source\\repos\\dapp\\node_modules\\.bin;C:\\Users\\Brandon\\source\\repos\\node_modules\\.bin;C:\\Users\\Brandon\\source\\node_modules\\.bin;C:\\Users\\Brandon\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Brandon\\AppData\\Roaming\\Code\\User\\globalStorage\\microsoft-isvexptools.powerplatform-vscode\\pac\\tools;C:\\Program Files (x86)\\Razer Chroma SDK\\bin;C:\\Program Files\\Razer Chroma SDK\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\Python39\\Scripts;C:\\Python39;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Python27;C:\\Python27\\Scripts;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\dotnet;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\130\\DTS\\Binn;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn;C:\\Program Files\\Microsoft VS Code Insiders\\bin;C:\\Program Files\\Java\\jdk1.8.0_231\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\platform-tools;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn;C:\\Program Files\\gradle-6.3\\bin;C:\\flutter\\bin;C:\\Users\\Brandon\\AppData\\Local\\Android\\Sdk\\tools;C:\\Program Files\\MongoDB\\Server\\4.2\\bin;C:\\Program Files\\Microsoft\\Azure Functions Core Tools;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHu;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\npm;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\L;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files (x8;C:\\Program Files (x86)\\dotnet;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\cmd;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\PowerAppsCLI;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin;C:\\Users\\Brandon\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Brandon\\.dotnet\\tools;C:\\Users\\Brandon\\AppData\\Local\\GitHubDesktop\\bin;C:\\Nuget;C:\\Program Files\\OpenSSL-Win64\\bin;C:\\Users\\Brandon\\AppData\\Local\\Programs\\Fiddler;C:\\Program Files\\maven\\bin;C:\\Program Files (x86)\\Rico Suter\\NSwagStudio;C:\\Users\\Brandon\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Brandon\\AppData\\Local\\JetBrains\\Toolbox\\scripts;%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps", PATHEXT: ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL", PLINK_PROTOCOL: "ssh", PREFERRED_WORKSPACE_MANAGER: "yarn", PROCESSOR_ARCHITECTURE: "AMD64", PROCESSOR_IDENTIFIER: "AMD64 Family 23 Model 113 Stepping 0, AuthenticAMD", PROCESSOR_LEVEL: "23", PROCESSOR_REVISION: "7100", PROGRAMFILES: "C:\\Program Files", PSModulePath: "C:\\Users\\Brandon\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\130\\Tools\\PowerShell\\Modules\\", PUBLIC: "C:\\Users\\Public", PWD: "C:/Users/Brandon/source/repos/dapp", ProgramData: "C:\\ProgramData", "ProgramFiles(x86)": "C:\\Program Files (x86)", ProgramW6432: "C:\\Program Files", SESSIONNAME: "Console", SHLVL: "0", SYSTEMDRIVE: "C:", SYSTEMROOT: "C:\\WINDOWS", TEMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", TERM: "xterm-256color", TERM_PROGRAM: "vscode", TERM_PROGRAM_VERSION: "1.72.2", TMP: "C:\\Users\\Brandon\\AppData\\Local\\Temp", USERDOMAIN: "DESKTOP-72OQKP6", USERDOMAIN_ROAMINGPROFILE: "DESKTOP-72OQKP6", USERNAME: "Brandon", USERPROFILE: "C:\\Users\\Brandon", VS160PROCOMNTOOLS: "C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Preview\\Common7\\Tools\\", VSCODE_GIT_ASKPASS_EXTRA_ARGS: "--ms-enable-electron-run-as-node", VSCODE_GIT_ASKPASS_MAIN: "c:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js", VSCODE_GIT_ASKPASS_NODE: "C:\\Users\\Brandon\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe", VSCODE_GIT_IPC_HANDLE: "\\\\.\\pipe\\vscode-git-b178cbeab5-sock", WINDIR: "C:\\WINDOWS", "asl.log": "Destination=file", npm_command: "run-script", npm_config_cache: "C:\\Users\\Brandon\\AppData\\Local\\npm-cache", npm_config_global_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_globalconfig: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\etc\\npmrc", npm_config_init_module: "C:\\Users\\Brandon\\.npm-init.js", npm_config_local_prefix: "C:\\Users\\Brandon\\source\\repos\\dapp", npm_config_metrics_registry: "https://registry.npmjs.org/", npm_config_node_gyp: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js", npm_config_noproxy: "", npm_config_prefix: "C:\\Users\\Brandon\\AppData\\Roaming\\npm", npm_config_script_shell: "C:\\Program Files\\git\\bin\\bash.exe", npm_config_shamefully_hoist: "true", npm_config_user_agent: "npm/8.6.0 node/v19.0.1 win32 x64 workspaces/false", npm_config_userconfig: "C:\\Users\\Brandon\\.npmrc", npm_execpath: "C:\\Users\\Brandon\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js", npm_lifecycle_event: "build:dev:chart-data-script", npm_lifecycle_script: "vite build --config vite.config-lib.ts --mode development", npm_node_execpath: "C:\\Program Files\\nodejs\\node.exe", npm_package_engines_node: ">=16.0.0", npm_package_json: "C:\\Users\\Brandon\\source\\repos\\dapp\\package.json", npm_package_name: "@kolektivo/dapp", npm_package_version: "1.0.0" }.__FIREBASE_DEFAULTS__;
  if (r)
    return JSON.parse(r);
}, ok = () => {
  if (typeof document > "u")
    return;
  let r;
  try {
    r = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
  } catch {
    return;
  }
  const e = r && ek(r[1]);
  return e && JSON.parse(e);
}, a2 = () => {
  try {
    return ik() || sk() || ok();
  } catch (r) {
    console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);
    return;
  }
}, ak = (r) => {
  var e, t;
  return (t = (e = a2()) === null || e === void 0 ? void 0 : e.emulatorHosts) === null || t === void 0 ? void 0 : t[r];
}, ck = (r) => {
  const e = ak(r);
  if (!e)
    return;
  const t = e.lastIndexOf(":");
  if (t <= 0 || t + 1 === e.length)
    throw new Error(`Invalid host ${e} with no separate hostname and port!`);
  const n = parseInt(e.substring(t + 1), 10);
  return e[0] === "[" ? [e.substring(1, t - 1), n] : [e.substring(0, t), n];
}, lk = () => {
  var r;
  return (r = a2()) === null || r === void 0 ? void 0 : r.config;
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uk {
  constructor() {
    this.reject = () => {
    }, this.resolve = () => {
    }, this.promise = new Promise((e, t) => {
      this.resolve = e, this.reject = t;
    });
  }
  wrapCallback(e) {
    return (t, n) => {
      t ? this.reject(t) : this.resolve(n), typeof e == "function" && (this.promise.catch(() => {
      }), e.length === 1 ? e(t) : e(t, n));
    };
  }
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hk(r, e) {
  if (r.uid)
    throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
  const t = {
    alg: "none",
    type: "JWT"
  }, n = e || "demo-project", i = r.iat || 0, s = r.sub || r.user_id;
  if (!s)
    throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  const o = Object.assign({
    iss: `https://securetoken.google.com/${n}`,
    aud: n,
    iat: i,
    exp: i + 3600,
    auth_time: i,
    sub: s,
    user_id: s,
    firebase: {
      sign_in_provider: "custom",
      identities: {}
    }
  }, r), a = "";
  return [
    $u(JSON.stringify(t)),
    $u(JSON.stringify(o)),
    a
  ].join(".");
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fk = "FirebaseError";
class Sa extends Error {
  constructor(e, t, n) {
    super(t), this.code = e, this.customData = n, this.name = fk, Object.setPrototypeOf(this, Sa.prototype), Error.captureStackTrace && Error.captureStackTrace(this, c2.prototype.create);
  }
}
class c2 {
  constructor(e, t, n) {
    this.service = e, this.serviceName = t, this.errors = n;
  }
  create(e, ...t) {
    const n = t[0] || {}, i = `${this.service}/${e}`, s = this.errors[e], o = s ? dk(s, n) : "Error", a = `${this.serviceName}: ${o} (${i}).`;
    return new Sa(i, a, n);
  }
}
function dk(r, e) {
  return r.replace(pk, (t, n) => {
    const i = e[n];
    return i != null ? String(i) : `<${n}?>`;
  });
}
const pk = /\{\$([^}]+)}/g;
function Lu(r, e) {
  if (r === e)
    return !0;
  const t = Object.keys(r), n = Object.keys(e);
  for (const i of t) {
    if (!n.includes(i))
      return !1;
    const s = r[i], o = e[i];
    if ($x(s) && $x(o)) {
      if (!Lu(s, o))
        return !1;
    } else if (s !== o)
      return !1;
  }
  for (const i of n)
    if (!t.includes(i))
      return !1;
  return !0;
}
function $x(r) {
  return r !== null && typeof r == "object";
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ft(r) {
  return r && r._delegate ? r._delegate : r;
}
class kc {
  constructor(e, t, n) {
    this.name = e, this.instanceFactory = t, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = "LAZY", this.onInstanceCreated = null;
  }
  setInstantiationMode(e) {
    return this.instantiationMode = e, this;
  }
  setMultipleInstances(e) {
    return this.multipleInstances = e, this;
  }
  setServiceProps(e) {
    return this.serviceProps = e, this;
  }
  setInstanceCreatedCallback(e) {
    return this.onInstanceCreated = e, this;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $s = "[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gk {
  constructor(e, t) {
    this.name = e, this.container = t, this.component = null, this.instances = /* @__PURE__ */ new Map(), this.instancesDeferred = /* @__PURE__ */ new Map(), this.instancesOptions = /* @__PURE__ */ new Map(), this.onInitCallbacks = /* @__PURE__ */ new Map();
  }
  get(e) {
    const t = this.normalizeInstanceIdentifier(e);
    if (!this.instancesDeferred.has(t)) {
      const n = new uk();
      if (this.instancesDeferred.set(t, n), this.isInitialized(t) || this.shouldAutoInitialize())
        try {
          const i = this.getOrInitializeService({
            instanceIdentifier: t
          });
          i && n.resolve(i);
        } catch {
        }
    }
    return this.instancesDeferred.get(t).promise;
  }
  getImmediate(e) {
    var t;
    const n = this.normalizeInstanceIdentifier(e?.identifier), i = (t = e?.optional) !== null && t !== void 0 ? t : !1;
    if (this.isInitialized(n) || this.shouldAutoInitialize())
      try {
        return this.getOrInitializeService({
          instanceIdentifier: n
        });
      } catch (s) {
        if (i)
          return null;
        throw s;
      }
    else {
      if (i)
        return null;
      throw Error(`Service ${this.name} is not available`);
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(e) {
    if (e.name !== this.name)
      throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
    if (this.component)
      throw Error(`Component for ${this.name} has already been provided`);
    if (this.component = e, !!this.shouldAutoInitialize()) {
      if (bk(e))
        try {
          this.getOrInitializeService({ instanceIdentifier: $s });
        } catch {
        }
      for (const [t, n] of this.instancesDeferred.entries()) {
        const i = this.normalizeInstanceIdentifier(t);
        try {
          const s = this.getOrInitializeService({
            instanceIdentifier: i
          });
          n.resolve(s);
        } catch {
        }
      }
    }
  }
  clearInstance(e = $s) {
    this.instancesDeferred.delete(e), this.instancesOptions.delete(e), this.instances.delete(e);
  }
  async delete() {
    const e = Array.from(this.instances.values());
    await Promise.all([
      ...e.filter((t) => "INTERNAL" in t).map((t) => t.INTERNAL.delete()),
      ...e.filter((t) => "_delete" in t).map((t) => t._delete())
    ]);
  }
  isComponentSet() {
    return this.component != null;
  }
  isInitialized(e = $s) {
    return this.instances.has(e);
  }
  getOptions(e = $s) {
    return this.instancesOptions.get(e) || {};
  }
  initialize(e = {}) {
    const { options: t = {} } = e, n = this.normalizeInstanceIdentifier(e.instanceIdentifier);
    if (this.isInitialized(n))
      throw Error(`${this.name}(${n}) has already been initialized`);
    if (!this.isComponentSet())
      throw Error(`Component ${this.name} has not been registered yet`);
    const i = this.getOrInitializeService({
      instanceIdentifier: n,
      options: t
    });
    for (const [s, o] of this.instancesDeferred.entries()) {
      const a = this.normalizeInstanceIdentifier(s);
      n === a && o.resolve(i);
    }
    return i;
  }
  onInit(e, t) {
    var n;
    const i = this.normalizeInstanceIdentifier(t), s = (n = this.onInitCallbacks.get(i)) !== null && n !== void 0 ? n : /* @__PURE__ */ new Set();
    s.add(e), this.onInitCallbacks.set(i, s);
    const o = this.instances.get(i);
    return o && e(o, i), () => {
      s.delete(e);
    };
  }
  invokeOnInitCallbacks(e, t) {
    const n = this.onInitCallbacks.get(t);
    if (!!n)
      for (const i of n)
        try {
          i(e, t);
        } catch {
        }
  }
  getOrInitializeService({ instanceIdentifier: e, options: t = {} }) {
    let n = this.instances.get(e);
    if (!n && this.component && (n = this.component.instanceFactory(this.container, {
      instanceIdentifier: mk(e),
      options: t
    }), this.instances.set(e, n), this.instancesOptions.set(e, t), this.invokeOnInitCallbacks(n, e), this.component.onInstanceCreated))
      try {
        this.component.onInstanceCreated(this.container, e, n);
      } catch {
      }
    return n || null;
  }
  normalizeInstanceIdentifier(e = $s) {
    return this.component ? this.component.multipleInstances ? e : $s : e;
  }
  shouldAutoInitialize() {
    return !!this.component && this.component.instantiationMode !== "EXPLICIT";
  }
}
function mk(r) {
  return r === $s ? void 0 : r;
}
function bk(r) {
  return r.instantiationMode === "EAGER";
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xk {
  constructor(e) {
    this.name = e, this.providers = /* @__PURE__ */ new Map();
  }
  addComponent(e) {
    const t = this.getProvider(e.name);
    if (t.isComponentSet())
      throw new Error(`Component ${e.name} has already been registered with ${this.name}`);
    t.setComponent(e);
  }
  addOrOverwriteComponent(e) {
    this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name), this.addComponent(e);
  }
  getProvider(e) {
    if (this.providers.has(e))
      return this.providers.get(e);
    const t = new gk(e, this);
    return this.providers.set(e, t), t;
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Oe;
(function(r) {
  r[r.DEBUG = 0] = "DEBUG", r[r.VERBOSE = 1] = "VERBOSE", r[r.INFO = 2] = "INFO", r[r.WARN = 3] = "WARN", r[r.ERROR = 4] = "ERROR", r[r.SILENT = 5] = "SILENT";
})(Oe || (Oe = {}));
const vk = {
  debug: Oe.DEBUG,
  verbose: Oe.VERBOSE,
  info: Oe.INFO,
  warn: Oe.WARN,
  error: Oe.ERROR,
  silent: Oe.SILENT
}, yk = Oe.INFO, wk = {
  [Oe.DEBUG]: "log",
  [Oe.VERBOSE]: "log",
  [Oe.INFO]: "info",
  [Oe.WARN]: "warn",
  [Oe.ERROR]: "error"
}, Ak = (r, e, ...t) => {
  if (e < r.logLevel)
    return;
  const n = new Date().toISOString(), i = wk[e];
  if (i)
    console[i](`[${n}]  ${r.name}:`, ...t);
  else
    throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);
};
class l2 {
  constructor(e) {
    this.name = e, this._logLevel = yk, this._logHandler = Ak, this._userLogHandler = null;
  }
  get logLevel() {
    return this._logLevel;
  }
  set logLevel(e) {
    if (!(e in Oe))
      throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
    this._logLevel = e;
  }
  setLogLevel(e) {
    this._logLevel = typeof e == "string" ? vk[e] : e;
  }
  get logHandler() {
    return this._logHandler;
  }
  set logHandler(e) {
    if (typeof e != "function")
      throw new TypeError("Value assigned to `logHandler` must be a function");
    this._logHandler = e;
  }
  get userLogHandler() {
    return this._userLogHandler;
  }
  set userLogHandler(e) {
    this._userLogHandler = e;
  }
  debug(...e) {
    this._userLogHandler && this._userLogHandler(this, Oe.DEBUG, ...e), this._logHandler(this, Oe.DEBUG, ...e);
  }
  log(...e) {
    this._userLogHandler && this._userLogHandler(this, Oe.VERBOSE, ...e), this._logHandler(this, Oe.VERBOSE, ...e);
  }
  info(...e) {
    this._userLogHandler && this._userLogHandler(this, Oe.INFO, ...e), this._logHandler(this, Oe.INFO, ...e);
  }
  warn(...e) {
    this._userLogHandler && this._userLogHandler(this, Oe.WARN, ...e), this._logHandler(this, Oe.WARN, ...e);
  }
  error(...e) {
    this._userLogHandler && this._userLogHandler(this, Oe.ERROR, ...e), this._logHandler(this, Oe.ERROR, ...e);
  }
}
const Sk = (r, e) => e.some((t) => r instanceof t);
let Lx, Fx;
function Ck() {
  return Lx || (Lx = [
    IDBDatabase,
    IDBObjectStore,
    IDBIndex,
    IDBCursor,
    IDBTransaction
  ]);
}
function Ek() {
  return Fx || (Fx = [
    IDBCursor.prototype.advance,
    IDBCursor.prototype.continue,
    IDBCursor.prototype.continuePrimaryKey
  ]);
}
const u2 = /* @__PURE__ */ new WeakMap(), Td = /* @__PURE__ */ new WeakMap(), h2 = /* @__PURE__ */ new WeakMap(), Df = /* @__PURE__ */ new WeakMap(), lp = /* @__PURE__ */ new WeakMap();
function _k(r) {
  const e = new Promise((t, n) => {
    const i = () => {
      r.removeEventListener("success", s), r.removeEventListener("error", o);
    }, s = () => {
      t(ss(r.result)), i();
    }, o = () => {
      n(r.error), i();
    };
    r.addEventListener("success", s), r.addEventListener("error", o);
  });
  return e.then((t) => {
    t instanceof IDBCursor && u2.set(t, r);
  }).catch(() => {
  }), lp.set(e, r), e;
}
function Pk(r) {
  if (Td.has(r))
    return;
  const e = new Promise((t, n) => {
    const i = () => {
      r.removeEventListener("complete", s), r.removeEventListener("error", o), r.removeEventListener("abort", o);
    }, s = () => {
      t(), i();
    }, o = () => {
      n(r.error || new DOMException("AbortError", "AbortError")), i();
    };
    r.addEventListener("complete", s), r.addEventListener("error", o), r.addEventListener("abort", o);
  });
  Td.set(r, e);
}
let Id = {
  get(r, e, t) {
    if (r instanceof IDBTransaction) {
      if (e === "done")
        return Td.get(r);
      if (e === "objectStoreNames")
        return r.objectStoreNames || h2.get(r);
      if (e === "store")
        return t.objectStoreNames[1] ? void 0 : t.objectStore(t.objectStoreNames[0]);
    }
    return ss(r[e]);
  },
  set(r, e, t) {
    return r[e] = t, !0;
  },
  has(r, e) {
    return r instanceof IDBTransaction && (e === "done" || e === "store") ? !0 : e in r;
  }
};
function kk(r) {
  Id = r(Id);
}
function Rk(r) {
  return r === IDBDatabase.prototype.transaction && !("objectStoreNames" in IDBTransaction.prototype) ? function(e, ...t) {
    const n = r.call(Bf(this), e, ...t);
    return h2.set(n, e.sort ? e.sort() : [e]), ss(n);
  } : Ek().includes(r) ? function(...e) {
    return r.apply(Bf(this), e), ss(u2.get(this));
  } : function(...e) {
    return ss(r.apply(Bf(this), e));
  };
}
function Tk(r) {
  return typeof r == "function" ? Rk(r) : (r instanceof IDBTransaction && Pk(r), Sk(r, Ck()) ? new Proxy(r, Id) : r);
}
function ss(r) {
  if (r instanceof IDBRequest)
    return _k(r);
  if (Df.has(r))
    return Df.get(r);
  const e = Tk(r);
  return e !== r && (Df.set(r, e), lp.set(e, r)), e;
}
const Bf = (r) => lp.get(r);
function Ik(r, e, { blocked: t, upgrade: n, blocking: i, terminated: s } = {}) {
  const o = indexedDB.open(r, e), a = ss(o);
  return n && o.addEventListener("upgradeneeded", (c) => {
    n(ss(o.result), c.oldVersion, c.newVersion, ss(o.transaction));
  }), t && o.addEventListener("blocked", () => t()), a.then((c) => {
    s && c.addEventListener("close", () => s()), i && c.addEventListener("versionchange", () => i());
  }).catch(() => {
  }), a;
}
const Mk = ["get", "getKey", "getAll", "getAllKeys", "count"], Ok = ["put", "add", "delete", "clear"], $f = /* @__PURE__ */ new Map();
function Ux(r, e) {
  if (!(r instanceof IDBDatabase && !(e in r) && typeof e == "string"))
    return;
  if ($f.get(e))
    return $f.get(e);
  const t = e.replace(/FromIndex$/, ""), n = e !== t, i = Ok.includes(t);
  if (!(t in (n ? IDBIndex : IDBObjectStore).prototype) || !(i || Mk.includes(t)))
    return;
  const s = async function(o, ...a) {
    const c = this.transaction(o, i ? "readwrite" : "readonly");
    let l = c.store;
    return n && (l = l.index(a.shift())), (await Promise.all([
      l[t](...a),
      i && c.done
    ]))[0];
  };
  return $f.set(e, s), s;
}
kk((r) => ({
  ...r,
  get: (e, t, n) => Ux(e, t) || r.get(e, t, n),
  has: (e, t) => !!Ux(e, t) || r.has(e, t)
}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nk {
  constructor(e) {
    this.container = e;
  }
  getPlatformInfoString() {
    return this.container.getProviders().map((t) => {
      if (Dk(t)) {
        const n = t.getImmediate();
        return `${n.library}/${n.version}`;
      } else
        return null;
    }).filter((t) => t).join(" ");
  }
}
function Dk(r) {
  const e = r.getComponent();
  return e?.type === "VERSION";
}
const Md = "@firebase/app", Vx = "0.8.3";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Zs = new l2("@firebase/app"), Bk = "@firebase/app-compat", $k = "@firebase/analytics-compat", Lk = "@firebase/analytics", Fk = "@firebase/app-check-compat", Uk = "@firebase/app-check", Vk = "@firebase/auth", jk = "@firebase/auth-compat", Wk = "@firebase/database", Hk = "@firebase/database-compat", Gk = "@firebase/functions", Kk = "@firebase/functions-compat", zk = "@firebase/installations", qk = "@firebase/installations-compat", Qk = "@firebase/messaging", Jk = "@firebase/messaging-compat", Yk = "@firebase/performance", Xk = "@firebase/performance-compat", Zk = "@firebase/remote-config", eR = "@firebase/remote-config-compat", tR = "@firebase/storage", rR = "@firebase/storage-compat", nR = "@firebase/firestore", iR = "@firebase/firestore-compat", sR = "firebase", oR = "9.13.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Fu = "[DEFAULT]", aR = {
  [Md]: "fire-core",
  [Bk]: "fire-core-compat",
  [Lk]: "fire-analytics",
  [$k]: "fire-analytics-compat",
  [Uk]: "fire-app-check",
  [Fk]: "fire-app-check-compat",
  [Vk]: "fire-auth",
  [jk]: "fire-auth-compat",
  [Wk]: "fire-rtdb",
  [Hk]: "fire-rtdb-compat",
  [Gk]: "fire-fn",
  [Kk]: "fire-fn-compat",
  [zk]: "fire-iid",
  [qk]: "fire-iid-compat",
  [Qk]: "fire-fcm",
  [Jk]: "fire-fcm-compat",
  [Yk]: "fire-perf",
  [Xk]: "fire-perf-compat",
  [Zk]: "fire-rc",
  [eR]: "fire-rc-compat",
  [tR]: "fire-gcs",
  [rR]: "fire-gcs-compat",
  [nR]: "fire-fst",
  [iR]: "fire-fst-compat",
  "fire-js": "fire-js",
  [sR]: "fire-js-all"
};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Uu = /* @__PURE__ */ new Map(), Od = /* @__PURE__ */ new Map();
function cR(r, e) {
  try {
    r.container.addComponent(e);
  } catch (t) {
    Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`, t);
  }
}
function Vu(r) {
  const e = r.name;
  if (Od.has(e))
    return Zs.debug(`There were multiple attempts to register component ${e}.`), !1;
  Od.set(e, r);
  for (const t of Uu.values())
    cR(t, r);
  return !0;
}
function up(r, e) {
  const t = r.container.getProvider("heartbeat").getImmediate({ optional: !0 });
  return t && t.triggerHeartbeat(), r.container.getProvider(e);
}
function lR(r, e, t = Fu) {
  up(r, e).clearInstance(t);
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const uR = {
  ["no-app"]: "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",
  ["bad-app-name"]: "Illegal App name: '{$appName}",
  ["duplicate-app"]: "Firebase App named '{$appName}' already exists with different options or config",
  ["app-deleted"]: "Firebase App named '{$appName}' already deleted",
  ["no-options"]: "Need to provide options, when not being deployed to hosting via source.",
  ["invalid-app-argument"]: "firebase.{$appName}() takes either no argument or a Firebase App instance.",
  ["invalid-log-argument"]: "First argument to `onLog` must be null or a function.",
  ["idb-open"]: "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
  ["idb-get"]: "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
  ["idb-set"]: "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
  ["idb-delete"]: "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."
}, os = new c2("app", "Firebase", uR);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hR {
  constructor(e, t, n) {
    this._isDeleted = !1, this._options = Object.assign({}, e), this._config = Object.assign({}, t), this._name = t.name, this._automaticDataCollectionEnabled = t.automaticDataCollectionEnabled, this._container = n, this.container.addComponent(new kc("app", () => this, "PUBLIC"));
  }
  get automaticDataCollectionEnabled() {
    return this.checkDestroyed(), this._automaticDataCollectionEnabled;
  }
  set automaticDataCollectionEnabled(e) {
    this.checkDestroyed(), this._automaticDataCollectionEnabled = e;
  }
  get name() {
    return this.checkDestroyed(), this._name;
  }
  get options() {
    return this.checkDestroyed(), this._options;
  }
  get config() {
    return this.checkDestroyed(), this._config;
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(e) {
    this._isDeleted = e;
  }
  checkDestroyed() {
    if (this.isDeleted)
      throw os.create("app-deleted", { appName: this._name });
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fR = oR;
function f2(r, e = {}) {
  let t = r;
  typeof e != "object" && (e = { name: e });
  const n = Object.assign({ name: Fu, automaticDataCollectionEnabled: !1 }, e), i = n.name;
  if (typeof i != "string" || !i)
    throw os.create("bad-app-name", {
      appName: String(i)
    });
  if (t || (t = lk()), !t)
    throw os.create("no-options");
  const s = Uu.get(i);
  if (s) {
    if (Lu(t, s.options) && Lu(n, s.config))
      return s;
    throw os.create("duplicate-app", { appName: i });
  }
  const o = new xk(i);
  for (const c of Od.values())
    o.addComponent(c);
  const a = new hR(t, n, o);
  return Uu.set(i, a), a;
}
function dR(r = Fu) {
  const e = Uu.get(r);
  if (!e && r === Fu)
    return f2();
  if (!e)
    throw os.create("no-app", { appName: r });
  return e;
}
function Vo(r, e, t) {
  var n;
  let i = (n = aR[r]) !== null && n !== void 0 ? n : r;
  t && (i += `-${t}`);
  const s = i.match(/\s|\//), o = e.match(/\s|\//);
  if (s || o) {
    const a = [
      `Unable to register library "${i}" with version "${e}":`
    ];
    s && a.push(`library name "${i}" contains illegal characters (whitespace or "/")`), s && o && a.push("and"), o && a.push(`version name "${e}" contains illegal characters (whitespace or "/")`), Zs.warn(a.join(" "));
    return;
  }
  Vu(new kc(`${i}-version`, () => ({ library: i, version: e }), "VERSION"));
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pR = "firebase-heartbeat-database", gR = 1, Rc = "firebase-heartbeat-store";
let Lf = null;
function d2() {
  return Lf || (Lf = Ik(pR, gR, {
    upgrade: (r, e) => {
      switch (e) {
        case 0:
          r.createObjectStore(Rc);
      }
    }
  }).catch((r) => {
    throw os.create("idb-open", {
      originalErrorMessage: r.message
    });
  })), Lf;
}
async function mR(r) {
  var e;
  try {
    return (await d2()).transaction(Rc).objectStore(Rc).get(p2(r));
  } catch (t) {
    if (t instanceof Sa)
      Zs.warn(t.message);
    else {
      const n = os.create("idb-get", {
        originalErrorMessage: (e = t) === null || e === void 0 ? void 0 : e.message
      });
      Zs.warn(n.message);
    }
  }
}
async function jx(r, e) {
  var t;
  try {
    const i = (await d2()).transaction(Rc, "readwrite");
    return await i.objectStore(Rc).put(e, p2(r)), i.done;
  } catch (n) {
    if (n instanceof Sa)
      Zs.warn(n.message);
    else {
      const i = os.create("idb-set", {
        originalErrorMessage: (t = n) === null || t === void 0 ? void 0 : t.message
      });
      Zs.warn(i.message);
    }
  }
}
function p2(r) {
  return `${r.name}!${r.options.appId}`;
}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const bR = 1024, xR = 30 * 24 * 60 * 60 * 1e3;
class vR {
  constructor(e) {
    this.container = e, this._heartbeatsCache = null;
    const t = this.container.getProvider("app").getImmediate();
    this._storage = new wR(t), this._heartbeatsCachePromise = this._storage.read().then((n) => (this._heartbeatsCache = n, n));
  }
  async triggerHeartbeat() {
    const t = this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(), n = Wx();
    if (this._heartbeatsCache === null && (this._heartbeatsCache = await this._heartbeatsCachePromise), !(this._heartbeatsCache.lastSentHeartbeatDate === n || this._heartbeatsCache.heartbeats.some((i) => i.date === n)))
      return this._heartbeatsCache.heartbeats.push({ date: n, agent: t }), this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter((i) => {
        const s = new Date(i.date).valueOf();
        return Date.now() - s <= xR;
      }), this._storage.overwrite(this._heartbeatsCache);
  }
  async getHeartbeatsHeader() {
    if (this._heartbeatsCache === null && await this._heartbeatsCachePromise, this._heartbeatsCache === null || this._heartbeatsCache.heartbeats.length === 0)
      return "";
    const e = Wx(), { heartbeatsToSend: t, unsentEntries: n } = yR(this._heartbeatsCache.heartbeats), i = $u(JSON.stringify({ version: 2, heartbeats: t }));
    return this._heartbeatsCache.lastSentHeartbeatDate = e, n.length > 0 ? (this._heartbeatsCache.heartbeats = n, await this._storage.overwrite(this._heartbeatsCache)) : (this._heartbeatsCache.heartbeats = [], this._storage.overwrite(this._heartbeatsCache)), i;
  }
}
function Wx() {
  return new Date().toISOString().substring(0, 10);
}
function yR(r, e = bR) {
  const t = [];
  let n = r.slice();
  for (const i of r) {
    const s = t.find((o) => o.agent === i.agent);
    if (s) {
      if (s.dates.push(i.date), Hx(t) > e) {
        s.dates.pop();
        break;
      }
    } else if (t.push({
      agent: i.agent,
      dates: [i.date]
    }), Hx(t) > e) {
      t.pop();
      break;
    }
    n = n.slice(1);
  }
  return {
    heartbeatsToSend: t,
    unsentEntries: n
  };
}
class wR {
  constructor(e) {
    this.app = e, this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
  }
  async runIndexedDBEnvironmentCheck() {
    return tk() ? rk().then(() => !0).catch(() => !1) : !1;
  }
  async read() {
    return await this._canUseIndexedDBPromise ? await mR(this.app) || { heartbeats: [] } : { heartbeats: [] };
  }
  async overwrite(e) {
    var t;
    if (await this._canUseIndexedDBPromise) {
      const i = await this.read();
      return jx(this.app, {
        lastSentHeartbeatDate: (t = e.lastSentHeartbeatDate) !== null && t !== void 0 ? t : i.lastSentHeartbeatDate,
        heartbeats: e.heartbeats
      });
    } else
      return;
  }
  async add(e) {
    var t;
    if (await this._canUseIndexedDBPromise) {
      const i = await this.read();
      return jx(this.app, {
        lastSentHeartbeatDate: (t = e.lastSentHeartbeatDate) !== null && t !== void 0 ? t : i.lastSentHeartbeatDate,
        heartbeats: [
          ...i.heartbeats,
          ...e.heartbeats
        ]
      });
    } else
      return;
  }
}
function Hx(r) {
  return $u(
    JSON.stringify({ version: 2, heartbeats: r })
  ).length;
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function AR(r) {
  Vu(new kc("platform-logger", (e) => new Nk(e), "PRIVATE")), Vu(new kc("heartbeat", (e) => new vR(e), "PRIVATE")), Vo(Md, Vx, r), Vo(Md, Vx, "esm2017"), Vo("fire-js", "");
}
AR("");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sr {
  constructor(e) {
    this.uid = e;
  }
  isAuthenticated() {
    return this.uid != null;
  }
  toKey() {
    return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
  }
  isEqual(e) {
    return e.uid === this.uid;
  }
}
Sr.UNAUTHENTICATED = new Sr(null), Sr.GOOGLE_CREDENTIALS = new Sr("google-credentials-uid"), Sr.FIRST_PARTY = new Sr("first-party-uid"), Sr.MOCK_USER = new Sr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ca = "9.13.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const eo = new l2("@firebase/firestore");
function lM(r) {
  eo.setLogLevel(r);
}
function to(r, ...e) {
  if (eo.logLevel <= Oe.DEBUG) {
    const t = e.map(hp);
    eo.debug(`Firestore (${Ca}): ${r}`, ...t);
  }
}
function wh(r, ...e) {
  if (eo.logLevel <= Oe.ERROR) {
    const t = e.map(hp);
    eo.error(`Firestore (${Ca}): ${r}`, ...t);
  }
}
function g2(r, ...e) {
  if (eo.logLevel <= Oe.WARN) {
    const t = e.map(hp);
    eo.warn(`Firestore (${Ca}): ${r}`, ...t);
  }
}
function hp(r) {
  if (typeof r == "string")
    return r;
  try {
    return e = r, JSON.stringify(e);
  } catch {
    return r;
  }
  /**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
  var e;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ne(r = "Unexpected state") {
  const e = `FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ` + r;
  throw wh(e), new Error(e);
}
function hr(r, e) {
  r || Ne();
}
function Ea(r, e) {
  return r;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gx = "ok", fp = "cancelled", jo = "unknown", ie = "invalid-argument", m2 = "deadline-exceeded", dp = "not-found", SR = "already-exists", b2 = "permission-denied", ju = "unauthenticated", x2 = "resource-exhausted", Ei = "failed-precondition", pp = "aborted", v2 = "out-of-range", gp = "unimplemented", y2 = "internal", w2 = "unavailable", CR = "data-loss";
class J extends Sa {
  constructor(e, t) {
    super(e, t), this.code = e, this.message = t, this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mp {
  constructor() {
    this.promise = new Promise((e, t) => {
      this.resolve = e, this.reject = t;
    });
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A2 {
  constructor(e, t) {
    this.user = t, this.type = "OAuth", this.headers = /* @__PURE__ */ new Map(), this.headers.set("Authorization", `Bearer ${e}`);
  }
}
class ER {
  getToken() {
    return Promise.resolve(null);
  }
  invalidateToken() {
  }
  start(e, t) {
    e.enqueueRetryable(() => t(Sr.UNAUTHENTICATED));
  }
  shutdown() {
  }
}
class _R {
  constructor(e) {
    this.token = e, this.changeListener = null;
  }
  getToken() {
    return Promise.resolve(this.token);
  }
  invalidateToken() {
  }
  start(e, t) {
    this.changeListener = t, e.enqueueRetryable(() => t(this.token.user));
  }
  shutdown() {
    this.changeListener = null;
  }
}
class PR {
  constructor(e) {
    this.auth = null, e.onInit((t) => {
      this.auth = t;
    });
  }
  getToken() {
    return this.auth ? this.auth.getToken().then((e) => e ? (hr(typeof e.accessToken == "string"), new A2(e.accessToken, new Sr(this.auth.getUid()))) : null) : Promise.resolve(null);
  }
  invalidateToken() {
  }
  start(e, t) {
  }
  shutdown() {
  }
}
class kR {
  constructor(e, t, n, i) {
    this.t = e, this.i = t, this.o = n, this.u = i, this.type = "FirstParty", this.user = Sr.FIRST_PARTY, this.h = /* @__PURE__ */ new Map();
  }
  l() {
    return this.u ? this.u() : (hr(!(typeof this.t != "object" || this.t === null || !this.t.auth || !this.t.auth.getAuthHeaderValueForFirstParty)), this.t.auth.getAuthHeaderValueForFirstParty([]));
  }
  get headers() {
    this.h.set("X-Goog-AuthUser", this.i);
    const e = this.l();
    return e && this.h.set("Authorization", e), this.o && this.h.set("X-Goog-Iam-Authorization-Token", this.o), this.h;
  }
}
class RR {
  constructor(e, t, n, i) {
    this.t = e, this.i = t, this.o = n, this.u = i;
  }
  getToken() {
    return Promise.resolve(new kR(this.t, this.i, this.o, this.u));
  }
  start(e, t) {
    e.enqueueRetryable(() => t(Sr.FIRST_PARTY));
  }
  shutdown() {
  }
  invalidateToken() {
  }
}
class TR {
  constructor(e) {
    this.value = e, this.type = "AppCheck", this.headers = /* @__PURE__ */ new Map(), e && e.length > 0 && this.headers.set("x-firebase-appcheck", this.value);
  }
}
class IR {
  constructor(e) {
    this.m = e, this.appCheck = null, e.onInit((t) => {
      this.appCheck = t;
    });
  }
  getToken() {
    return this.appCheck ? this.appCheck.getToken().then((e) => e ? (hr(typeof e.token == "string"), new TR(e.token)) : null) : Promise.resolve(null);
  }
  invalidateToken() {
  }
  start(e, t) {
  }
  shutdown() {
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class MR {
  constructor(e, t, n, i, s, o, a, c) {
    this.databaseId = e, this.appId = t, this.persistenceKey = n, this.host = i, this.ssl = s, this.forceLongPolling = o, this.autoDetectLongPolling = a, this.useFetchStreams = c;
  }
}
class Tc {
  constructor(e, t) {
    this.projectId = e, this.database = t || "(default)";
  }
  static empty() {
    return new Tc("", "");
  }
  get isDefaultDatabase() {
    return this.database === "(default)";
  }
  isEqual(e) {
    return e instanceof Tc && e.projectId === this.projectId && e.database === this.database;
  }
}
class Ic {
  constructor(e, t, n) {
    t === void 0 ? t = 0 : t > e.length && Ne(), n === void 0 ? n = e.length - t : n > e.length - t && Ne(), this.segments = e, this.offset = t, this.len = n;
  }
  get length() {
    return this.len;
  }
  isEqual(e) {
    return Ic.comparator(this, e) === 0;
  }
  child(e) {
    const t = this.segments.slice(this.offset, this.limit());
    return e instanceof Ic ? e.forEach((n) => {
      t.push(n);
    }) : t.push(e), this.construct(t);
  }
  limit() {
    return this.offset + this.length;
  }
  popFirst(e) {
    return e = e === void 0 ? 1 : e, this.construct(this.segments, this.offset + e, this.length - e);
  }
  popLast() {
    return this.construct(this.segments, this.offset, this.length - 1);
  }
  firstSegment() {
    return this.segments[this.offset];
  }
  lastSegment() {
    return this.get(this.length - 1);
  }
  get(e) {
    return this.segments[this.offset + e];
  }
  isEmpty() {
    return this.length === 0;
  }
  isPrefixOf(e) {
    if (e.length < this.length)
      return !1;
    for (let t = 0; t < this.length; t++)
      if (this.get(t) !== e.get(t))
        return !1;
    return !0;
  }
  isImmediateParentOf(e) {
    if (this.length + 1 !== e.length)
      return !1;
    for (let t = 0; t < this.length; t++)
      if (this.get(t) !== e.get(t))
        return !1;
    return !0;
  }
  forEach(e) {
    for (let t = this.offset, n = this.limit(); t < n; t++)
      e(this.segments[t]);
  }
  toArray() {
    return this.segments.slice(this.offset, this.limit());
  }
  static comparator(e, t) {
    const n = Math.min(e.length, t.length);
    for (let i = 0; i < n; i++) {
      const s = e.get(i), o = t.get(i);
      if (s < o)
        return -1;
      if (s > o)
        return 1;
    }
    return e.length < t.length ? -1 : e.length > t.length ? 1 : 0;
  }
}
class kt extends Ic {
  construct(e, t, n) {
    return new kt(e, t, n);
  }
  canonicalString() {
    return this.toArray().join("/");
  }
  toString() {
    return this.canonicalString();
  }
  static fromString(...e) {
    const t = [];
    for (const n of e) {
      if (n.indexOf("//") >= 0)
        throw new J(ie, `Invalid segment (${n}). Paths must not contain // in them.`);
      t.push(...n.split("/").filter((i) => i.length > 0));
    }
    return new kt(t);
  }
  static emptyPath() {
    return new kt([]);
  }
}
const OR = /^[_a-zA-Z][_a-zA-Z0-9]*$/;
class Ur extends Ic {
  construct(e, t, n) {
    return new Ur(e, t, n);
  }
  static isValidIdentifier(e) {
    return OR.test(e);
  }
  canonicalString() {
    return this.toArray().map((e) => (e = e.replace(/\\/g, "\\\\").replace(/`/g, "\\`"), Ur.isValidIdentifier(e) || (e = "`" + e + "`"), e)).join(".");
  }
  toString() {
    return this.canonicalString();
  }
  isKeyField() {
    return this.length === 1 && this.get(0) === "__name__";
  }
  static keyField() {
    return new Ur(["__name__"]);
  }
  static fromServerFormat(e) {
    const t = [];
    let n = "", i = 0;
    const s = () => {
      if (n.length === 0)
        throw new J(ie, `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);
      t.push(n), n = "";
    };
    let o = !1;
    for (; i < e.length; ) {
      const a = e[i];
      if (a === "\\") {
        if (i + 1 === e.length)
          throw new J(ie, "Path has trailing escape character: " + e);
        const c = e[i + 1];
        if (c !== "\\" && c !== "." && c !== "`")
          throw new J(ie, "Path has invalid escape sequence: " + e);
        n += c, i += 2;
      } else
        a === "`" ? (o = !o, i++) : a !== "." || o ? (n += a, i++) : (s(), i++);
    }
    if (s(), o)
      throw new J(ie, "Unterminated ` in path: " + e);
    return new Ur(t);
  }
  static emptyPath() {
    return new Ur([]);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nt {
  constructor(e) {
    this.path = e;
  }
  static fromPath(e) {
    return new Nt(kt.fromString(e));
  }
  static fromName(e) {
    return new Nt(kt.fromString(e).popFirst(5));
  }
  static empty() {
    return new Nt(kt.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(e) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(e) {
    return e !== null && kt.comparator(this.path, e.path) === 0;
  }
  toString() {
    return this.path.toString();
  }
  static comparator(e, t) {
    return kt.comparator(e.path, t.path);
  }
  static isDocumentKey(e) {
    return e.length % 2 == 0;
  }
  static fromSegments(e) {
    return new Nt(new kt(e.slice()));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bp(r, e, t) {
  if (!t)
    throw new J(ie, `Function ${r}() cannot be called with an empty ${e}.`);
}
function Kx(r) {
  if (!Nt.isDocumentKey(r))
    throw new J(ie, `Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`);
}
function zx(r) {
  if (Nt.isDocumentKey(r))
    throw new J(ie, `Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`);
}
function Ah(r) {
  if (r === void 0)
    return "undefined";
  if (r === null)
    return "null";
  if (typeof r == "string")
    return r.length > 20 && (r = `${r.substring(0, 20)}...`), JSON.stringify(r);
  if (typeof r == "number" || typeof r == "boolean")
    return "" + r;
  if (typeof r == "object") {
    if (r instanceof Array)
      return "an array";
    {
      const e = function(t) {
        return t.constructor ? t.constructor.name : null;
      }(r);
      return e ? `a custom ${e} object` : "an object";
    }
  }
  return typeof r == "function" ? "a function" : Ne();
}
function hn(r, e) {
  if ("_delegate" in r && (r = r._delegate), !(r instanceof e)) {
    if (e.name === r.constructor.name)
      throw new J(ie, "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");
    {
      const t = Ah(r);
      throw new J(ie, `Expected type '${e.name}', but it was: ${t}`);
    }
  }
  return r;
}
function S2(r, e) {
  if (e <= 0)
    throw new J(ie, `Function ${r}() requires a positive number, but it was: ${e}.`);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C2(r) {
  return r == null;
}
function Wu(r) {
  return r === 0 && 1 / r == -1 / 0;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const NR = {
  BatchGetDocuments: "batchGet",
  Commit: "commit",
  RunQuery: "runQuery",
  RunAggregationQuery: "runAggregationQuery"
};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qx, Ae;
function Qx(r) {
  if (r === void 0)
    return wh("RPC_ERROR", "HTTP error has no status"), jo;
  switch (r) {
    case 200:
      return Gx;
    case 400:
      return Ei;
    case 401:
      return ju;
    case 403:
      return b2;
    case 404:
      return dp;
    case 409:
      return pp;
    case 416:
      return v2;
    case 429:
      return x2;
    case 499:
      return fp;
    case 500:
      return jo;
    case 501:
      return gp;
    case 503:
      return w2;
    case 504:
      return m2;
    default:
      return r >= 200 && r < 300 ? Gx : r >= 400 && r < 500 ? Ei : r >= 500 && r < 600 ? y2 : jo;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(Ae = qx || (qx = {}))[Ae.OK = 0] = "OK", Ae[Ae.CANCELLED = 1] = "CANCELLED", Ae[Ae.UNKNOWN = 2] = "UNKNOWN", Ae[Ae.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Ae[Ae.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Ae[Ae.NOT_FOUND = 5] = "NOT_FOUND", Ae[Ae.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Ae[Ae.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Ae[Ae.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Ae[Ae.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Ae[Ae.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Ae[Ae.ABORTED = 10] = "ABORTED", Ae[Ae.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Ae[Ae.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Ae[Ae.INTERNAL = 13] = "INTERNAL", Ae[Ae.UNAVAILABLE = 14] = "UNAVAILABLE", Ae[Ae.DATA_LOSS = 15] = "DATA_LOSS";
class DR extends class {
  constructor(e) {
    this.databaseInfo = e, this.databaseId = e.databaseId;
    const t = e.ssl ? "https" : "http";
    this.p = t + "://" + e.host, this.g = "projects/" + this.databaseId.projectId + "/databases/" + this.databaseId.database + "/documents";
  }
  get v() {
    return !1;
  }
  I(e, t, n, i, s) {
    const o = this.T(e, t);
    to("RestConnection", "Sending: ", o, n);
    const a = {};
    return this.A(a, i, s), this.R(e, o, a, n).then((c) => (to("RestConnection", "Received: ", c), c), (c) => {
      throw g2("RestConnection", `${e} failed with error: `, c, "url: ", o, "request:", n), c;
    });
  }
  P(e, t, n, i, s, o) {
    return this.I(e, t, n, i, s);
  }
  A(e, t, n) {
    e["X-Goog-Api-Client"] = "gl-js/ fire/" + Ca, e["Content-Type"] = "text/plain", this.databaseInfo.appId && (e["X-Firebase-GMPID"] = this.databaseInfo.appId), t && t.headers.forEach((i, s) => e[s] = i), n && n.headers.forEach((i, s) => e[s] = i);
  }
  T(e, t) {
    const n = NR[e];
    return `${this.p}/v1/${t}:${n}`;
  }
} {
  constructor(e, t) {
    super(e), this.V = t;
  }
  N(e, t) {
    throw new Error("Not supported by FetchConnection");
  }
  async R(e, t, n, i) {
    const s = JSON.stringify(i);
    let o;
    try {
      o = await this.V(t, {
        method: "POST",
        headers: n,
        body: s
      });
    } catch (a) {
      throw new J(Qx(a.status), "Request failed with error: " + a.statusText);
    }
    if (!o.ok)
      throw new J(Qx(o.status), "Request failed with error: " + o.statusText);
    return o.json();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function BR(r) {
  const e = typeof self < "u" && (self.crypto || self.msCrypto), t = new Uint8Array(r);
  if (e && typeof e.getRandomValues == "function")
    e.getRandomValues(t);
  else
    for (let n = 0; n < r; n++)
      t[n] = Math.floor(256 * Math.random());
  return t;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $R {
  static D() {
    const e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", t = Math.floor(256 / e.length) * e.length;
    let n = "";
    for (; n.length < 20; ) {
      const i = BR(40);
      for (let s = 0; s < i.length; ++s)
        n.length < 20 && i[s] < t && (n += e.charAt(i[s] % e.length));
    }
    return n;
  }
}
function Vt(r, e) {
  return r < e ? -1 : r > e ? 1 : 0;
}
function xp(r, e, t) {
  return r.length === e.length && r.every((n, i) => t(n, e[i]));
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wr {
  constructor(e, t) {
    if (this.seconds = e, this.nanoseconds = t, t < 0)
      throw new J(ie, "Timestamp nanoseconds out of range: " + t);
    if (t >= 1e9)
      throw new J(ie, "Timestamp nanoseconds out of range: " + t);
    if (e < -62135596800)
      throw new J(ie, "Timestamp seconds out of range: " + e);
    if (e >= 253402300800)
      throw new J(ie, "Timestamp seconds out of range: " + e);
  }
  static now() {
    return Wr.fromMillis(Date.now());
  }
  static fromDate(e) {
    return Wr.fromMillis(e.getTime());
  }
  static fromMillis(e) {
    const t = Math.floor(e / 1e3), n = Math.floor(1e6 * (e - 1e3 * t));
    return new Wr(t, n);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / 1e6;
  }
  _compareTo(e) {
    return this.seconds === e.seconds ? Vt(this.nanoseconds, e.nanoseconds) : Vt(this.seconds, e.seconds);
  }
  isEqual(e) {
    return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
  }
  toString() {
    return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")";
  }
  toJSON() {
    return {
      seconds: this.seconds,
      nanoseconds: this.nanoseconds
    };
  }
  valueOf() {
    const e = this.seconds - -62135596800;
    return String(e).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0");
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cr {
  constructor(e) {
    this.timestamp = e;
  }
  static fromTimestamp(e) {
    return new Cr(e);
  }
  static min() {
    return new Cr(new Wr(0, 0));
  }
  static max() {
    return new Cr(new Wr(253402300799, 999999999));
  }
  compareTo(e) {
    return this.timestamp._compareTo(e.timestamp);
  }
  isEqual(e) {
    return this.timestamp.isEqual(e.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return "SnapshotVersion(" + this.timestamp.toString() + ")";
  }
  toTimestamp() {
    return this.timestamp;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jx(r) {
  let e = 0;
  for (const t in r)
    Object.prototype.hasOwnProperty.call(r, t) && e++;
  return e;
}
function ol(r, e) {
  for (const t in r)
    Object.prototype.hasOwnProperty.call(r, t) && e(t, r[t]);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hu {
  constructor(e, t) {
    this.comparator = e, this.root = t || qt.EMPTY;
  }
  insert(e, t) {
    return new Hu(this.comparator, this.root.insert(e, t, this.comparator).copy(null, null, qt.BLACK, null, null));
  }
  remove(e) {
    return new Hu(this.comparator, this.root.remove(e, this.comparator).copy(null, null, qt.BLACK, null, null));
  }
  get(e) {
    let t = this.root;
    for (; !t.isEmpty(); ) {
      const n = this.comparator(e, t.key);
      if (n === 0)
        return t.value;
      n < 0 ? t = t.left : n > 0 && (t = t.right);
    }
    return null;
  }
  indexOf(e) {
    let t = 0, n = this.root;
    for (; !n.isEmpty(); ) {
      const i = this.comparator(e, n.key);
      if (i === 0)
        return t + n.left.size;
      i < 0 ? n = n.left : (t += n.left.size + 1, n = n.right);
    }
    return -1;
  }
  isEmpty() {
    return this.root.isEmpty();
  }
  get size() {
    return this.root.size;
  }
  minKey() {
    return this.root.minKey();
  }
  maxKey() {
    return this.root.maxKey();
  }
  inorderTraversal(e) {
    return this.root.inorderTraversal(e);
  }
  forEach(e) {
    this.inorderTraversal((t, n) => (e(t, n), !1));
  }
  toString() {
    const e = [];
    return this.inorderTraversal((t, n) => (e.push(`${t}:${n}`), !1)), `{${e.join(", ")}}`;
  }
  reverseTraversal(e) {
    return this.root.reverseTraversal(e);
  }
  getIterator() {
    return new Rl(this.root, null, this.comparator, !1);
  }
  getIteratorFrom(e) {
    return new Rl(this.root, e, this.comparator, !1);
  }
  getReverseIterator() {
    return new Rl(this.root, null, this.comparator, !0);
  }
  getReverseIteratorFrom(e) {
    return new Rl(this.root, e, this.comparator, !0);
  }
}
class Rl {
  constructor(e, t, n, i) {
    this.isReverse = i, this.nodeStack = [];
    let s = 1;
    for (; !e.isEmpty(); )
      if (s = t ? n(e.key, t) : 1, t && i && (s *= -1), s < 0)
        e = this.isReverse ? e.left : e.right;
      else {
        if (s === 0) {
          this.nodeStack.push(e);
          break;
        }
        this.nodeStack.push(e), e = this.isReverse ? e.right : e.left;
      }
  }
  getNext() {
    let e = this.nodeStack.pop();
    const t = {
      key: e.key,
      value: e.value
    };
    if (this.isReverse)
      for (e = e.left; !e.isEmpty(); )
        this.nodeStack.push(e), e = e.right;
    else
      for (e = e.right; !e.isEmpty(); )
        this.nodeStack.push(e), e = e.left;
    return t;
  }
  hasNext() {
    return this.nodeStack.length > 0;
  }
  peek() {
    if (this.nodeStack.length === 0)
      return null;
    const e = this.nodeStack[this.nodeStack.length - 1];
    return {
      key: e.key,
      value: e.value
    };
  }
}
class qt {
  constructor(e, t, n, i, s) {
    this.key = e, this.value = t, this.color = n ?? qt.RED, this.left = i ?? qt.EMPTY, this.right = s ?? qt.EMPTY, this.size = this.left.size + 1 + this.right.size;
  }
  copy(e, t, n, i, s) {
    return new qt(e ?? this.key, t ?? this.value, n ?? this.color, i ?? this.left, s ?? this.right);
  }
  isEmpty() {
    return !1;
  }
  inorderTraversal(e) {
    return this.left.inorderTraversal(e) || e(this.key, this.value) || this.right.inorderTraversal(e);
  }
  reverseTraversal(e) {
    return this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e);
  }
  min() {
    return this.left.isEmpty() ? this : this.left.min();
  }
  minKey() {
    return this.min().key;
  }
  maxKey() {
    return this.right.isEmpty() ? this.key : this.right.maxKey();
  }
  insert(e, t, n) {
    let i = this;
    const s = n(e, i.key);
    return i = s < 0 ? i.copy(null, null, null, i.left.insert(e, t, n), null) : s === 0 ? i.copy(null, t, null, null, null) : i.copy(null, null, null, null, i.right.insert(e, t, n)), i.fixUp();
  }
  removeMin() {
    if (this.left.isEmpty())
      return qt.EMPTY;
    let e = this;
    return e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()), e = e.copy(null, null, null, e.left.removeMin(), null), e.fixUp();
  }
  remove(e, t) {
    let n, i = this;
    if (t(e, i.key) < 0)
      i.left.isEmpty() || i.left.isRed() || i.left.left.isRed() || (i = i.moveRedLeft()), i = i.copy(null, null, null, i.left.remove(e, t), null);
    else {
      if (i.left.isRed() && (i = i.rotateRight()), i.right.isEmpty() || i.right.isRed() || i.right.left.isRed() || (i = i.moveRedRight()), t(e, i.key) === 0) {
        if (i.right.isEmpty())
          return qt.EMPTY;
        n = i.right.min(), i = i.copy(n.key, n.value, null, null, i.right.removeMin());
      }
      i = i.copy(null, null, null, null, i.right.remove(e, t));
    }
    return i.fixUp();
  }
  isRed() {
    return this.color;
  }
  fixUp() {
    let e = this;
    return e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()), e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()), e.left.isRed() && e.right.isRed() && (e = e.colorFlip()), e;
  }
  moveRedLeft() {
    let e = this.colorFlip();
    return e.right.left.isRed() && (e = e.copy(null, null, null, null, e.right.rotateRight()), e = e.rotateLeft(), e = e.colorFlip()), e;
  }
  moveRedRight() {
    let e = this.colorFlip();
    return e.left.left.isRed() && (e = e.rotateRight(), e = e.colorFlip()), e;
  }
  rotateLeft() {
    const e = this.copy(null, null, qt.RED, null, this.right.left);
    return this.right.copy(null, null, this.color, e, null);
  }
  rotateRight() {
    const e = this.copy(null, null, qt.RED, this.left.right, null);
    return this.left.copy(null, null, this.color, null, e);
  }
  colorFlip() {
    const e = this.left.copy(null, null, !this.left.color, null, null), t = this.right.copy(null, null, !this.right.color, null, null);
    return this.copy(null, null, !this.color, e, t);
  }
  checkMaxDepth() {
    const e = this.check();
    return Math.pow(2, e) <= this.size + 1;
  }
  check() {
    if (this.isRed() && this.left.isRed() || this.right.isRed())
      throw Ne();
    const e = this.left.check();
    if (e !== this.right.check())
      throw Ne();
    return e + (this.isRed() ? 0 : 1);
  }
}
qt.EMPTY = null, qt.RED = !0, qt.BLACK = !1;
qt.EMPTY = new class {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw Ne();
  }
  get value() {
    throw Ne();
  }
  get color() {
    throw Ne();
  }
  get left() {
    throw Ne();
  }
  get right() {
    throw Ne();
  }
  copy(r, e, t, n, i) {
    return this;
  }
  insert(r, e, t) {
    return new qt(r, e);
  }
  remove(r, e) {
    return this;
  }
  isEmpty() {
    return !0;
  }
  inorderTraversal(r) {
    return !1;
  }
  reverseTraversal(r) {
    return !1;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return !1;
  }
  checkMaxDepth() {
    return !0;
  }
  check() {
    return 0;
  }
}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gu {
  constructor(e) {
    this.comparator = e, this.data = new Hu(this.comparator);
  }
  has(e) {
    return this.data.get(e) !== null;
  }
  first() {
    return this.data.minKey();
  }
  last() {
    return this.data.maxKey();
  }
  get size() {
    return this.data.size;
  }
  indexOf(e) {
    return this.data.indexOf(e);
  }
  forEach(e) {
    this.data.inorderTraversal((t, n) => (e(t), !1));
  }
  forEachInRange(e, t) {
    const n = this.data.getIteratorFrom(e[0]);
    for (; n.hasNext(); ) {
      const i = n.getNext();
      if (this.comparator(i.key, e[1]) >= 0)
        return;
      t(i.key);
    }
  }
  forEachWhile(e, t) {
    let n;
    for (n = t !== void 0 ? this.data.getIteratorFrom(t) : this.data.getIterator(); n.hasNext(); )
      if (!e(n.getNext().key))
        return;
  }
  firstAfterOrEqual(e) {
    const t = this.data.getIteratorFrom(e);
    return t.hasNext() ? t.getNext().key : null;
  }
  getIterator() {
    return new Yx(this.data.getIterator());
  }
  getIteratorFrom(e) {
    return new Yx(this.data.getIteratorFrom(e));
  }
  add(e) {
    return this.copy(this.data.remove(e).insert(e, !0));
  }
  delete(e) {
    return this.has(e) ? this.copy(this.data.remove(e)) : this;
  }
  isEmpty() {
    return this.data.isEmpty();
  }
  unionWith(e) {
    let t = this;
    return t.size < e.size && (t = e, e = this), e.forEach((n) => {
      t = t.add(n);
    }), t;
  }
  isEqual(e) {
    if (!(e instanceof Gu) || this.size !== e.size)
      return !1;
    const t = this.data.getIterator(), n = e.data.getIterator();
    for (; t.hasNext(); ) {
      const i = t.getNext().key, s = n.getNext().key;
      if (this.comparator(i, s) !== 0)
        return !1;
    }
    return !0;
  }
  toArray() {
    const e = [];
    return this.forEach((t) => {
      e.push(t);
    }), e;
  }
  toString() {
    const e = [];
    return this.forEach((t) => e.push(t)), "SortedSet(" + e.toString() + ")";
  }
  copy(e) {
    const t = new Gu(this.comparator);
    return t.data = e, t;
  }
}
class Yx {
  constructor(e) {
    this.iter = e;
  }
  getNext() {
    return this.iter.getNext().key;
  }
  hasNext() {
    return this.iter.hasNext();
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ro {
  constructor(e) {
    this.fields = e, e.sort(Ur.comparator);
  }
  static empty() {
    return new ro([]);
  }
  unionWith(e) {
    let t = new Gu(Ur.comparator);
    for (const n of this.fields)
      t = t.add(n);
    for (const n of e)
      t = t.add(n);
    return new ro(t.toArray());
  }
  covers(e) {
    for (const t of this.fields)
      if (t.isPrefixOf(e))
        return !0;
    return !1;
  }
  isEqual(e) {
    return xp(this.fields, e.fields, (t, n) => t.isEqual(n));
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _i {
  constructor(e) {
    this.binaryString = e;
  }
  static fromBase64String(e) {
    const t = atob(e);
    return new _i(t);
  }
  static fromUint8Array(e) {
    const t = function(n) {
      let i = "";
      for (let s = 0; s < n.length; ++s)
        i += String.fromCharCode(n[s]);
      return i;
    }(e);
    return new _i(t);
  }
  [Symbol.iterator]() {
    let e = 0;
    return {
      next: () => e < this.binaryString.length ? {
        value: this.binaryString.charCodeAt(e++),
        done: !1
      } : {
        value: void 0,
        done: !0
      }
    };
  }
  toBase64() {
    return e = this.binaryString, btoa(e);
    var e;
  }
  toUint8Array() {
    return function(e) {
      const t = new Uint8Array(e.length);
      for (let n = 0; n < e.length; n++)
        t[n] = e.charCodeAt(n);
      return t;
    }(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(e) {
    return Vt(this.binaryString, e.binaryString);
  }
  isEqual(e) {
    return this.binaryString === e.binaryString;
  }
}
_i.EMPTY_BYTE_STRING = new _i("");
const LR = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function no(r) {
  if (hr(!!r), typeof r == "string") {
    let e = 0;
    const t = LR.exec(r);
    if (hr(!!t), t[1]) {
      let i = t[1];
      i = (i + "000000000").substr(0, 9), e = Number(i);
    }
    const n = new Date(r);
    return {
      seconds: Math.floor(n.getTime() / 1e3),
      nanos: e
    };
  }
  return {
    seconds: Bt(r.seconds),
    nanos: Bt(r.nanos)
  };
}
function Bt(r) {
  return typeof r == "number" ? r : typeof r == "string" ? Number(r) : 0;
}
function Mc(r) {
  return typeof r == "string" ? _i.fromBase64String(r) : _i.fromUint8Array(r);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vp(r) {
  var e, t;
  return ((t = (((e = r?.mapValue) === null || e === void 0 ? void 0 : e.fields) || {}).__type__) === null || t === void 0 ? void 0 : t.stringValue) === "server_timestamp";
}
function E2(r) {
  const e = r.mapValue.fields.__previous_value__;
  return vp(e) ? E2(e) : e;
}
function Oc(r) {
  const e = no(r.mapValue.fields.__local_write_time__.timestampValue);
  return new Wr(e.seconds, e.nanos);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Tl = {
  fields: {
    __type__: {
      stringValue: "__max__"
    }
  }
};
function io(r) {
  return "nullValue" in r ? 0 : "booleanValue" in r ? 1 : "integerValue" in r || "doubleValue" in r ? 2 : "timestampValue" in r ? 3 : "stringValue" in r ? 5 : "bytesValue" in r ? 6 : "referenceValue" in r ? 7 : "geoPointValue" in r ? 8 : "arrayValue" in r ? 9 : "mapValue" in r ? vp(r) ? 4 : function(e) {
    return (((e.mapValue || {}).fields || {}).__type__ || {}).stringValue === "__max__";
  }(r) ? 9007199254740991 : 10 : Ne();
}
function ra(r, e) {
  if (r === e)
    return !0;
  const t = io(r);
  if (t !== io(e))
    return !1;
  switch (t) {
    case 0:
    case 9007199254740991:
      return !0;
    case 1:
      return r.booleanValue === e.booleanValue;
    case 4:
      return Oc(r).isEqual(Oc(e));
    case 3:
      return function(n, i) {
        if (typeof n.timestampValue == "string" && typeof i.timestampValue == "string" && n.timestampValue.length === i.timestampValue.length)
          return n.timestampValue === i.timestampValue;
        const s = no(n.timestampValue), o = no(i.timestampValue);
        return s.seconds === o.seconds && s.nanos === o.nanos;
      }(r, e);
    case 5:
      return r.stringValue === e.stringValue;
    case 6:
      return function(n, i) {
        return Mc(n.bytesValue).isEqual(Mc(i.bytesValue));
      }(r, e);
    case 7:
      return r.referenceValue === e.referenceValue;
    case 8:
      return function(n, i) {
        return Bt(n.geoPointValue.latitude) === Bt(i.geoPointValue.latitude) && Bt(n.geoPointValue.longitude) === Bt(i.geoPointValue.longitude);
      }(r, e);
    case 2:
      return function(n, i) {
        if ("integerValue" in n && "integerValue" in i)
          return Bt(n.integerValue) === Bt(i.integerValue);
        if ("doubleValue" in n && "doubleValue" in i) {
          const s = Bt(n.doubleValue), o = Bt(i.doubleValue);
          return s === o ? Wu(s) === Wu(o) : isNaN(s) && isNaN(o);
        }
        return !1;
      }(r, e);
    case 9:
      return xp(r.arrayValue.values || [], e.arrayValue.values || [], ra);
    case 10:
      return function(n, i) {
        const s = n.mapValue.fields || {}, o = i.mapValue.fields || {};
        if (Jx(s) !== Jx(o))
          return !1;
        for (const a in s)
          if (s.hasOwnProperty(a) && (o[a] === void 0 || !ra(s[a], o[a])))
            return !1;
        return !0;
      }(r, e);
    default:
      return Ne();
  }
}
function Nc(r, e) {
  return (r.values || []).find((t) => ra(t, e)) !== void 0;
}
function Ku(r, e) {
  if (r === e)
    return 0;
  const t = io(r), n = io(e);
  if (t !== n)
    return Vt(t, n);
  switch (t) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return Vt(r.booleanValue, e.booleanValue);
    case 2:
      return function(i, s) {
        const o = Bt(i.integerValue || i.doubleValue), a = Bt(s.integerValue || s.doubleValue);
        return o < a ? -1 : o > a ? 1 : o === a ? 0 : isNaN(o) ? isNaN(a) ? 0 : -1 : 1;
      }(r, e);
    case 3:
      return Xx(r.timestampValue, e.timestampValue);
    case 4:
      return Xx(Oc(r), Oc(e));
    case 5:
      return Vt(r.stringValue, e.stringValue);
    case 6:
      return function(i, s) {
        const o = Mc(i), a = Mc(s);
        return o.compareTo(a);
      }(r.bytesValue, e.bytesValue);
    case 7:
      return function(i, s) {
        const o = i.split("/"), a = s.split("/");
        for (let c = 0; c < o.length && c < a.length; c++) {
          const l = Vt(o[c], a[c]);
          if (l !== 0)
            return l;
        }
        return Vt(o.length, a.length);
      }(r.referenceValue, e.referenceValue);
    case 8:
      return function(i, s) {
        const o = Vt(Bt(i.latitude), Bt(s.latitude));
        return o !== 0 ? o : Vt(Bt(i.longitude), Bt(s.longitude));
      }(r.geoPointValue, e.geoPointValue);
    case 9:
      return function(i, s) {
        const o = i.values || [], a = s.values || [];
        for (let c = 0; c < o.length && c < a.length; ++c) {
          const l = Ku(o[c], a[c]);
          if (l)
            return l;
        }
        return Vt(o.length, a.length);
      }(r.arrayValue, e.arrayValue);
    case 10:
      return function(i, s) {
        if (i === Tl && s === Tl)
          return 0;
        if (i === Tl)
          return 1;
        if (s === Tl)
          return -1;
        const o = i.fields || {}, a = Object.keys(o), c = s.fields || {}, l = Object.keys(c);
        a.sort(), l.sort();
        for (let f = 0; f < a.length && f < l.length; ++f) {
          const p = Vt(a[f], l[f]);
          if (p !== 0)
            return p;
          const b = Ku(o[a[f]], c[l[f]]);
          if (b !== 0)
            return b;
        }
        return Vt(a.length, l.length);
      }(r.mapValue, e.mapValue);
    default:
      throw Ne();
  }
}
function Xx(r, e) {
  if (typeof r == "string" && typeof e == "string" && r.length === e.length)
    return Vt(r, e);
  const t = no(r), n = no(e), i = Vt(t.seconds, n.seconds);
  return i !== 0 ? i : Vt(t.nanos, n.nanos);
}
function zu(r, e) {
  return {
    referenceValue: `projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`
  };
}
function _2(r) {
  return !!r && "arrayValue" in r;
}
function Zx(r) {
  return !!r && "nullValue" in r;
}
function e1(r) {
  return !!r && "doubleValue" in r && isNaN(Number(r.doubleValue));
}
function Ff(r) {
  return !!r && "mapValue" in r;
}
function nc(r) {
  if (r.geoPointValue)
    return {
      geoPointValue: Object.assign({}, r.geoPointValue)
    };
  if (r.timestampValue && typeof r.timestampValue == "object")
    return {
      timestampValue: Object.assign({}, r.timestampValue)
    };
  if (r.mapValue) {
    const e = {
      mapValue: {
        fields: {}
      }
    };
    return ol(r.mapValue.fields, (t, n) => e.mapValue.fields[t] = nc(n)), e;
  }
  if (r.arrayValue) {
    const e = {
      arrayValue: {
        values: []
      }
    };
    for (let t = 0; t < (r.arrayValue.values || []).length; ++t)
      e.arrayValue.values[t] = nc(r.arrayValue.values[t]);
    return e;
  }
  return Object.assign({}, r);
}
class Vr {
  constructor(e) {
    this.value = e;
  }
  static empty() {
    return new Vr({
      mapValue: {}
    });
  }
  field(e) {
    if (e.isEmpty())
      return this.value;
    {
      let t = this.value;
      for (let n = 0; n < e.length - 1; ++n)
        if (t = (t.mapValue.fields || {})[e.get(n)], !Ff(t))
          return null;
      return t = (t.mapValue.fields || {})[e.lastSegment()], t || null;
    }
  }
  set(e, t) {
    this.getFieldsMap(e.popLast())[e.lastSegment()] = nc(t);
  }
  setAll(e) {
    let t = Ur.emptyPath(), n = {}, i = [];
    e.forEach((o, a) => {
      if (!t.isImmediateParentOf(a)) {
        const c = this.getFieldsMap(t);
        this.applyChanges(c, n, i), n = {}, i = [], t = a.popLast();
      }
      o ? n[a.lastSegment()] = nc(o) : i.push(a.lastSegment());
    });
    const s = this.getFieldsMap(t);
    this.applyChanges(s, n, i);
  }
  delete(e) {
    const t = this.field(e.popLast());
    Ff(t) && t.mapValue.fields && delete t.mapValue.fields[e.lastSegment()];
  }
  isEqual(e) {
    return ra(this.value, e.value);
  }
  getFieldsMap(e) {
    let t = this.value;
    t.mapValue.fields || (t.mapValue = {
      fields: {}
    });
    for (let n = 0; n < e.length; ++n) {
      let i = t.mapValue.fields[e.get(n)];
      Ff(i) && i.mapValue.fields || (i = {
        mapValue: {
          fields: {}
        }
      }, t.mapValue.fields[e.get(n)] = i), t = i;
    }
    return t.mapValue.fields;
  }
  applyChanges(e, t, n) {
    ol(t, (i, s) => e[i] = s);
    for (const i of n)
      delete e[i];
  }
  clone() {
    return new Vr(nc(this.value));
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dn {
  constructor(e, t, n, i, s, o) {
    this.key = e, this.documentType = t, this.version = n, this.readTime = i, this.data = s, this.documentState = o;
  }
  static newInvalidDocument(e) {
    return new Dn(e, 0, Cr.min(), Cr.min(), Vr.empty(), 0);
  }
  static newFoundDocument(e, t, n) {
    return new Dn(e, 1, t, Cr.min(), n, 0);
  }
  static newNoDocument(e, t) {
    return new Dn(e, 2, t, Cr.min(), Vr.empty(), 0);
  }
  static newUnknownDocument(e, t) {
    return new Dn(e, 3, t, Cr.min(), Vr.empty(), 2);
  }
  convertToFoundDocument(e, t) {
    return this.version = e, this.documentType = 1, this.data = t, this.documentState = 0, this;
  }
  convertToNoDocument(e) {
    return this.version = e, this.documentType = 2, this.data = Vr.empty(), this.documentState = 0, this;
  }
  convertToUnknownDocument(e) {
    return this.version = e, this.documentType = 3, this.data = Vr.empty(), this.documentState = 2, this;
  }
  setHasCommittedMutations() {
    return this.documentState = 2, this;
  }
  setHasLocalMutations() {
    return this.documentState = 1, this.version = Cr.min(), this;
  }
  setReadTime(e) {
    return this.readTime = e, this;
  }
  get hasLocalMutations() {
    return this.documentState === 1;
  }
  get hasCommittedMutations() {
    return this.documentState === 2;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return this.documentType !== 0;
  }
  isFoundDocument() {
    return this.documentType === 1;
  }
  isNoDocument() {
    return this.documentType === 2;
  }
  isUnknownDocument() {
    return this.documentType === 3;
  }
  isEqual(e) {
    return e instanceof Dn && this.key.isEqual(e.key) && this.version.isEqual(e.version) && this.documentType === e.documentType && this.documentState === e.documentState && this.data.isEqual(e.data);
  }
  mutableCopy() {
    return new Dn(this.key, this.documentType, this.version, this.readTime, this.data.clone(), this.documentState);
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;
  }
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class FR {
  constructor(e, t = null, n = [], i = [], s = null, o = null, a = null) {
    this.path = e, this.collectionGroup = t, this.orderBy = n, this.filters = i, this.limit = s, this.startAt = o, this.endAt = a, this.$ = null;
  }
}
function t1(r, e = null, t = [], n = [], i = null, s = null, o = null) {
  return new FR(r, e, t, n, i, s, o);
}
class Zn extends class {
} {
  constructor(e, t, n) {
    super(), this.field = e, this.op = t, this.value = n;
  }
  static create(e, t, n) {
    return e.isKeyField() ? t === "in" || t === "not-in" ? this.F(e, t, n) : new UR(e, t, n) : t === "array-contains" ? new WR(e, n) : t === "in" ? new HR(e, n) : t === "not-in" ? new GR(e, n) : t === "array-contains-any" ? new KR(e, n) : new Zn(e, t, n);
  }
  static F(e, t, n) {
    return t === "in" ? new VR(e, n) : new jR(e, n);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return this.op === "!=" ? t !== null && this.S(Ku(t, this.value)) : t !== null && io(this.value) === io(t) && this.S(Ku(t, this.value));
  }
  S(e) {
    switch (this.op) {
      case "<":
        return e < 0;
      case "<=":
        return e <= 0;
      case "==":
        return e === 0;
      case "!=":
        return e !== 0;
      case ">":
        return e > 0;
      case ">=":
        return e >= 0;
      default:
        return Ne();
    }
  }
  q() {
    return ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op) >= 0;
  }
}
class UR extends Zn {
  constructor(e, t, n) {
    super(e, t, n), this.key = Nt.fromName(n.referenceValue);
  }
  matches(e) {
    const t = Nt.comparator(e.key, this.key);
    return this.S(t);
  }
}
class VR extends Zn {
  constructor(e, t) {
    super(e, "in", t), this.keys = P2("in", t);
  }
  matches(e) {
    return this.keys.some((t) => t.isEqual(e.key));
  }
}
class jR extends Zn {
  constructor(e, t) {
    super(e, "not-in", t), this.keys = P2("not-in", t);
  }
  matches(e) {
    return !this.keys.some((t) => t.isEqual(e.key));
  }
}
function P2(r, e) {
  var t;
  return (((t = e.arrayValue) === null || t === void 0 ? void 0 : t.values) || []).map((n) => Nt.fromName(n.referenceValue));
}
class WR extends Zn {
  constructor(e, t) {
    super(e, "array-contains", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return _2(t) && Nc(t.arrayValue, this.value);
  }
}
class HR extends Zn {
  constructor(e, t) {
    super(e, "in", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return t !== null && Nc(this.value.arrayValue, t);
  }
}
class GR extends Zn {
  constructor(e, t) {
    super(e, "not-in", t);
  }
  matches(e) {
    if (Nc(this.value.arrayValue, {
      nullValue: "NULL_VALUE"
    }))
      return !1;
    const t = e.data.field(this.field);
    return t !== null && !Nc(this.value.arrayValue, t);
  }
}
class KR extends Zn {
  constructor(e, t) {
    super(e, "array-contains-any", t);
  }
  matches(e) {
    const t = e.data.field(this.field);
    return !(!_2(t) || !t.arrayValue.values) && t.arrayValue.values.some((n) => Nc(this.value.arrayValue, n));
  }
}
class qu {
  constructor(e, t) {
    this.position = e, this.inclusive = t;
  }
}
class ic {
  constructor(e, t = "asc") {
    this.field = e, this.dir = t;
  }
}
function zR(r, e) {
  return r.dir === e.dir && r.field.isEqual(e.field);
}
function r1(r, e) {
  if (r === null)
    return e === null;
  if (e === null || r.inclusive !== e.inclusive || r.position.length !== e.position.length)
    return !1;
  for (let t = 0; t < r.position.length; t++)
    if (!ra(r.position[t], e.position[t]))
      return !1;
  return !0;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mo {
  constructor(e, t = null, n = [], i = [], s = null, o = "F", a = null, c = null) {
    this.path = e, this.collectionGroup = t, this.explicitOrderBy = n, this.filters = i, this.limit = s, this.limitType = o, this.startAt = a, this.endAt = c, this.O = null, this.k = null, this.startAt, this.endAt;
  }
}
function yp(r) {
  return r.explicitOrderBy.length > 0 ? r.explicitOrderBy[0].field : null;
}
function wp(r) {
  for (const e of r.filters)
    if (e.q())
      return e.field;
  return null;
}
function k2(r) {
  return r.collectionGroup !== null;
}
function Nd(r) {
  const e = Ea(r);
  if (e.O === null) {
    e.O = [];
    const t = wp(e), n = yp(e);
    if (t !== null && n === null)
      t.isKeyField() || e.O.push(new ic(t)), e.O.push(new ic(Ur.keyField(), "asc"));
    else {
      let i = !1;
      for (const s of e.explicitOrderBy)
        e.O.push(s), s.field.isKeyField() && (i = !0);
      if (!i) {
        const s = e.explicitOrderBy.length > 0 ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir : "asc";
        e.O.push(new ic(Ur.keyField(), s));
      }
    }
  }
  return e.O;
}
function Qu(r) {
  const e = Ea(r);
  if (!e.k)
    if (e.limitType === "F")
      e.k = t1(e.path, e.collectionGroup, Nd(e), e.filters, e.limit, e.startAt, e.endAt);
    else {
      const t = [];
      for (const s of Nd(e)) {
        const o = s.dir === "desc" ? "asc" : "desc";
        t.push(new ic(s.field, o));
      }
      const n = e.endAt ? new qu(e.endAt.position, e.endAt.inclusive) : null, i = e.startAt ? new qu(e.startAt.position, e.startAt.inclusive) : null;
      e.k = t1(e.path, e.collectionGroup, t, e.filters, e.limit, n, i);
    }
  return e.k;
}
function qR(r, e) {
  return function(t, n) {
    if (t.limit !== n.limit || t.orderBy.length !== n.orderBy.length)
      return !1;
    for (let o = 0; o < t.orderBy.length; o++)
      if (!zR(t.orderBy[o], n.orderBy[o]))
        return !1;
    if (t.filters.length !== n.filters.length)
      return !1;
    for (let o = 0; o < t.filters.length; o++)
      if (i = t.filters[o], s = n.filters[o], i.op !== s.op || !i.field.isEqual(s.field) || !ra(i.value, s.value))
        return !1;
    var i, s;
    return t.collectionGroup === n.collectionGroup && !!t.path.isEqual(n.path) && !!r1(t.startAt, n.startAt) && r1(t.endAt, n.endAt);
  }(Qu(r), Qu(e)) && r.limitType === e.limitType;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R2(r, e) {
  return function(t) {
    return typeof t == "number" && Number.isInteger(t) && !Wu(t) && t <= Number.MAX_SAFE_INTEGER && t >= Number.MIN_SAFE_INTEGER;
  }(e) ? function(t) {
    return {
      integerValue: "" + t
    };
  }(e) : function(t, n) {
    if (t.C) {
      if (isNaN(n))
        return {
          doubleValue: "NaN"
        };
      if (n === 1 / 0)
        return {
          doubleValue: "Infinity"
        };
      if (n === -1 / 0)
        return {
          doubleValue: "-Infinity"
        };
    }
    return {
      doubleValue: Wu(n) ? "-0" : n
    };
  }(r, e);
}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sh {
  constructor() {
    this._ = void 0;
  }
}
class T2 extends Sh {
}
class I2 extends Sh {
  constructor(e) {
    super(), this.elements = e;
  }
}
class M2 extends Sh {
  constructor(e) {
    super(), this.elements = e;
  }
}
class O2 extends Sh {
  constructor(e, t) {
    super(), this.L = e, this.M = t;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ch {
  constructor(e, t) {
    this.field = e, this.transform = t;
  }
}
class cr {
  constructor(e, t) {
    this.updateTime = e, this.exists = t;
  }
  static none() {
    return new cr();
  }
  static exists(e) {
    return new cr(void 0, e);
  }
  static updateTime(e) {
    return new cr(e);
  }
  get isNone() {
    return this.updateTime === void 0 && this.exists === void 0;
  }
  isEqual(e) {
    return this.exists === e.exists && (this.updateTime ? !!e.updateTime && this.updateTime.isEqual(e.updateTime) : !e.updateTime);
  }
}
class Eh {
}
class N2 extends Eh {
  constructor(e, t, n, i = []) {
    super(), this.key = e, this.value = t, this.precondition = n, this.fieldTransforms = i, this.type = 0;
  }
  getFieldMask() {
    return null;
  }
}
class Ap extends Eh {
  constructor(e, t, n, i, s = []) {
    super(), this.key = e, this.data = t, this.fieldMask = n, this.precondition = i, this.fieldTransforms = s, this.type = 1;
  }
  getFieldMask() {
    return this.fieldMask;
  }
}
class _h extends Eh {
  constructor(e, t) {
    super(), this.key = e, this.precondition = t, this.type = 2, this.fieldTransforms = [];
  }
  getFieldMask() {
    return null;
  }
}
class D2 extends Eh {
  constructor(e, t) {
    super(), this.key = e, this.precondition = t, this.type = 3, this.fieldTransforms = [];
  }
  getFieldMask() {
    return null;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const QR = (() => ({
  asc: "ASCENDING",
  desc: "DESCENDING"
}))(), JR = (() => ({
  "<": "LESS_THAN",
  "<=": "LESS_THAN_OR_EQUAL",
  ">": "GREATER_THAN",
  ">=": "GREATER_THAN_OR_EQUAL",
  "==": "EQUAL",
  "!=": "NOT_EQUAL",
  "array-contains": "ARRAY_CONTAINS",
  in: "IN",
  "not-in": "NOT_IN",
  "array-contains-any": "ARRAY_CONTAINS_ANY"
}))();
class YR {
  constructor(e, t) {
    this.databaseId = e, this.C = t;
  }
}
function Dd(r, e) {
  return r.C ? `${new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "")}.${("000000000" + e.nanoseconds).slice(-9)}Z` : {
    seconds: "" + e.seconds,
    nanos: e.nanoseconds
  };
}
function XR(r, e) {
  return r.C ? e.toBase64() : e.toUint8Array();
}
function ZR(r, e) {
  return Dd(r, e.toTimestamp());
}
function Bd(r) {
  return hr(!!r), Cr.fromTimestamp(function(e) {
    const t = no(e);
    return new Wr(t.seconds, t.nanos);
  }(r));
}
function Sp(r, e) {
  return function(t) {
    return new kt(["projects", t.projectId, "databases", t.database]);
  }(r).child("documents").child(e).canonicalString();
}
function Ju(r, e) {
  return Sp(r.databaseId, e.path);
}
function $d(r, e) {
  const t = function(i) {
    const s = kt.fromString(i);
    return hr(L2(s)), s;
  }(e);
  if (t.get(1) !== r.databaseId.projectId)
    throw new J(ie, "Tried to deserialize key from different project: " + t.get(1) + " vs " + r.databaseId.projectId);
  if (t.get(3) !== r.databaseId.database)
    throw new J(ie, "Tried to deserialize key from different database: " + t.get(3) + " vs " + r.databaseId.database);
  return new Nt((hr((n = t).length > 4 && n.get(4) === "documents"), n.popFirst(5)));
  var n;
}
function n1(r, e) {
  return Sp(r.databaseId, e);
}
function B2(r) {
  return new kt(["projects", r.databaseId.projectId, "databases", r.databaseId.database]).canonicalString();
}
function i1(r, e, t) {
  return {
    name: Ju(r, e),
    fields: t.value.mapValue.fields
  };
}
function eT(r, e) {
  return "found" in e ? function(t, n) {
    hr(!!n.found), n.found.name, n.found.updateTime;
    const i = $d(t, n.found.name), s = Bd(n.found.updateTime), o = new Vr({
      mapValue: {
        fields: n.found.fields
      }
    });
    return Dn.newFoundDocument(i, s, o);
  }(r, e) : "missing" in e ? function(t, n) {
    hr(!!n.missing), hr(!!n.readTime);
    const i = $d(t, n.missing), s = Bd(n.readTime);
    return Dn.newNoDocument(i, s);
  }(r, e) : Ne();
}
function tT(r, e) {
  let t;
  if (e instanceof N2)
    t = {
      update: i1(r, e.key, e.value)
    };
  else if (e instanceof _h)
    t = {
      delete: Ju(r, e.key)
    };
  else if (e instanceof Ap)
    t = {
      update: i1(r, e.key, e.data),
      updateMask: iT(e.fieldMask)
    };
  else {
    if (!(e instanceof D2))
      return Ne();
    t = {
      verify: Ju(r, e.key)
    };
  }
  return e.fieldTransforms.length > 0 && (t.updateTransforms = e.fieldTransforms.map((n) => function(i, s) {
    const o = s.transform;
    if (o instanceof T2)
      return {
        fieldPath: s.field.canonicalString(),
        setToServerValue: "REQUEST_TIME"
      };
    if (o instanceof I2)
      return {
        fieldPath: s.field.canonicalString(),
        appendMissingElements: {
          values: o.elements
        }
      };
    if (o instanceof M2)
      return {
        fieldPath: s.field.canonicalString(),
        removeAllFromArray: {
          values: o.elements
        }
      };
    if (o instanceof O2)
      return {
        fieldPath: s.field.canonicalString(),
        increment: o.M
      };
    throw Ne();
  }(0, n))), e.precondition.isNone || (t.currentDocument = function(n, i) {
    return i.updateTime !== void 0 ? {
      updateTime: ZR(n, i.updateTime)
    } : i.exists !== void 0 ? {
      exists: i.exists
    } : Ne();
  }(r, e.precondition)), t;
}
function $2(r, e) {
  const t = {
    structuredQuery: {}
  }, n = e.path;
  e.collectionGroup !== null ? (t.parent = n1(r, n), t.structuredQuery.from = [{
    collectionId: e.collectionGroup,
    allDescendants: !0
  }]) : (t.parent = n1(r, n.popLast()), t.structuredQuery.from = [{
    collectionId: n.lastSegment()
  }]);
  const i = function(c) {
    if (c.length === 0)
      return;
    const l = c.map((f) => function(p) {
      if (p.op === "==") {
        if (e1(p.value))
          return {
            unaryFilter: {
              field: Eo(p.field),
              op: "IS_NAN"
            }
          };
        if (Zx(p.value))
          return {
            unaryFilter: {
              field: Eo(p.field),
              op: "IS_NULL"
            }
          };
      } else if (p.op === "!=") {
        if (e1(p.value))
          return {
            unaryFilter: {
              field: Eo(p.field),
              op: "IS_NOT_NAN"
            }
          };
        if (Zx(p.value))
          return {
            unaryFilter: {
              field: Eo(p.field),
              op: "IS_NOT_NULL"
            }
          };
      }
      return {
        fieldFilter: {
          field: Eo(p.field),
          op: nT(p.op),
          value: p.value
        }
      };
    }(f));
    return l.length === 1 ? l[0] : {
      compositeFilter: {
        op: "AND",
        filters: l
      }
    };
  }(e.filters);
  i && (t.structuredQuery.where = i);
  const s = function(c) {
    if (c.length !== 0)
      return c.map((l) => function(f) {
        return {
          field: Eo(f.field),
          direction: rT(f.dir)
        };
      }(l));
  }(e.orderBy);
  s && (t.structuredQuery.orderBy = s);
  const o = function(c, l) {
    return c.C || C2(l) ? l : {
      value: l
    };
  }(r, e.limit);
  var a;
  return o !== null && (t.structuredQuery.limit = o), e.startAt && (t.structuredQuery.startAt = {
    before: (a = e.startAt).inclusive,
    values: a.position
  }), e.endAt && (t.structuredQuery.endAt = function(c) {
    return {
      before: !c.inclusive,
      values: c.position
    };
  }(e.endAt)), t;
}
function rT(r) {
  return QR[r];
}
function nT(r) {
  return JR[r];
}
function Eo(r) {
  return {
    fieldPath: r.canonicalString()
  };
}
function iT(r) {
  const e = [];
  return r.fields.forEach((t) => e.push(t.canonicalString())), {
    fieldPaths: e
  };
}
function L2(r) {
  return r.length >= 4 && r.get(0) === "projects" && r.get(2) === "databases";
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Cp(r) {
  return new YR(r, !0);
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class F2 {
  constructor(e, t, n = 1e3, i = 1.5, s = 6e4) {
    this.U = e, this.timerId = t, this.j = n, this.B = i, this.G = s, this.W = 0, this.K = null, this.Y = Date.now(), this.reset();
  }
  reset() {
    this.W = 0;
  }
  H() {
    this.W = this.G;
  }
  J(e) {
    this.cancel();
    const t = Math.floor(this.W + this.X()), n = Math.max(0, Date.now() - this.Y), i = Math.max(0, t - n);
    i > 0 && to("ExponentialBackoff", `Backing off for ${i} ms (base delay: ${this.W} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`), this.K = this.U.enqueueAfterDelay(this.timerId, i, () => (this.Y = Date.now(), e())), this.W *= this.B, this.W < this.j && (this.W = this.j), this.W > this.G && (this.W = this.G);
  }
  Z() {
    this.K !== null && (this.K.skipDelay(), this.K = null);
  }
  cancel() {
    this.K !== null && (this.K.cancel(), this.K = null);
  }
  X() {
    return (Math.random() - 0.5) * this.W;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class sT extends class {
} {
  constructor(e, t, n, i) {
    super(), this.authCredentials = e, this.appCheckCredentials = t, this.connection = n, this.L = i, this.tt = !1;
  }
  et() {
    if (this.tt)
      throw new J(Ei, "The client has already been terminated.");
  }
  I(e, t, n) {
    return this.et(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([i, s]) => this.connection.I(e, t, n, i, s)).catch((i) => {
      throw i.name === "FirebaseError" ? (i.code === ju && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), i) : new J(jo, i.toString());
    });
  }
  P(e, t, n, i) {
    return this.et(), Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()]).then(([s, o]) => this.connection.P(e, t, n, s, o, i)).catch((s) => {
      throw s.name === "FirebaseError" ? (s.code === ju && (this.authCredentials.invalidateToken(), this.appCheckCredentials.invalidateToken()), s) : new J(jo, s.toString());
    });
  }
  terminate() {
    this.tt = !0;
  }
}
async function _a(r, e) {
  const t = Ea(r), n = B2(t.L) + "/documents", i = {
    writes: e.map((s) => tT(t.L, s))
  };
  await t.I("Commit", n, i);
}
async function U2(r, e) {
  const t = Ea(r), n = B2(t.L) + "/documents", i = {
    documents: e.map((c) => Ju(t.L, c))
  }, s = await t.P("BatchGetDocuments", n, i, e.length), o = /* @__PURE__ */ new Map();
  s.forEach((c) => {
    const l = eT(t.L, c);
    o.set(l.key.toString(), l);
  });
  const a = [];
  return e.forEach((c) => {
    const l = o.get(c.toString());
    hr(!!l), a.push(l);
  }), a;
}
async function oT(r, e) {
  const t = Ea(r), n = $2(t.L, Qu(e));
  return (await t.P("RunQuery", n.parent, {
    structuredQuery: n.structuredQuery
  })).filter((i) => !!i.document).map((i) => function(s, o, a) {
    const c = $d(s, o.name), l = Bd(o.updateTime), f = new Vr({
      mapValue: {
        fields: o.fields
      }
    }), p = Dn.newFoundDocument(c, l, f);
    return a && p.setHasCommittedMutations(), a ? p.setHasCommittedMutations() : p;
  }(t.L, i.document, void 0));
}
async function aT(r, e) {
  const t = Ea(r), n = function(s, o) {
    const a = $2(s, o);
    return {
      structuredAggregationQuery: {
        aggregations: [{
          count: {},
          alias: "count_alias"
        }],
        structuredQuery: a.structuredQuery
      },
      parent: a.parent
    };
  }(t.L, Qu(e)), i = n.parent;
  return t.connection.v || delete n.parent, (await t.P("RunAggregationQuery", i, n, 1)).filter((s) => !!s.result).map((s) => s.result.aggregateFields);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const sc = /* @__PURE__ */ new Map();
function Di(r) {
  if (r._terminated)
    throw new J(Ei, "The client has already been terminated.");
  if (!sc.has(r)) {
    to("ComponentProvider", "Initializing Datastore");
    const s = function(c) {
      return new DR(c, fetch.bind(null));
    }((e = r._databaseId, t = r.app.options.appId || "", n = r._persistenceKey, i = r._freezeSettings(), new MR(e, t, n, i.host, i.ssl, i.experimentalForceLongPolling, i.experimentalAutoDetectLongPolling, i.useFetchStreams))), o = Cp(r._databaseId), a = function(c, l, f, p) {
      return new sT(c, l, f, p);
    }(r._authCredentials, r._appCheckCredentials, s, o);
    sc.set(r, a);
  }
  var e, t, n, i;
  /**
  * @license
  * Copyright 2018 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
  return sc.get(r);
}
class s1 {
  constructor(e) {
    var t;
    if (e.host === void 0) {
      if (e.ssl !== void 0)
        throw new J(ie, "Can't provide ssl option if host option is not set");
      this.host = "firestore.googleapis.com", this.ssl = !0;
    } else
      this.host = e.host, this.ssl = (t = e.ssl) === null || t === void 0 || t;
    if (this.credentials = e.credentials, this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties, e.cacheSizeBytes === void 0)
      this.cacheSizeBytes = 41943040;
    else {
      if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < 1048576)
        throw new J(ie, "cacheSizeBytes must be at least 1048576");
      this.cacheSizeBytes = e.cacheSizeBytes;
    }
    this.experimentalForceLongPolling = !!e.experimentalForceLongPolling, this.experimentalAutoDetectLongPolling = !!e.experimentalAutoDetectLongPolling, this.useFetchStreams = !!e.useFetchStreams, function(n, i, s, o) {
      if (i === !0 && o === !0)
        throw new J(ie, `${n} and ${s} cannot be used together.`);
    }("experimentalForceLongPolling", e.experimentalForceLongPolling, "experimentalAutoDetectLongPolling", e.experimentalAutoDetectLongPolling);
  }
  isEqual(e) {
    return this.host === e.host && this.ssl === e.ssl && this.credentials === e.credentials && this.cacheSizeBytes === e.cacheSizeBytes && this.experimentalForceLongPolling === e.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === e.experimentalAutoDetectLongPolling && this.ignoreUndefinedProperties === e.ignoreUndefinedProperties && this.useFetchStreams === e.useFetchStreams;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bi {
  constructor(e, t, n, i) {
    this._authCredentials = e, this._appCheckCredentials = t, this._databaseId = n, this._app = i, this.type = "firestore-lite", this._persistenceKey = "(lite)", this._settings = new s1({}), this._settingsFrozen = !1;
  }
  get app() {
    if (!this._app)
      throw new J(Ei, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
    return this._app;
  }
  get _initialized() {
    return this._settingsFrozen;
  }
  get _terminated() {
    return this._terminateTask !== void 0;
  }
  _setSettings(e) {
    if (this._settingsFrozen)
      throw new J(Ei, "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");
    this._settings = new s1(e), e.credentials !== void 0 && (this._authCredentials = function(t) {
      if (!t)
        return new ER();
      switch (t.type) {
        case "gapi":
          const n = t.client;
          return new RR(n, t.sessionIndex || "0", t.iamToken || null, t.authTokenFactory || null);
        case "provider":
          return t.client;
        default:
          throw new J(ie, "makeAuthCredentialsProvider failed due to invalid credential type");
      }
    }(e.credentials));
  }
  _getSettings() {
    return this._settings;
  }
  _freezeSettings() {
    return this._settingsFrozen = !0, this._settings;
  }
  _delete() {
    return this._terminateTask || (this._terminateTask = this._terminate()), this._terminateTask;
  }
  toJSON() {
    return {
      app: this._app,
      databaseId: this._databaseId,
      settings: this._settings
    };
  }
  _terminate() {
    return function(e) {
      const t = sc.get(e);
      t && (to("ComponentProvider", "Removing Datastore"), sc.delete(e), t.terminate());
    }(this), Promise.resolve();
  }
}
function uM(r, e, t) {
  t || (t = "(default)");
  const n = up(r, "firestore/lite");
  if (n.isInitialized(t))
    throw new J(Ei, "Firestore can only be initialized once per app.");
  return n.initialize({
    options: e,
    instanceIdentifier: t
  });
}
function hM(r, e) {
  const t = typeof r == "object" ? r : dR(), n = typeof r == "string" ? r : e || "(default)", i = up(t, "firestore/lite").getImmediate({
    identifier: n
  });
  if (!i._initialized) {
    const s = ck("firestore");
    s && cT(i, ...s);
  }
  return i;
}
function cT(r, e, t, n = {}) {
  var i;
  const s = (r = hn(r, Bi))._getSettings();
  if (s.host !== "firestore.googleapis.com" && s.host !== e && g2("Host has been set in both settings() and useEmulator(), emulator host will be used"), r._setSettings(Object.assign(Object.assign({}, s), {
    host: `${e}:${t}`,
    ssl: !1
  })), n.mockUserToken) {
    let o, a;
    if (typeof n.mockUserToken == "string")
      o = n.mockUserToken, a = Sr.MOCK_USER;
    else {
      o = hk(n.mockUserToken, (i = r._app) === null || i === void 0 ? void 0 : i.options.projectId);
      const c = n.mockUserToken.sub || n.mockUserToken.user_id;
      if (!c)
        throw new J(ie, "mockUserToken must contain 'sub' or 'user_id' field!");
      a = new Sr(c);
    }
    r._authCredentials = new _R(new A2(o, a));
  }
}
function fM(r) {
  return r = hn(r, Bi), lR(r.app, "firestore/lite"), r._delete();
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dM {
  constructor() {
    this.type = "AggregateField";
  }
}
class lT {
  constructor(e, t) {
    this._data = t, this.type = "AggregateQuerySnapshot", this.query = e;
  }
  data() {
    return this._data;
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uT {
  constructor(e, t, n) {
    this.query = e, this.datastore = t, this.userDataWriter = n;
  }
  run() {
    return aT(this.datastore, this.query._query).then((e) => {
      hr(e[0] !== void 0);
      const t = Object.entries(e[0]).filter(([n, i]) => n === "count_alias").map(([n, i]) => this.userDataWriter.convertValue(i))[0];
      return hr(typeof t == "number"), Promise.resolve(new lT(this.query, {
        count: t
      }));
    });
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ht {
  constructor(e, t, n) {
    this.converter = t, this._key = n, this.type = "document", this.firestore = e;
  }
  get _path() {
    return this._key.path;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get path() {
    return this._key.path.canonicalString();
  }
  get parent() {
    return new Cn(this.firestore, this.converter, this._key.path.popLast());
  }
  withConverter(e) {
    return new Ht(this.firestore, e, this._key);
  }
}
class an {
  constructor(e, t, n) {
    this.converter = t, this._query = n, this.type = "query", this.firestore = e;
  }
  withConverter(e) {
    return new an(this.firestore, e, this._query);
  }
}
class Cn extends an {
  constructor(e, t, n) {
    super(e, t, new mo(n)), this._path = n, this.type = "collection";
  }
  get id() {
    return this._query.path.lastSegment();
  }
  get path() {
    return this._query.path.canonicalString();
  }
  get parent() {
    const e = this._path.popLast();
    return e.isEmpty() ? null : new Ht(
      this.firestore,
      null,
      new Nt(e)
    );
  }
  withConverter(e) {
    return new Cn(this.firestore, e, this._path);
  }
}
function o1(r, e, ...t) {
  if (r = Ft(r), bp("collection", "path", e), r instanceof Bi) {
    const n = kt.fromString(e, ...t);
    return zx(n), new Cn(r, null, n);
  }
  {
    if (!(r instanceof Ht || r instanceof Cn))
      throw new J(ie, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");
    const n = r._path.child(kt.fromString(e, ...t));
    return zx(n), new Cn(
      r.firestore,
      null,
      n
    );
  }
}
function pM(r, e) {
  if (r = hn(r, Bi), bp("collectionGroup", "collection id", e), e.indexOf("/") >= 0)
    throw new J(ie, `Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);
  return new an(
    r,
    null,
    function(t) {
      return new mo(kt.emptyPath(), t);
    }(e)
  );
}
function Xl(r, e, ...t) {
  if (r = Ft(r), arguments.length === 1 && (e = $R.D()), bp("doc", "path", e), r instanceof Bi) {
    const n = kt.fromString(e, ...t);
    return Kx(n), new Ht(
      r,
      null,
      new Nt(n)
    );
  }
  {
    if (!(r instanceof Ht || r instanceof Cn))
      throw new J(ie, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");
    const n = r._path.child(kt.fromString(e, ...t));
    return Kx(n), new Ht(r.firestore, r instanceof Cn ? r.converter : null, new Nt(n));
  }
}
function gM(r, e) {
  return r = Ft(r), e = Ft(e), (r instanceof Ht || r instanceof Cn) && (e instanceof Ht || e instanceof Cn) && r.firestore === e.firestore && r.path === e.path && r.converter === e.converter;
}
function V2(r, e) {
  return r = Ft(r), e = Ft(e), r instanceof an && e instanceof an && r.firestore === e.firestore && qR(r._query, e._query) && r.converter === e.converter;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class na {
  constructor(e) {
    this._byteString = e;
  }
  static fromBase64String(e) {
    try {
      return new na(_i.fromBase64String(e));
    } catch (t) {
      throw new J(ie, "Failed to construct data from Base64 string: " + t);
    }
  }
  static fromUint8Array(e) {
    return new na(_i.fromUint8Array(e));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return "Bytes(base64: " + this.toBase64() + ")";
  }
  isEqual(e) {
    return this._byteString.isEqual(e._byteString);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bo {
  constructor(...e) {
    for (let t = 0; t < e.length; ++t)
      if (e[t].length === 0)
        throw new J(ie, "Invalid field name at argument $(i + 1). Field names must not be empty.");
    this._internalPath = new Ur(e);
  }
  isEqual(e) {
    return this._internalPath.isEqual(e._internalPath);
  }
}
function mM() {
  return new bo("__name__");
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xo {
  constructor(e) {
    this._methodName = e;
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ep {
  constructor(e, t) {
    if (!isFinite(e) || e < -90 || e > 90)
      throw new J(ie, "Latitude must be a number between -90 and 90, but was: " + e);
    if (!isFinite(t) || t < -180 || t > 180)
      throw new J(ie, "Longitude must be a number between -180 and 180, but was: " + t);
    this._lat = e, this._long = t;
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(e) {
    return this._lat === e._lat && this._long === e._long;
  }
  toJSON() {
    return {
      latitude: this._lat,
      longitude: this._long
    };
  }
  _compareTo(e) {
    return Vt(this._lat, e._lat) || Vt(this._long, e._long);
  }
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hT = /^__.*__$/;
class fT {
  constructor(e, t, n) {
    this.data = e, this.fieldMask = t, this.fieldTransforms = n;
  }
  toMutation(e, t) {
    return this.fieldMask !== null ? new Ap(e, this.data, this.fieldMask, t, this.fieldTransforms) : new N2(e, this.data, t, this.fieldTransforms);
  }
}
class j2 {
  constructor(e, t, n) {
    this.data = e, this.fieldMask = t, this.fieldTransforms = n;
  }
  toMutation(e, t) {
    return new Ap(e, this.data, this.fieldMask, t, this.fieldTransforms);
  }
}
function W2(r) {
  switch (r) {
    case 0:
    case 2:
    case 1:
      return !0;
    case 3:
    case 4:
      return !1;
    default:
      throw Ne();
  }
}
class Ph {
  constructor(e, t, n, i, s, o) {
    this.settings = e, this.databaseId = t, this.L = n, this.ignoreUndefinedProperties = i, s === void 0 && this.nt(), this.fieldTransforms = s || [], this.fieldMask = o || [];
  }
  get path() {
    return this.settings.path;
  }
  get rt() {
    return this.settings.rt;
  }
  st(e) {
    return new Ph(Object.assign(Object.assign({}, this.settings), e), this.databaseId, this.L, this.ignoreUndefinedProperties, this.fieldTransforms, this.fieldMask);
  }
  it(e) {
    var t;
    const n = (t = this.path) === null || t === void 0 ? void 0 : t.child(e), i = this.st({
      path: n,
      ot: !1
    });
    return i.ut(e), i;
  }
  ct(e) {
    var t;
    const n = (t = this.path) === null || t === void 0 ? void 0 : t.child(e), i = this.st({
      path: n,
      ot: !1
    });
    return i.nt(), i;
  }
  at(e) {
    return this.st({
      path: void 0,
      ot: !0
    });
  }
  ht(e) {
    return Yu(e, this.settings.methodName, this.settings.lt || !1, this.path, this.settings.ft);
  }
  contains(e) {
    return this.fieldMask.find((t) => e.isPrefixOf(t)) !== void 0 || this.fieldTransforms.find((t) => e.isPrefixOf(t.field)) !== void 0;
  }
  nt() {
    if (this.path)
      for (let e = 0; e < this.path.length; e++)
        this.ut(this.path.get(e));
  }
  ut(e) {
    if (e.length === 0)
      throw this.ht("Document fields must not be empty");
    if (W2(this.rt) && hT.test(e))
      throw this.ht('Document fields cannot begin and end with "__"');
  }
}
class dT {
  constructor(e, t, n) {
    this.databaseId = e, this.ignoreUndefinedProperties = t, this.L = n || Cp(e);
  }
  dt(e, t, n, i = !1) {
    return new Ph({
      rt: e,
      methodName: t,
      ft: n,
      path: Ur.emptyPath(),
      ot: !1,
      lt: i
    }, this.databaseId, this.L, this.ignoreUndefinedProperties);
  }
}
function vo(r) {
  const e = r._freezeSettings(), t = Cp(r._databaseId);
  return new dT(r._databaseId, !!e.ignoreUndefinedProperties, t);
}
function kh(r, e, t, n, i, s = {}) {
  const o = r.dt(s.merge || s.mergeFields ? 2 : 0, e, t, i);
  Rp("Data must be an object, but it was:", o, n);
  const a = K2(n, o);
  let c, l;
  if (s.merge)
    c = new ro(o.fieldMask), l = o.fieldTransforms;
  else if (s.mergeFields) {
    const f = [];
    for (const p of s.mergeFields) {
      const b = Ld(e, p, t);
      if (!o.contains(b))
        throw new J(ie, `Field '${b}' is specified in your field mask but missing from your input data.`);
      q2(f, b) || f.push(b);
    }
    c = new ro(f), l = o.fieldTransforms.filter((p) => c.covers(p.field));
  } else
    c = null, l = o.fieldTransforms;
  return new fT(new Vr(a), c, l);
}
class al extends xo {
  _toFieldTransform(e) {
    if (e.rt !== 2)
      throw e.rt === 1 ? e.ht(`${this._methodName}() can only appear at the top level of your update data`) : e.ht(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);
    return e.fieldMask.push(e.path), null;
  }
  isEqual(e) {
    return e instanceof al;
  }
}
function H2(r, e, t) {
  return new Ph({
    rt: 3,
    ft: e.settings.ft,
    methodName: r._methodName,
    ot: t
  }, e.databaseId, e.L, e.ignoreUndefinedProperties);
}
class _p extends xo {
  _toFieldTransform(e) {
    return new Ch(e.path, new T2());
  }
  isEqual(e) {
    return e instanceof _p;
  }
}
class pT extends xo {
  constructor(e, t) {
    super(e), this.wt = t;
  }
  _toFieldTransform(e) {
    const t = H2(
      this,
      e,
      !0
    ), n = this.wt.map((s) => yo(s, t)), i = new I2(n);
    return new Ch(e.path, i);
  }
  isEqual(e) {
    return this === e;
  }
}
class gT extends xo {
  constructor(e, t) {
    super(e), this.wt = t;
  }
  _toFieldTransform(e) {
    const t = H2(
      this,
      e,
      !0
    ), n = this.wt.map((s) => yo(s, t)), i = new M2(n);
    return new Ch(e.path, i);
  }
  isEqual(e) {
    return this === e;
  }
}
class mT extends xo {
  constructor(e, t) {
    super(e), this.yt = t;
  }
  _toFieldTransform(e) {
    const t = new O2(e.L, R2(e.L, this.yt));
    return new Ch(e.path, t);
  }
  isEqual(e) {
    return this === e;
  }
}
function Pp(r, e, t, n) {
  const i = r.dt(1, e, t);
  Rp("Data must be an object, but it was:", i, n);
  const s = [], o = Vr.empty();
  ol(n, (c, l) => {
    const f = Tp(e, c, t);
    l = Ft(l);
    const p = i.ct(f);
    if (l instanceof al)
      s.push(f);
    else {
      const b = yo(l, p);
      b != null && (s.push(f), o.set(f, b));
    }
  });
  const a = new ro(s);
  return new j2(o, a, i.fieldTransforms);
}
function kp(r, e, t, n, i, s) {
  const o = r.dt(1, e, t), a = [Ld(e, n, t)], c = [i];
  if (s.length % 2 != 0)
    throw new J(ie, `Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);
  for (let b = 0; b < s.length; b += 2)
    a.push(Ld(e, s[b])), c.push(s[b + 1]);
  const l = [], f = Vr.empty();
  for (let b = a.length - 1; b >= 0; --b)
    if (!q2(l, a[b])) {
      const w = a[b];
      let A = c[b];
      A = Ft(A);
      const C = o.ct(w);
      if (A instanceof al)
        l.push(w);
      else {
        const S = yo(A, C);
        S != null && (l.push(w), f.set(w, S));
      }
    }
  const p = new ro(l);
  return new j2(f, p, o.fieldTransforms);
}
function G2(r, e, t, n = !1) {
  return yo(t, r.dt(n ? 4 : 3, e));
}
function yo(r, e) {
  if (z2(
    r = Ft(r)
  ))
    return Rp("Unsupported field value:", e, r), K2(r, e);
  if (r instanceof xo)
    return function(t, n) {
      if (!W2(n.rt))
        throw n.ht(`${t._methodName}() can only be used with update() and set()`);
      if (!n.path)
        throw n.ht(`${t._methodName}() is not currently supported inside arrays`);
      const i = t._toFieldTransform(n);
      i && n.fieldTransforms.push(i);
    }(r, e), null;
  if (r === void 0 && e.ignoreUndefinedProperties)
    return null;
  if (e.path && e.fieldMask.push(e.path), r instanceof Array) {
    if (e.settings.ot && e.rt !== 4)
      throw e.ht("Nested arrays are not supported");
    return function(t, n) {
      const i = [];
      let s = 0;
      for (const o of t) {
        let a = yo(o, n.at(s));
        a == null && (a = {
          nullValue: "NULL_VALUE"
        }), i.push(a), s++;
      }
      return {
        arrayValue: {
          values: i
        }
      };
    }(r, e);
  }
  return function(t, n) {
    if ((t = Ft(t)) === null)
      return {
        nullValue: "NULL_VALUE"
      };
    if (typeof t == "number")
      return R2(n.L, t);
    if (typeof t == "boolean")
      return {
        booleanValue: t
      };
    if (typeof t == "string")
      return {
        stringValue: t
      };
    if (t instanceof Date) {
      const i = Wr.fromDate(t);
      return {
        timestampValue: Dd(n.L, i)
      };
    }
    if (t instanceof Wr) {
      const i = new Wr(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3));
      return {
        timestampValue: Dd(n.L, i)
      };
    }
    if (t instanceof Ep)
      return {
        geoPointValue: {
          latitude: t.latitude,
          longitude: t.longitude
        }
      };
    if (t instanceof na)
      return {
        bytesValue: XR(n.L, t._byteString)
      };
    if (t instanceof Ht) {
      const i = n.databaseId, s = t.firestore._databaseId;
      if (!s.isEqual(i))
        throw n.ht(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);
      return {
        referenceValue: Sp(t.firestore._databaseId || n.databaseId, t._key.path)
      };
    }
    throw n.ht(`Unsupported field value: ${Ah(t)}`);
  }(r, e);
}
function K2(r, e) {
  const t = {};
  return function(n) {
    for (const i in n)
      if (Object.prototype.hasOwnProperty.call(n, i))
        return !1;
    return !0;
  }(r) ? e.path && e.path.length > 0 && e.fieldMask.push(e.path) : ol(r, (n, i) => {
    const s = yo(i, e.it(n));
    s != null && (t[n] = s);
  }), {
    mapValue: {
      fields: t
    }
  };
}
function z2(r) {
  return !(typeof r != "object" || r === null || r instanceof Array || r instanceof Date || r instanceof Wr || r instanceof Ep || r instanceof na || r instanceof Ht || r instanceof xo);
}
function Rp(r, e, t) {
  if (!z2(t) || !function(n) {
    return typeof n == "object" && n !== null && (Object.getPrototypeOf(n) === Object.prototype || Object.getPrototypeOf(n) === null);
  }(t)) {
    const n = Ah(t);
    throw n === "an object" ? e.ht(r + " a custom object") : e.ht(r + " " + n);
  }
}
function Ld(r, e, t) {
  if ((e = Ft(e)) instanceof bo)
    return e._internalPath;
  if (typeof e == "string")
    return Tp(r, e);
  throw Yu(
    "Field path arguments must be of type string or ",
    r,
    !1,
    void 0,
    t
  );
}
const bT = new RegExp("[~\\*/\\[\\]]");
function Tp(r, e, t) {
  if (e.search(bT) >= 0)
    throw Yu(
      `Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,
      r,
      !1,
      void 0,
      t
    );
  try {
    return new bo(...e.split("."))._internalPath;
  } catch {
    throw Yu(
      `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
      r,
      !1,
      void 0,
      t
    );
  }
}
function Yu(r, e, t, n, i) {
  const s = n && !n.isEmpty(), o = i !== void 0;
  let a = `Function ${e}() called with invalid data`;
  t && (a += " (via `toFirestore()`)"), a += ". ";
  let c = "";
  return (s || o) && (c += " (found", s && (c += ` in field ${n}`), o && (c += ` in document ${i}`), c += ")"), new J(ie, a + r + c);
}
function q2(r, e) {
  return r.some((t) => t.isEqual(e));
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class so {
  constructor(e, t, n, i, s) {
    this._firestore = e, this._userDataWriter = t, this._key = n, this._document = i, this._converter = s;
  }
  get id() {
    return this._key.path.lastSegment();
  }
  get ref() {
    return new Ht(this._firestore, this._converter, this._key);
  }
  exists() {
    return this._document !== null;
  }
  data() {
    if (this._document) {
      if (this._converter) {
        const e = new Q2(
          this._firestore,
          this._userDataWriter,
          this._key,
          this._document,
          null
        );
        return this._converter.fromFirestore(e);
      }
      return this._userDataWriter.convertValue(this._document.data.value);
    }
  }
  get(e) {
    if (this._document) {
      const t = this._document.data.field(Ip("DocumentSnapshot.get", e));
      if (t !== null)
        return this._userDataWriter.convertValue(t);
    }
  }
}
class Q2 extends so {
  data() {
    return super.data();
  }
}
class Fd {
  constructor(e, t) {
    this._docs = t, this.query = e;
  }
  get docs() {
    return [...this._docs];
  }
  get size() {
    return this.docs.length;
  }
  get empty() {
    return this.docs.length === 0;
  }
  forEach(e, t) {
    this._docs.forEach(e, t);
  }
}
function xT(r, e) {
  return r = Ft(r), e = Ft(e), r instanceof so && e instanceof so ? r._firestore === e._firestore && r._key.isEqual(e._key) && (r._document === null ? e._document === null : r._document.isEqual(e._document)) && r._converter === e._converter : r instanceof Fd && e instanceof Fd && V2(r.query, e.query) && xp(r.docs, e.docs, xT);
}
function Ip(r, e) {
  return typeof e == "string" ? Tp(r, e) : e instanceof bo ? e._internalPath : e._delegate._internalPath;
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cl {
}
function vT(r, ...e) {
  for (const t of e)
    r = t._apply(r);
  return r;
}
class yT extends cl {
  constructor(e, t, n) {
    super(), this._t = e, this.gt = t, this.vt = n, this.type = "where";
  }
  _apply(e) {
    const t = vo(e.firestore), n = function(i, s, o, a, c, l, f) {
      let p;
      if (c.isKeyField()) {
        if (l === "array-contains" || l === "array-contains-any")
          throw new J(ie, `Invalid Query. You can't perform '${l}' queries on documentId().`);
        if (l === "in" || l === "not-in") {
          c1(f, l);
          const w = [];
          for (const A of f)
            w.push(a1(a, i, A));
          p = {
            arrayValue: {
              values: w
            }
          };
        } else
          p = a1(a, i, f);
      } else
        l !== "in" && l !== "not-in" && l !== "array-contains-any" || c1(f, l), p = G2(
          o,
          s,
          f,
          l === "in" || l === "not-in"
        );
      const b = Zn.create(c, l, p);
      return function(w, A) {
        if (A.q()) {
          const S = wp(w);
          if (S !== null && !S.isEqual(A.field))
            throw new J(ie, `Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${S.toString()}' and '${A.field.toString()}'`);
          const k = yp(w);
          k !== null && e3(w, A.field, k);
        }
        const C = function(S, k) {
          for (const O of S.filters)
            if (k.indexOf(O.op) >= 0)
              return O.op;
          return null;
        }(
          w,
          function(S) {
            switch (S) {
              case "!=":
                return ["!=", "not-in"];
              case "array-contains":
                return ["array-contains", "array-contains-any", "not-in"];
              case "in":
                return ["array-contains-any", "in", "not-in"];
              case "array-contains-any":
                return ["array-contains", "array-contains-any", "in", "not-in"];
              case "not-in":
                return ["array-contains", "array-contains-any", "in", "not-in", "!="];
              default:
                return [];
            }
          }(A.op)
        );
        if (C !== null)
          throw C === A.op ? new J(ie, `Invalid query. You cannot use more than one '${A.op.toString()}' filter.`) : new J(ie, `Invalid query. You cannot use '${A.op.toString()}' filters with '${C.toString()}' filters.`);
      }(i, b), b;
    }(e._query, "where", t, e.firestore._databaseId, this._t, this.gt, this.vt);
    return new an(e.firestore, e.converter, function(i, s) {
      const o = i.filters.concat([s]);
      return new mo(i.path, i.collectionGroup, i.explicitOrderBy.slice(), o, i.limit, i.limitType, i.startAt, i.endAt);
    }(e._query, n));
  }
}
function wT(r, e, t) {
  const n = e, i = Ip("where", r);
  return new yT(i, n, t);
}
class AT extends cl {
  constructor(e, t) {
    super(), this._t = e, this.bt = t, this.type = "orderBy";
  }
  _apply(e) {
    const t = function(n, i, s) {
      if (n.startAt !== null)
        throw new J(ie, "Invalid query. You must not call startAt() or startAfter() before calling orderBy().");
      if (n.endAt !== null)
        throw new J(ie, "Invalid query. You must not call endAt() or endBefore() before calling orderBy().");
      const o = new ic(i, s);
      return function(a, c) {
        if (yp(a) === null) {
          const l = wp(a);
          l !== null && e3(a, l, c.field);
        }
      }(n, o), o;
    }(e._query, this._t, this.bt);
    return new an(e.firestore, e.converter, function(n, i) {
      const s = n.explicitOrderBy.concat([i]);
      return new mo(n.path, n.collectionGroup, s, n.filters.slice(), n.limit, n.limitType, n.startAt, n.endAt);
    }(e._query, t));
  }
}
function bM(r, e = "asc") {
  const t = e, n = Ip("orderBy", r);
  return new AT(n, t);
}
class J2 extends cl {
  constructor(e, t, n) {
    super(), this.type = e, this.Et = t, this.It = n;
  }
  _apply(e) {
    return new an(e.firestore, e.converter, function(t, n, i) {
      return new mo(t.path, t.collectionGroup, t.explicitOrderBy.slice(), t.filters.slice(), n, i, t.startAt, t.endAt);
    }(e._query, this.Et, this.It));
  }
}
function xM(r) {
  return S2("limit", r), new J2("limit", r, "F");
}
function vM(r) {
  return S2("limitToLast", r), new J2("limitToLast", r, "L");
}
class Y2 extends cl {
  constructor(e, t, n) {
    super(), this.type = e, this.Tt = t, this.At = n;
  }
  _apply(e) {
    const t = Z2(e, this.type, this.Tt, this.At);
    return new an(e.firestore, e.converter, function(n, i) {
      return new mo(n.path, n.collectionGroup, n.explicitOrderBy.slice(), n.filters.slice(), n.limit, n.limitType, i, n.endAt);
    }(e._query, t));
  }
}
function yM(...r) {
  return new Y2(
    "startAt",
    r,
    !0
  );
}
function wM(...r) {
  return new Y2(
    "startAfter",
    r,
    !1
  );
}
class X2 extends cl {
  constructor(e, t, n) {
    super(), this.type = e, this.Tt = t, this.At = n;
  }
  _apply(e) {
    const t = Z2(e, this.type, this.Tt, this.At);
    return new an(e.firestore, e.converter, function(n, i) {
      return new mo(n.path, n.collectionGroup, n.explicitOrderBy.slice(), n.filters.slice(), n.limit, n.limitType, n.startAt, i);
    }(e._query, t));
  }
}
function AM(...r) {
  return new X2(
    "endBefore",
    r,
    !1
  );
}
function SM(...r) {
  return new X2("endAt", r, !0);
}
function Z2(r, e, t, n) {
  if (t[0] = Ft(t[0]), t[0] instanceof so)
    return function(i, s, o, a, c) {
      if (!a)
        throw new J(dp, `Can't use a DocumentSnapshot that doesn't exist for ${o}().`);
      const l = [];
      for (const f of Nd(i))
        if (f.field.isKeyField())
          l.push(zu(s, a.key));
        else {
          const p = a.data.field(f.field);
          if (vp(p))
            throw new J(ie, 'Invalid query. You are trying to start or end a query using a document for which the field "' + f.field + '" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
          if (p === null) {
            const b = f.field.canonicalString();
            throw new J(ie, `Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`);
          }
          l.push(p);
        }
      return new qu(l, c);
    }(r._query, r.firestore._databaseId, e, t[0]._document, n);
  {
    const i = vo(r.firestore);
    return function(s, o, a, c, l, f) {
      const p = s.explicitOrderBy;
      if (l.length > p.length)
        throw new J(ie, `Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);
      const b = [];
      for (let w = 0; w < l.length; w++) {
        const A = l[w];
        if (p[w].field.isKeyField()) {
          if (typeof A != "string")
            throw new J(ie, `Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);
          if (!k2(s) && A.indexOf("/") !== -1)
            throw new J(ie, `Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);
          const C = s.path.child(kt.fromString(A));
          if (!Nt.isDocumentKey(C))
            throw new J(ie, `Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);
          const S = new Nt(C);
          b.push(zu(o, S));
        } else {
          const C = G2(a, c, A);
          b.push(C);
        }
      }
      return new qu(b, f);
    }(r._query, r.firestore._databaseId, i, e, t, n);
  }
}
function a1(r, e, t) {
  if (typeof (t = Ft(t)) == "string") {
    if (t === "")
      throw new J(ie, "Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");
    if (!k2(e) && t.indexOf("/") !== -1)
      throw new J(ie, `Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);
    const n = e.path.child(kt.fromString(t));
    if (!Nt.isDocumentKey(n))
      throw new J(ie, `Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);
    return zu(r, new Nt(n));
  }
  if (t instanceof Ht)
    return zu(r, t._key);
  throw new J(ie, `Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`);
}
function c1(r, e) {
  if (!Array.isArray(r) || r.length === 0)
    throw new J(ie, `Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);
  if (r.length > 10)
    throw new J(ie, `Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`);
}
function e3(r, e, t) {
  if (!t.isEqual(e))
    throw new J(ie, `Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rh(r, e, t) {
  let n;
  return n = r ? t && (t.merge || t.mergeFields) ? r.toFirestore(e, t) : r.toFirestore(e) : e, n;
}
class Th extends class {
  convertValue(e, t = "none") {
    switch (io(e)) {
      case 0:
        return null;
      case 1:
        return e.booleanValue;
      case 2:
        return Bt(e.integerValue || e.doubleValue);
      case 3:
        return this.convertTimestamp(e.timestampValue);
      case 4:
        return this.convertServerTimestamp(e, t);
      case 5:
        return e.stringValue;
      case 6:
        return this.convertBytes(Mc(e.bytesValue));
      case 7:
        return this.convertReference(e.referenceValue);
      case 8:
        return this.convertGeoPoint(e.geoPointValue);
      case 9:
        return this.convertArray(e.arrayValue, t);
      case 10:
        return this.convertObject(e.mapValue, t);
      default:
        throw Ne();
    }
  }
  convertObject(e, t) {
    const n = {};
    return ol(e.fields, (i, s) => {
      n[i] = this.convertValue(s, t);
    }), n;
  }
  convertGeoPoint(e) {
    return new Ep(Bt(e.latitude), Bt(e.longitude));
  }
  convertArray(e, t) {
    return (e.values || []).map((n) => this.convertValue(n, t));
  }
  convertServerTimestamp(e, t) {
    switch (t) {
      case "previous":
        const n = E2(e);
        return n == null ? null : this.convertValue(n, t);
      case "estimate":
        return this.convertTimestamp(Oc(e));
      default:
        return null;
    }
  }
  convertTimestamp(e) {
    const t = no(e);
    return new Wr(t.seconds, t.nanos);
  }
  convertDocumentKey(e, t) {
    const n = kt.fromString(e);
    hr(L2(n));
    const i = new Tc(n.get(1), n.get(3)), s = new Nt(n.popFirst(5));
    return i.isEqual(t) || wh(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`), s;
  }
} {
  constructor(e) {
    super(), this.firestore = e;
  }
  convertBytes(e) {
    return new na(e);
  }
  convertReference(e) {
    const t = this.convertDocumentKey(e, this.firestore._databaseId);
    return new Ht(this.firestore, null, t);
  }
}
function CM(r) {
  const e = Di((r = hn(r, Ht)).firestore), t = new Th(r.firestore);
  return U2(e, [r._key]).then((n) => {
    hr(n.length === 1);
    const i = n[0];
    return new so(r.firestore, t, r._key, i.isFoundDocument() ? i : null, r.converter);
  });
}
function l1(r) {
  (function(n) {
    if (n.limitType === "L" && n.explicitOrderBy.length === 0)
      throw new J(gp, "limitToLast() queries require specifying at least one orderBy() clause");
  })((r = hn(r, an))._query);
  const e = Di(r.firestore), t = new Th(r.firestore);
  return oT(e, r._query).then((n) => {
    const i = n.map((s) => new Q2(r.firestore, t, s.key, s, r.converter));
    return r._query.limitType === "L" && i.reverse(), new Fd(r, i);
  });
}
function u1(r, e, t) {
  const n = Rh((r = hn(r, Ht)).converter, e, t), i = kh(vo(r.firestore), "setDoc", r._key, n, r.converter !== null, t);
  return _a(Di(r.firestore), [i.toMutation(r._key, cr.none())]);
}
function EM(r, e, t, ...n) {
  const i = vo((r = hn(r, Ht)).firestore);
  let s;
  return s = typeof (e = Ft(e)) == "string" || e instanceof bo ? kp(i, "updateDoc", r._key, e, t, n) : Pp(i, "updateDoc", r._key, e), _a(Di(r.firestore), [s.toMutation(r._key, cr.exists(!0))]);
}
function ST(r) {
  return _a(Di((r = hn(r, Ht)).firestore), [new _h(r._key, cr.none())]);
}
function _M(r, e) {
  const t = Xl(r = hn(r, Cn)), n = Rh(r.converter, e), i = kh(vo(r.firestore), "addDoc", t._key, n, t.converter !== null, {});
  return _a(Di(r.firestore), [i.toMutation(t._key, cr.exists(!1))]).then(() => t);
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function PM(r) {
  const e = hn(r.firestore, Bi), t = Di(e), n = new Th(e);
  return new uT(r, t, n).run();
}
function kM(r, e) {
  return V2(r.query, e.query) && Lu(r.data(), e.data());
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function RM() {
  return new al("deleteField");
}
function TM() {
  return new _p("serverTimestamp");
}
function IM(...r) {
  return new pT("arrayUnion", r);
}
function MM(...r) {
  return new gT("arrayRemove", r);
}
function OM(r) {
  return new mT("increment", r);
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class CT {
  constructor(e, t) {
    this._firestore = e, this._commitHandler = t, this._mutations = [], this._committed = !1, this._dataReader = vo(e);
  }
  set(e, t, n) {
    this._verifyNotCommitted();
    const i = Vs(e, this._firestore), s = Rh(i.converter, t, n), o = kh(this._dataReader, "WriteBatch.set", i._key, s, i.converter !== null, n);
    return this._mutations.push(o.toMutation(i._key, cr.none())), this;
  }
  update(e, t, n, ...i) {
    this._verifyNotCommitted();
    const s = Vs(e, this._firestore);
    let o;
    return o = typeof (t = Ft(t)) == "string" || t instanceof bo ? kp(this._dataReader, "WriteBatch.update", s._key, t, n, i) : Pp(this._dataReader, "WriteBatch.update", s._key, t), this._mutations.push(o.toMutation(s._key, cr.exists(!0))), this;
  }
  delete(e) {
    this._verifyNotCommitted();
    const t = Vs(e, this._firestore);
    return this._mutations = this._mutations.concat(new _h(t._key, cr.none())), this;
  }
  commit() {
    return this._verifyNotCommitted(), this._committed = !0, this._mutations.length > 0 ? this._commitHandler(this._mutations) : Promise.resolve();
  }
  _verifyNotCommitted() {
    if (this._committed)
      throw new J(Ei, "A write batch can no longer be used after commit() has been called.");
  }
}
function Vs(r, e) {
  if ((r = Ft(r)).firestore !== e)
    throw new J(ie, "Provided document reference is from a different Firestore instance.");
  return r;
}
function ET(r) {
  const e = Di(r = hn(r, Bi));
  return new CT(r, (t) => _a(e, t));
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _T {
  constructor(e) {
    this.datastore = e, this.readVersions = /* @__PURE__ */ new Map(), this.mutations = [], this.committed = !1, this.lastWriteError = null, this.writtenDocs = /* @__PURE__ */ new Set();
  }
  async lookup(e) {
    if (this.ensureCommitNotCalled(), this.mutations.length > 0)
      throw new J(ie, "Firestore transactions require all reads to be executed before all writes.");
    const t = await U2(this.datastore, e);
    return t.forEach((n) => this.recordVersion(n)), t;
  }
  set(e, t) {
    this.write(t.toMutation(e, this.precondition(e))), this.writtenDocs.add(e.toString());
  }
  update(e, t) {
    try {
      this.write(t.toMutation(e, this.preconditionForUpdate(e)));
    } catch (n) {
      this.lastWriteError = n;
    }
    this.writtenDocs.add(e.toString());
  }
  delete(e) {
    this.write(new _h(e, this.precondition(e))), this.writtenDocs.add(e.toString());
  }
  async commit() {
    if (this.ensureCommitNotCalled(), this.lastWriteError)
      throw this.lastWriteError;
    const e = this.readVersions;
    this.mutations.forEach((t) => {
      e.delete(t.key.toString());
    }), e.forEach((t, n) => {
      const i = Nt.fromPath(n);
      this.mutations.push(new D2(i, this.precondition(i)));
    }), await _a(this.datastore, this.mutations), this.committed = !0;
  }
  recordVersion(e) {
    let t;
    if (e.isFoundDocument())
      t = e.version;
    else {
      if (!e.isNoDocument())
        throw Ne();
      t = Cr.min();
    }
    const n = this.readVersions.get(e.key.toString());
    if (n) {
      if (!t.isEqual(n))
        throw new J(pp, "Document version changed between two reads.");
    } else
      this.readVersions.set(e.key.toString(), t);
  }
  precondition(e) {
    const t = this.readVersions.get(e.toString());
    return !this.writtenDocs.has(e.toString()) && t ? t.isEqual(Cr.min()) ? cr.exists(!1) : cr.updateTime(t) : cr.none();
  }
  preconditionForUpdate(e) {
    const t = this.readVersions.get(e.toString());
    if (!this.writtenDocs.has(e.toString()) && t) {
      if (t.isEqual(Cr.min()))
        throw new J(ie, "Can't update a document that doesn't exist.");
      return cr.updateTime(t);
    }
    return cr.exists(!0);
  }
  write(e) {
    this.ensureCommitNotCalled(), this.mutations.push(e);
  }
  ensureCommitNotCalled() {
  }
}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const PT = {
  maxAttempts: 5
};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kT {
  constructor(e, t, n, i, s) {
    this.asyncQueue = e, this.datastore = t, this.options = n, this.updateFunction = i, this.deferred = s, this.Rt = n.maxAttempts, this.Pt = new F2(this.asyncQueue, "transaction_retry");
  }
  run() {
    this.Rt -= 1, this.Vt();
  }
  Vt() {
    this.Pt.J(async () => {
      const e = new _T(this.datastore), t = this.Nt(e);
      t && t.then((n) => {
        this.asyncQueue.enqueueAndForget(() => e.commit().then(() => {
          this.deferred.resolve(n);
        }).catch((i) => {
          this.Dt(i);
        }));
      }).catch((n) => {
        this.Dt(n);
      });
    });
  }
  Nt(e) {
    try {
      const t = this.updateFunction(e);
      return !C2(t) && t.catch && t.then ? t : (this.deferred.reject(Error("Transaction callback must return a Promise")), null);
    } catch (t) {
      return this.deferred.reject(t), null;
    }
  }
  Dt(e) {
    this.Rt > 0 && this.$t(e) ? (this.Rt -= 1, this.asyncQueue.enqueueAndForget(() => (this.Vt(), Promise.resolve()))) : this.deferred.reject(e);
  }
  $t(e) {
    if (e.name === "FirebaseError") {
      const t = e.code;
      return t === "aborted" || t === "failed-precondition" || !function(n) {
        switch (n) {
          default:
            return Ne();
          case fp:
          case jo:
          case m2:
          case x2:
          case y2:
          case w2:
          case ju:
            return !1;
          case ie:
          case dp:
          case SR:
          case b2:
          case Ei:
          case pp:
          case v2:
          case gp:
          case CR:
            return !0;
        }
      }(t);
    }
    return !1;
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Uf() {
  return typeof document < "u" ? document : null;
}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Mp {
  constructor(e, t, n, i, s) {
    this.asyncQueue = e, this.timerId = t, this.targetTimeMs = n, this.op = i, this.removalCallback = s, this.deferred = new mp(), this.then = this.deferred.promise.then.bind(this.deferred.promise), this.deferred.promise.catch((o) => {
    });
  }
  static createAndSchedule(e, t, n, i, s) {
    const o = Date.now() + n, a = new Mp(e, t, o, i, s);
    return a.start(n), a;
  }
  start(e) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(e) {
    this.timerHandle !== null && (this.clearTimeout(), this.deferred.reject(new J(fp, "Operation cancelled" + (e ? ": " + e : ""))));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() => this.timerHandle !== null ? (this.clearTimeout(), this.op().then((e) => this.deferred.resolve(e))) : Promise.resolve());
  }
  clearTimeout() {
    this.timerHandle !== null && (this.removalCallback(this), clearTimeout(this.timerHandle), this.timerHandle = null);
  }
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class RT {
  constructor() {
    this.xt = Promise.resolve(), this.Ft = [], this.St = !1, this.qt = [], this.Ot = null, this.kt = !1, this.Ct = !1, this.Lt = [], this.Pt = new F2(this, "async_queue_retry"), this.Mt = () => {
      const t = Uf();
      t && to("AsyncQueue", "Visibility state changed to " + t.visibilityState), this.Pt.Z();
    };
    const e = Uf();
    e && typeof e.addEventListener == "function" && e.addEventListener("visibilitychange", this.Mt);
  }
  get isShuttingDown() {
    return this.St;
  }
  enqueueAndForget(e) {
    this.enqueue(e);
  }
  enqueueAndForgetEvenWhileRestricted(e) {
    this.Ut(), this.jt(e);
  }
  enterRestrictedMode(e) {
    if (!this.St) {
      this.St = !0, this.Ct = e || !1;
      const t = Uf();
      t && typeof t.removeEventListener == "function" && t.removeEventListener("visibilitychange", this.Mt);
    }
  }
  enqueue(e) {
    if (this.Ut(), this.St)
      return new Promise(() => {
      });
    const t = new mp();
    return this.jt(() => this.St && this.Ct ? Promise.resolve() : (e().then(t.resolve, t.reject), t.promise)).then(() => t.promise);
  }
  enqueueRetryable(e) {
    this.enqueueAndForget(() => (this.Ft.push(e), this.Bt()));
  }
  async Bt() {
    if (this.Ft.length !== 0) {
      try {
        await this.Ft[0](), this.Ft.shift(), this.Pt.reset();
      } catch (e) {
        if (!function(t) {
          return t.name === "IndexedDbTransactionError";
        }(e))
          throw e;
        to("AsyncQueue", "Operation failed with retryable error: " + e);
      }
      this.Ft.length > 0 && this.Pt.J(() => this.Bt());
    }
  }
  jt(e) {
    const t = this.xt.then(() => (this.kt = !0, e().catch((n) => {
      this.Ot = n, this.kt = !1;
      const i = function(s) {
        let o = s.message || "";
        return s.stack && (o = s.stack.includes(s.message) ? s.stack : s.message + `
` + s.stack), o;
      }(n);
      throw wh("INTERNAL UNHANDLED ERROR: ", i), n;
    }).then((n) => (this.kt = !1, n))));
    return this.xt = t, t;
  }
  enqueueAfterDelay(e, t, n) {
    this.Ut(), this.Lt.indexOf(e) > -1 && (t = 0);
    const i = Mp.createAndSchedule(this, e, t, n, (s) => this.Qt(s));
    return this.qt.push(i), i;
  }
  Ut() {
    this.Ot && Ne();
  }
  verifyOperationInProgress() {
  }
  async zt() {
    let e;
    do
      e = this.xt, await e;
    while (e !== this.xt);
  }
  Gt(e) {
    for (const t of this.qt)
      if (t.timerId === e)
        return !0;
    return !1;
  }
  Wt(e) {
    return this.zt().then(() => {
      this.qt.sort((t, n) => t.targetTimeMs - n.targetTimeMs);
      for (const t of this.qt)
        if (t.skipDelay(), e !== "all" && t.timerId === e)
          break;
      return this.zt();
    });
  }
  Kt(e) {
    this.Lt.push(e);
  }
  Qt(e) {
    const t = this.qt.indexOf(e);
    this.qt.splice(t, 1);
  }
}
class TT {
  constructor(e, t) {
    this._firestore = e, this._transaction = t, this._dataReader = vo(e);
  }
  get(e) {
    const t = Vs(e, this._firestore), n = new Th(this._firestore);
    return this._transaction.lookup([t._key]).then((i) => {
      if (!i || i.length !== 1)
        return Ne();
      const s = i[0];
      if (s.isFoundDocument())
        return new so(this._firestore, n, s.key, s, t.converter);
      if (s.isNoDocument())
        return new so(this._firestore, n, t._key, null, t.converter);
      throw Ne();
    });
  }
  set(e, t, n) {
    const i = Vs(e, this._firestore), s = Rh(i.converter, t, n), o = kh(this._dataReader, "Transaction.set", i._key, s, i.converter !== null, n);
    return this._transaction.set(i._key, o), this;
  }
  update(e, t, n, ...i) {
    const s = Vs(e, this._firestore);
    let o;
    return o = typeof (t = Ft(t)) == "string" || t instanceof bo ? kp(this._dataReader, "Transaction.update", s._key, t, n, i) : Pp(this._dataReader, "Transaction.update", s._key, t), this._transaction.update(s._key, o), this;
  }
  delete(e) {
    const t = Vs(e, this._firestore);
    return this._transaction.delete(t._key), this;
  }
}
function NM(r, e, t) {
  const n = Di(r = hn(r, Bi)), i = Object.assign(Object.assign({}, PT), t);
  (function(o) {
    if (o.maxAttempts < 1)
      throw new J(ie, "Max attempts must be at least 1");
  })(i);
  const s = new mp();
  return new kT(new RT(), n, i, (o) => e(new TT(r, o)), s).run(), s.promise;
}
(function(r) {
  Ca = r;
})(`${fR}_lite`), Vu(new kc("firestore/lite", (r, { instanceIdentifier: e, options: t }) => {
  const n = r.getProvider("app").getImmediate(), i = new Bi(new PR(r.getProvider("auth-internal")), new IR(r.getProvider("app-check-internal")), function(s, o) {
    if (!Object.prototype.hasOwnProperty.apply(s.options, ["projectId"]))
      throw new J(ie, '"projectId" not provided in firebase.initializeApp.');
    return new Tc(s.options.projectId, o);
  }(n, e), n);
  return t && i._setSettings(t), i;
}, "PUBLIC").setMultipleInstances(!0)), Vo("firestore-lite", "3.7.2", ""), Vo("firestore-lite", "3.7.2", "esm2017");
const IT = {
  apiKey: G7,
  authDomain: "kolektivo-36b63.firebaseapp.com",
  projectId: "kolektivo-36b63",
  storageBucket: "kolektivo-36b63.appspot.com",
  messagingSenderId: "324595180464",
  appId: "1:324595180464:web:69e6b83cdba3bf2d30ac75",
  measurementId: "G-7BSHV1Y6VS"
};
var MT = "firebase", OT = "9.13.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Vo(MT, OT, "app");
const NT = "Kolektivo Tokenlist", DT = "2022-08-16T22:25:12+00:00", BT = {
  major: 1,
  minor: 2,
  patch: 0
}, $T = [
  "kolektivo",
  "tokens"
], LT = [
  {
    address: "0xEAc68B2e33fA3dbde9bABf3edF17ed3437f3D992",
    chainId: 44787,
    name: "Kolektivo Treasury Token",
    symbol: "KTT",
    decimals: 18,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/ktt.svg"
  },
  {
    address: "0x799aC807A4163899c09086A6C69490f6AecD65Cb",
    chainId: 44787,
    name: "Kolektivo Curacao Token",
    symbol: "kCUR",
    decimals: 18,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/kcur.svg"
  },
  {
    address: "0x8E7Af361418CDAb43333c6Bd0fA6906285C0E272",
    chainId: 44787,
    name: "Test Token #1",
    symbol: "TT1",
    decimals: 18,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/tt1.svg"
  },
  {
    address: "0x57f046C697B15D0933605F12152c5d96cB6f9cc5",
    chainId: 44787,
    name: "Test Token #2",
    symbol: "TT2",
    decimals: 18,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/tt1.svg"
  },
  {
    address: "0x32dB9295556D2B5193FD404253a4a3fD206B754b",
    chainId: 44787,
    name: "Test Token #3",
    symbol: "TT3",
    decimals: 18,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/tt1.svg"
  },
  {
    address: "0x3d088f32d7d83FD7868620f76C80604106b74702",
    chainId: 44787,
    name: "GeoNFT #1",
    symbol: "GEO1",
    decimals: 1,
    id: 1,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/geo1.svg"
  },
  {
    address: "0x3d088f32d7d83FD7868620f76C80604106b74702",
    chainId: 44787,
    name: "GeoNFT #2",
    symbol: "GEO2",
    decimals: 1,
    id: 2,
    logoURI: "https://gateway.pinata.cloud/ipfs/QmcRYtXPMK54EtwzPqP3Bs59x7oQzNN8X5X3oMZFHe1SBj/geo1.svg"
  }
], FT = {
  name: NT,
  timestamp: DT,
  version: BT,
  keywords: $T,
  tokens: LT
};
var er = /* @__PURE__ */ ((r) => (r[r.minute = 0] = "minute", r[r.hour = 1] = "hour", r[r.day = 2] = "day", r))(er || {});
const Vf = pe.createContainer().register(fe.instance(Kw, f2(IT))).register(fe.instance(ep, {})).register(Xo).register(Yo).register(fe.instance(Vw, {})).register(fe.instance(Uw, {})).register(fe.instance(xh, { lsGet: () => "", lsSet: () => "" })).register(Sc).register(Du).register(ea).register(Bu).register(i_()).register(ch).register(Pc).register(ta).register(
  fe.instance(Hw, {
    tokens: FT.tokens
  })
).register(_c).register(fe.instance(go, { uf: (r) => Number(r) })).register(
  fe.instance(ao, {}),
  fe.instance(Zu, {}),
  fe.instance(oo, {
    scopeTo: () => {
    }
  })
), UT = async () => {
  let r = !1;
  const e = 5, t = 1, n = 1;
  let i = "";
  const s = Vf.get(r2);
  let o = "", a = 0, c = 0, l = 0, f = 0, p = 0, b = 0, w = 0, A = 0, C = 0, S, k = 0, O = 0, L = 0, B = 0, N = 0;
  const q = await Vf.get(Z0).connect(), K = Object.values(er).filter((y) => typeof y == "number").map((y) => y), X = async (y) => {
    const E = o1(q, `chartData/lastSync/${y}`);
    return (await l1(E)).docs[0]?.id;
  }, ce = async (y, E, P) => {
    P && await ST(Xl(q, `chartData/lastSync/${y}/${P}`)), await u1(Xl(q, `chartData/lastSync/${y}`, E.toString()), {});
  }, ee = async (y, E, P, R) => {
    let m = R;
    typeof m != "object" && (m = { value: R }), m.createdAt = P, await u1(Xl(q, `chartData/${y}/${E}`, P.toString()), m);
  }, be = async (y, E, P) => {
    const R = ET(q);
    (await l1(vT(o1(q, `chartData/${y}/${E}`), wT("createdAt", "<", P)))).forEach((h) => R.delete(h.ref)), await R.commit();
  }, _ = async () => (await (await Vf.get(i2).getTreasuryContract()).totalValuation()).toHexString(), u = async () => {
    await s.loadAssets(), await s.loadkCur();
  }, g = (y) => {
    const E = new Date();
    switch (y) {
      case 0:
        E.setMinutes(E.getMinutes() - 60, 0, 0);
        break;
      case 1:
        E.setHours(E.getHours() - 24, 0, 0, 0);
        break;
      case 2:
        return Number.MIN_VALUE;
    }
    return E.getTime();
  }, x = async () => {
    i = await _(), await u(), o = s.reserveValue?.toHexString() ?? "", a = s.currentLeverageRatio, c = s.maxLeverageRatio, l = s.kCurPrice ?? 0, f = s.kCurPriceCeiling, p = s.kCurPriceFloor, b = s.kCurReserveDistribution ?? 0, w = s.kCurMentoDistribution ?? 0, A = s.kCurPrimaryPoolDistribution ?? 0, C = s.kCurCirculatingDistribution, k = s.minCollateralizationValue, O = s.kCurTotalValue, L = s.lowRiskAssets.map((y) => y.total).sum(), B = s.moderateRiskAssets.map((y) => y.total).sum(), N = s.highRiskAssets.map((y) => y.total).sum();
  };
  await Promise.all(
    K.map(async (y) => {
      const E = await X(er[y]), P = new Date();
      let R = new Date();
      if (E && (R = new Date(Number(E))), y === 0 ? (R.setUTCMinutes(R.getUTCMinutes() + e), R.setUTCSeconds(0, 0)) : y === 1 ? (R.setUTCHours(R.getUTCHours() + t), R.setUTCMinutes(0, 0, 0)) : (R.setUTCDate(R.getUTCDate() + n), R.setUTCHours(0, 0, 0, 0)), P >= R || !E) {
        let m = new Date();
        if (y === 0) {
          const h = 6e4 * e;
          m = new Date(Math.floor(P.getTime() / h) * h);
        } else
          y === 1 ? m.setUTCMinutes(0, 0, 0) : m.setUTCHours(0, 0, 0, 0);
        r || (r = !0, S = x()), S?.then(async () => {
          await ee("kCurPrice", er[y], m.getTime(), { kCurPrice: l, kCurPriceCeiling: f, kCurPriceFloor: p }), await ee("kCurRatio", er[y], m.getTime(), { currentLeverageRatio: a, maxLeverageRatio: c }), await ee("kCurSupply", er[y], m.getTime(), {
            kCurReserveDistribution: b,
            kCurMentoDistribution: w,
            kCurPrimaryPoolDistribution: A,
            kCurCirculatingDistribution: C
          }), await ee("ktt", er[y], m.getTime(), i), await ee("reserve", er[y], m.getTime(), o), await ee("risk", er[y], m.getTime(), {
            minCollateralValue: k,
            marketCap: O,
            lowRisk: L,
            moderateRisk: B,
            highRisk: N
          }), await ce(er[y], m.getTime(), E);
          const h = g(y);
          await be("kCurPrice", er[y], h), await be("kCurRatio", er[y], h), await be("kCurSupply", er[y], h), await be("ktt", er[y], h), await be("reserve", er[y], h), await be("risk", er[y], h);
        });
      }
    })
  );
};
await UT();
export {
  xo as $,
  Xl as A,
  OM as B,
  kM as C,
  mM as D,
  Cn as E,
  u1 as F,
  lM as G,
  xT as H,
  o1 as I,
  wM as J,
  yM as K,
  RM as L,
  TM as M,
  bo as N,
  _M as O,
  V2 as P,
  CT as Q,
  gM as R,
  fM as S,
  pM as T,
  J as U,
  na as V,
  EM as W,
  wT as X,
  ET as Y,
  TT as Z,
  lT as _,
  Wr as a,
  UT as a0,
  an as b,
  IM as c,
  SM as d,
  AM as e,
  Bi as f,
  CM as g,
  cl as h,
  so as i,
  MM as j,
  PM as k,
  l1 as l,
  cT as m,
  uM as n,
  Q2 as o,
  xM as p,
  ST as q,
  vM as r,
  bM as s,
  vT as t,
  Fd as u,
  Ht as v,
  hM as w,
  Ep as x,
  dM as y,
  NM as z
};
